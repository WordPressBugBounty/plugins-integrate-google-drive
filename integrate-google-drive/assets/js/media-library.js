(()=>{var e={5606:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var l,c=[],s=!1,d=-1;function u(){s&&l&&(s=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!s){var e=a(u);s=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,s=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||s||a(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},6942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=React;var t=n.n(e);function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}const o=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o};var i=n(5606);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var c=(0,e.createContext)({});function s(){return(0,e.useContext)(c)}var d=function(e){return t().createElement(c.Provider,{value:e.refTracker},e.children)};function u(){var e=new Map;return{on:function(t,n){var r;return e.has(t)?null==(r=e.get(t))||r.add(n):e.set(t,new Set([n])),this},off:function(t,n){return n?e.get(t).delete(n):e.delete(t),this},emit:function(t,n){if("production"!==i.env.NODE){var r=t;e.has(t)||0===r||console.error("It seems that the menu you are trying to display is not renderer or you have a menu id mismatch.","You used the menu id: "+t)}return e.has(t)&&e.get(t).forEach((function(e){e(n)})),this}}}var f=u();function m(){return(0,e.useRef)(new Map).current}var p=function(e){var t=e.id,n=e.event,r=e.props,o=e.position;n.preventDefault&&n.preventDefault(),f.emit(0).emit(t,{event:n.nativeEvent||n,props:r,position:o})},g=function(){f.emit(0)};function v(e){return{show:function(t,n){p({id:(null==n?void 0:n.id)||(null==e?void 0:e.id),props:(null==n?void 0:n.props)||(null==e?void 0:e.props),event:t,position:null==n?void 0:n.position})},hideAll:function(){g()}}}function h(){var e,t,n,r,o=new Map,i=!1;function a(){r[e].node.focus()}function l(){return-1!==e||(c(),!1)}function c(){e+1<r.length?e++:e+1===r.length&&(e=0),i&&s(),a()}function s(){if(l()&&!n){var c=o.get(t),s=c.isRoot,d=c.items,u=c.focusedIndex,f=c.parentNode;t.classList.remove("react-contexify__submenu--is-open"),r=d,t=f,s&&(n=!0,o.clear()),i||(e=u,a())}}return{init:function(t){r=t,e=-1,n=!0},moveDown:c,moveUp:function(){-1===e||0===e?e=r.length-1:e-1<r.length&&e--,i&&s(),a()},openSubmenu:function(){if(l()&&e>=0&&r[e].isSubmenu){var c=Array.from(r[e].submenuRefTracker.values()),s=r[e].node;return o.set(s,{isRoot:n,focusedIndex:e,parentNode:t||s,items:r}),s.classList.add("react-contexify__submenu--is-open"),t=s,c.length>0?(e=0,r=c):i=!0,n=!1,a(),!0}return!1},closeSubmenu:s}}var y="fade",w=function(){};function b(e){return"function"==typeof e}function A(e){return"string"==typeof e}function _(t,n){return e.Children.map(e.Children.toArray(t).filter(Boolean),(function(t){return(0,e.cloneElement)(t,n)}))}function E(e,t){return b(e)?e(t):e}function S(e,t){return b(t)?a({},e,t(e)):a({},e,t)}var R=function(n){var r,i,c,s=n.id,u=n.theme,p=n.style,g=n.className,v=n.children,y=n.animation,b=void 0===y?"scale":y,E=n.onHidden,R=void 0===E?w:E,x=n.onShown,O=void 0===x?w:x,k=l(n,["id","theme","style","className","children","animation","onHidden","onShown"]),F=(0,e.useReducer)(S,{x:0,y:0,visible:!1,triggerEvent:{},propsFromTrigger:null,willLeave:!1}),C=F[0],T=F[1],j=(0,e.useRef)(null),L=(0,e.useRef)(!1),U=(i=C.visible,c=(0,e.useRef)(),(0,e.useEffect)((function(){c.current=i}),[i]),c.current),N=m(),B=(0,e.useState)((function(){return h()}))[0];function D(e){var t=e.event,n=e.props,r=e.position;t.stopPropagation();var o=r||function(e){var t={x:0,y:0};return function(e){return"touchend"===e.type}(e)&&e.changedTouches&&e.changedTouches.length>0?(t.x=e.changedTouches[0].clientX,t.y=e.changedTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),(!t.x||t.x<0)&&(t.x=0),(!t.y||t.y<0)&&(t.y=0),t}(t),i=o.x,a=o.y;setTimeout((function(){T({visible:!0,willLeave:!1,x:i,y:a,triggerEvent:t,propsFromTrigger:n})}),0)}function P(e){var t=e;(void 0===t||2!==t.button&&!0!==t.ctrlKey||"contextmenu"===t.type)&&(!function(e){return!(!e||!(A(e)||"exit"in e&&e.exit))}(b)?T((function(e){return{visible:!e.visible&&e.visible}})):T((function(e){return{willLeave:e.visible}})))}(0,e.useEffect)((function(){return L.current=!0,f.on(s,D).on(0,P),function(){f.off(s,D).off(0,P)}}),[s]),(0,e.useEffect)((function(){L.current&&C.visible!==U&&(C.visible?O():R())}),[C.visible,R,O]),(0,e.useEffect)((function(){C.visible?B.init(Array.from(N.values())):N.clear()}),[C.visible,B,N]),(0,e.useEffect)((function(){if(C.visible){var e=window,t=e.innerWidth,n=e.innerHeight,r=j.current,o=r.offsetWidth,i=r.offsetHeight,a=C.x,l=C.y;a+o>t&&(a-=a+o-t),l+i>n&&(l-=l+i-n),T({x:a,y:l})}}),[C.visible]),(0,e.useEffect)((function(){function e(e){switch(e.preventDefault(),e.key){case"Enter":B.openSubmenu()||P();break;case"Escape":P();break;case"ArrowUp":B.moveUp();break;case"ArrowDown":B.moveDown();break;case"ArrowRight":B.openSubmenu();break;case"ArrowLeft":B.closeSubmenu()}}return C.visible&&(window.addEventListener("resize",P),window.addEventListener("contextmenu",P),window.addEventListener("click",P),window.addEventListener("scroll",P),window.addEventListener("keydown",e),window.addEventListener("blur",P)),function(){window.removeEventListener("resize",P),window.removeEventListener("contextmenu",P),window.removeEventListener("click",P),window.removeEventListener("scroll",P),window.removeEventListener("keydown",e),window.removeEventListener("blur",P)}}),[C.visible,B]);var I,M,K=C.visible,Q=C.triggerEvent,W=C.propsFromTrigger,H=C.x,J=C.y,z=C.willLeave,q=o("react-contexify",g,((r={})["react-contexify__theme--"+u]=u,r),b?A(b)?o(((I={})["react-contexify__will-enter--"+b]=b&&K&&!z,I["react-contexify__will-leave--"+b+" react-contexify__will-leave--'disabled'"]=b&&K&&z,I)):"enter"in b&&"exit"in b?o(((M={})["react-contexify__will-enter--"+b.enter]=b.enter&&K&&!z,M["react-contexify__will-leave--"+b.exit+" react-contexify__will-leave--'disabled'"]=b.exit&&K&&z,M)):null:null),G=a({},p,{left:H,top:J,opacity:1});return t().createElement(d,{refTracker:N},K&&t().createElement("div",Object.assign({},k,{className:q,onAnimationEnd:function(){C.willLeave&&C.visible&&T({visible:!1,willLeave:!1})},style:G,ref:j,role:"menu"}),_(v,{propsFromTrigger:W,triggerEvent:Q})))},x=function(e){var n,r=e.children,i=e.className,a=e.style,c=e.triggerEvent,d=e.data,u=e.propsFromTrigger,f=e.onClick,m=void 0===f?w:f,p=e.disabled,g=void 0!==p&&p,v=e.hidden,h=void 0!==v&&v,y=l(e,["children","className","style","triggerEvent","data","propsFromTrigger","onClick","disabled","hidden"]),b=s(),A={data:d,triggerEvent:c,props:u},_=E(g,A);if(E(h,A))return null;var S=o("react-contexify__item",i,((n={})["react-contexify__item--disabled"]=_,n));return t().createElement("div",Object.assign({},y,{className:S,style:a,onClick:function(e){A.event=e,_?e.stopPropagation():m(A)},onKeyDown:function(e){"Enter"===e.key&&(A.event=e,m(A))},ref:function(e){e&&!_&&b.set(e,{node:e,isSubmenu:!1})},tabIndex:-1,role:"menuitem","aria-disabled":_}),t().createElement("div",{className:"react-contexify__item__content"},r))};const O=Math.min,k=Math.max,F=Math.round,C=Math.floor,T=e=>({x:e,y:e}),j={left:"right",right:"left",bottom:"top",top:"bottom"},L={start:"end",end:"start"};function U(e,t,n){return k(e,O(t,n))}function N(e,t){return"function"==typeof e?e(t):e}function B(e){return e.split("-")[0]}function D(e){return e.split("-")[1]}function P(e){return"x"===e?"y":"x"}function I(e){return"y"===e?"height":"width"}function M(e){return["top","bottom"].includes(B(e))?"y":"x"}function K(e){return P(M(e))}function Q(e){return e.replace(/start|end/g,(e=>L[e]))}function W(e){return e.replace(/left|right|bottom|top/g,(e=>j[e]))}function H(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function J(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function z(e,t,n){let{reference:r,floating:o}=e;const i=M(t),a=K(t),l=I(a),c=B(t),s="y"===i,d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,f=r[l]/2-o[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:u};break;case"left":m={x:r.x-o.width,y:u};break;default:m={x:r.x,y:r.y}}switch(D(t)){case"start":m[a]-=f*(n&&s?-1:1);break;case"end":m[a]+=f*(n&&s?-1:1)}return m}async function q(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:s="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:f=!1,padding:m=0}=N(t,e),p=H(m),g=l[f?"floating"===u?"reference":"floating":u],v=J(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(g)))||n?g:g.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(l.floating)),boundary:s,rootBoundary:d,strategy:c})),h="floating"===u?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(l.floating)),w=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},b=J(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:h,offsetParent:y,strategy:c}):h);return{top:(v.top-b.top+p.top)/w.y,bottom:(b.bottom-v.bottom+p.bottom)/w.y,left:(v.left-b.left+p.left)/w.x,right:(b.right-v.right+p.right)/w.x}}function G(){return"undefined"!=typeof window}function X(e){return Z(e)?(e.nodeName||"").toLowerCase():"#document"}function V(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Y(e){var t;return null==(t=(Z(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Z(e){return!!G()&&(e instanceof Node||e instanceof V(e).Node)}function $(e){return!!G()&&(e instanceof Element||e instanceof V(e).Element)}function ee(e){return!!G()&&(e instanceof HTMLElement||e instanceof V(e).HTMLElement)}function te(e){return!(!G()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof V(e).ShadowRoot)}function ne(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ce(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function re(e){return["table","td","th"].includes(X(e))}function oe(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function ie(e){const t=ae(),n=$(e)?ce(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function ae(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function le(e){return["html","body","#document"].includes(X(e))}function ce(e){return V(e).getComputedStyle(e)}function se(e){return $(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function de(e){if("html"===X(e))return e;const t=e.assignedSlot||e.parentNode||te(e)&&e.host||Y(e);return te(t)?t.host:t}function ue(e){const t=de(e);return le(t)?e.ownerDocument?e.ownerDocument.body:e.body:ee(t)&&ne(t)?t:ue(t)}function fe(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=ue(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),a=V(o);if(i){const e=me(a);return t.concat(a,a.visualViewport||[],ne(o)?o:[],e&&n?fe(e):[])}return t.concat(o,fe(o,[],n))}function me(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pe(e){const t=ce(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ee(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,l=F(n)!==i||F(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function ge(e){return $(e)?e:e.contextElement}function ve(e){const t=ge(e);if(!ee(t))return T(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=pe(t);let a=(i?F(n.width):n.width)/r,l=(i?F(n.height):n.height)/o;return a&&Number.isFinite(a)||(a=1),l&&Number.isFinite(l)||(l=1),{x:a,y:l}}const he=T(0);function ye(e){const t=V(e);return ae()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:he}function we(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),i=ge(e);let a=T(1);t&&(r?$(r)&&(a=ve(r)):a=ve(e));const l=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==V(e))&&t}(i,n,r)?ye(i):T(0);let c=(o.left+l.x)/a.x,s=(o.top+l.y)/a.y,d=o.width/a.x,u=o.height/a.y;if(i){const e=V(i),t=r&&$(r)?V(r):r;let n=e,o=me(n);for(;o&&r&&t!==n;){const e=ve(o),t=o.getBoundingClientRect(),r=ce(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,s*=e.y,d*=e.x,u*=e.y,c+=i,s+=a,n=V(o),o=me(n)}}return J({width:d,height:u,x:c,y:s})}function be(e,t){const n=se(e).scrollLeft;return t?t.left+n:we(Y(e)).left+n}function Ae(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:be(e,r)),y:r.top+t.scrollTop}}function _e(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=V(e),r=Y(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(o){i=o.width,a=o.height;const e=ae();(!e||e&&"fixed"===t)&&(l=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:l,y:c}}(e,n);else if("document"===t)r=function(e){const t=Y(e),n=se(e),r=e.ownerDocument.body,o=k(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=k(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+be(e);const l=-n.scrollTop;return"rtl"===ce(r).direction&&(a+=k(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:l}}(Y(e));else if($(t))r=function(e,t){const n=we(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=ee(e)?ve(e):T(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:r*i.y}}(t,n);else{const n=ye(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return J(r)}function Ee(e,t){const n=de(e);return!(n===t||!$(n)||le(n))&&("fixed"===ce(n).position||Ee(n,t))}function Se(e,t,n){const r=ee(t),o=Y(t),i="fixed"===n,a=we(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=T(0);if(r||!r&&!i)if(("body"!==X(t)||ne(o))&&(l=se(t)),r){const e=we(t,!0,i,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else o&&(c.x=be(o));const s=!o||r||i?T(0):Ae(o,l);return{x:a.left+l.scrollLeft-c.x-s.x,y:a.top+l.scrollTop-c.y-s.y,width:a.width,height:a.height}}function Re(e){return"static"===ce(e).position}function xe(e,t){if(!ee(e)||"fixed"===ce(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Y(e)===n&&(n=n.ownerDocument.body),n}function Oe(e,t){const n=V(e);if(oe(e))return n;if(!ee(e)){let t=de(e);for(;t&&!le(t);){if($(t)&&!Re(t))return t;t=de(t)}return n}let r=xe(e,t);for(;r&&re(r)&&Re(r);)r=xe(r,t);return r&&le(r)&&Re(r)&&!ie(r)?n:r||function(e){let t=de(e);for(;ee(t)&&!le(t);){if(ie(t))return t;if(oe(t))return null;t=de(t)}return null}(e)||n}const ke={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i="fixed"===o,a=Y(r),l=!!t&&oe(t.floating);if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},s=T(1);const d=T(0),u=ee(r);if((u||!u&&!i)&&(("body"!==X(r)||ne(a))&&(c=se(r)),ee(r))){const e=we(r);s=ve(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}const f=!a||u||i?T(0):Ae(a,c,!0);return{width:n.width*s.x,height:n.height*s.y,x:n.x*s.x-c.scrollLeft*s.x+d.x+f.x,y:n.y*s.y-c.scrollTop*s.y+d.y+f.y}},getDocumentElement:Y,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[..."clippingAncestors"===n?oe(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=fe(e,[],!1).filter((e=>$(e)&&"body"!==X(e))),o=null;const i="fixed"===ce(e).position;let a=i?de(e):e;for(;$(a)&&!le(a);){const t=ce(a),n=ie(a);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||ne(a)&&!n&&Ee(e,a))?r=r.filter((e=>e!==a)):o=t,a=de(a)}return t.set(e,r),r}(t,this._c):[].concat(n),r],a=i[0],l=i.reduce(((e,n)=>{const r=_e(t,n,o);return e.top=k(r.top,e.top),e.right=O(r.right,e.right),e.bottom=O(r.bottom,e.bottom),e.left=k(r.left,e.left),e}),_e(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:Oe,getElementRects:async function(e){const t=this.getOffsetParent||Oe,n=this.getDimensions,r=await n(e.floating);return{reference:Se(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=pe(e);return{width:t,height:n}},getScale:ve,isElement:$,isRTL:function(e){return"rtl"===ce(e).direction}};function Fe(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ce(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:c=!1}=r,s=ge(e),d=o||i?[...s?fe(s):[],...fe(t)]:[];d.forEach((e=>{o&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)}));const u=s&&l?function(e,t){let n,r=null;const o=Y(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(l,c){void 0===l&&(l=!1),void 0===c&&(c=1),i();const s=e.getBoundingClientRect(),{left:d,top:u,width:f,height:m}=s;if(l||t(),!f||!m)return;const p={rootMargin:-C(u)+"px "+-C(o.clientWidth-(d+f))+"px "+-C(o.clientHeight-(u+m))+"px "+-C(d)+"px",threshold:k(0,O(1,c))||1};let g=!0;function v(t){const r=t[0].intersectionRatio;if(r!==c){if(!g)return a();r?a(!1,r):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}1!==r||Fe(s,e.getBoundingClientRect())||a(),g=!1}try{r=new IntersectionObserver(v,{...p,root:o.ownerDocument})}catch(e){r=new IntersectionObserver(v,p)}r.observe(e)}(!0),i}(s,n):null;let f,m=-1,p=null;a&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===s&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),s&&!c&&p.observe(s),p.observe(t));let g=c?we(e):null;return c&&function t(){const r=we(e);g&&!Fe(g,r)&&n();g=r,f=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach((e=>{o&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)})),null==u||u(),null==(e=p)||e.disconnect(),p=null,c&&cancelAnimationFrame(f)}}const Te=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:l}=t,c=await async function(e,t){const{placement:n,platform:r,elements:o}=e,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),a=B(n),l=D(n),c="y"===M(n),s=["left","top"].includes(a)?-1:1,d=i&&c?-1:1,u=N(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:p}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&"number"==typeof p&&(m="end"===l?-1*p:p),c?{x:m*d,y:f*s}:{x:f*s,y:m*d}}(t,e);return a===(null==(n=l.offset)?void 0:n.placement)&&null!=(r=l.arrow)&&r.alignmentOffset?{}:{x:o+c.x,y:i+c.y,data:{...c,placement:a}}}}},je=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=N(e,t),s={x:n,y:r},d=await q(t,c),u=M(B(o)),f=P(u);let m=s[f],p=s[u];if(i){const e="y"===f?"bottom":"right";m=U(m+d["y"===f?"top":"left"],m,m-d[e])}if(a){const e="y"===u?"bottom":"right";p=U(p+d["y"===u?"top":"left"],p,p-d[e])}const g=l.fn({...t,[f]:m,[u]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[u]:a}}}}}},Le=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:s}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=N(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const h=B(o),y=M(l),w=B(l)===l,b=await(null==c.isRTL?void 0:c.isRTL(s.floating)),A=f||(w||!g?[W(l)]:function(e){const t=W(e);return[Q(e),t,Q(t)]}(l)),_="none"!==p;!f&&_&&A.push(...function(e,t,n,r){const o=D(e);let i=function(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:a;default:return[]}}(B(e),"start"===n,r);return o&&(i=i.map((e=>e+"-"+o)),t&&(i=i.concat(i.map(Q)))),i}(l,g,p,b));const E=[l,...A],S=await q(t,v),R=[];let x=(null==(r=i.flip)?void 0:r.overflows)||[];if(d&&R.push(S[h]),u){const e=function(e,t,n){void 0===n&&(n=!1);const r=D(e),o=K(e),i=I(o);let a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=W(a)),[a,W(a)]}(o,a,b);R.push(S[e[0]],S[e[1]])}if(x=[...x,{placement:o,overflows:R}],!R.every((e=>e<=0))){var O,k;const e=((null==(O=i.flip)?void 0:O.index)||0)+1,t=E[e];if(t)return{data:{index:e,overflows:x},reset:{placement:t}};let n=null==(k=x.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:k.placement;if(!n)switch(m){case"bestFit":{var F;const e=null==(F=x.filter((e=>{if(_){const t=M(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:F[0];e&&(n=e);break}case"initialPlacement":n=l}if(o!==n)return{reset:{placement:n}}}return{}}}},Ue=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:s,padding:d=0}=N(e,t)||{};if(null==s)return{};const u=H(d),f={x:n,y:r},m=K(o),p=I(m),g=await a.getDimensions(s),v="y"===m,h=v?"top":"left",y=v?"bottom":"right",w=v?"clientHeight":"clientWidth",b=i.reference[p]+i.reference[m]-f[m]-i.floating[p],A=f[m]-i.reference[m],_=await(null==a.getOffsetParent?void 0:a.getOffsetParent(s));let E=_?_[w]:0;E&&await(null==a.isElement?void 0:a.isElement(_))||(E=l.floating[w]||i.floating[p]);const S=b/2-A/2,R=E/2-g[p]/2-1,x=O(u[h],R),k=O(u[y],R),F=x,C=E-g[p]-k,T=E/2-g[p]/2+S,j=U(F,T,C),L=!c.arrow&&null!=D(o)&&T!==j&&i.reference[p]/2-(T<F?x:k)-g[p]/2<0,B=L?T<F?T-F:T-C:0;return{[m]:f[m]+B,data:{[m]:j,centerOffset:T-j-B,...L&&{alignmentOffset:B}},reset:L}}}),Ne=(e,t,n)=>{const r=new Map,o={platform:ke,...n},i={...o.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(null==a.isRTL?void 0:a.isRTL(t));let s=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:u}=z(s,r,c),f=r,m={},p=0;for(let n=0;n<l.length;n++){const{name:i,fn:g}=l[n],{x:v,y:h,data:y,reset:w}=await g({x:d,y:u,initialPlacement:r,placement:f,strategy:o,middlewareData:m,rects:s,platform:a,elements:{reference:e,floating:t}});d=null!=v?v:d,u=null!=h?h:u,m={...m,[i]:{...m[i],...y}},w&&p<=50&&(p++,"object"==typeof w&&(w.placement&&(f=w.placement),w.rects&&(s=!0===w.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):w.rects),({x:d,y:u}=z(s,f,c))),n=-1)}return{x:d,y:u,placement:f,strategy:o,middlewareData:m}})(e,t,{...o,platform:i})};var Be=n(6942),De=n(5606);const Pe="react-tooltip-core-styles",Ie="react-tooltip-base-styles",Me={core:!1,base:!1};function Ke({css:e,id:t=Ie,type:n="base",ref:r}){var o,i;if(!e||"undefined"==typeof document||Me[n])return;if("core"===n&&void 0!==De&&(null===(o=null==De?void 0:De.env)||void 0===o?void 0:o.REACT_TOOLTIP_DISABLE_CORE_STYLES))return;if("base"!==n&&void 0!==De&&(null===(i=null==De?void 0:De.env)||void 0===i?void 0:i.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;"core"===n&&(t=Pe),r||(r={});const{insertAt:a}=r;if(document.getElementById(t))return;const l=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.id=t,c.type="text/css","top"===a&&l.firstChild?l.insertBefore(c,l.firstChild):l.appendChild(c),c.styleSheet?c.styleSheet.cssText=e:c.appendChild(document.createTextNode(e)),Me[n]=!0}const Qe=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:o=10,strategy:i="absolute",middlewares:a=[Te(Number(o)),Le({fallbackAxisSideDirection:"start"}),je({padding:5})],border:l})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(null===t)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const c=a;return n?(c.push(Ue({element:n,padding:5})),Ne(e,t,{placement:r,strategy:i,middleware:c}).then((({x:e,y:t,placement:n,middlewareData:r})=>{var o,i;const a={left:`${e}px`,top:`${t}px`,border:l},{x:c,y:s}=null!==(o=r.arrow)&&void 0!==o?o:{x:0,y:0},d=null!==(i={top:"bottom",right:"left",bottom:"top",left:"right"}[n.split("-")[0]])&&void 0!==i?i:"bottom",u=l&&{borderBottom:l,borderRight:l};let f=0;if(l){const e=`${l}`.match(/(\d+)px/);f=(null==e?void 0:e[1])?Number(e[1]):1}return{tooltipStyles:a,tooltipArrowStyles:{left:null!=c?`${c}px`:"",top:null!=s?`${s}px`:"",right:"",bottom:"",...u,[d]:`-${4+f}px`},place:n}}))):Ne(e,t,{placement:"bottom",strategy:i,middleware:c}).then((({x:e,y:t,placement:n})=>({tooltipStyles:{left:`${e}px`,top:`${t}px`},tooltipArrowStyles:{},place:n})))},We=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),He=(e,t,n)=>{let r=null;const o=function(...o){const i=()=>{r=null,n||e.apply(this,o)};n&&!r&&(e.apply(this,o),r=setTimeout(i,t)),n||(r&&clearTimeout(r),r=setTimeout(i,t))};return o.cancel=()=>{r&&(clearTimeout(r),r=null)},o},Je=e=>null!==e&&!Array.isArray(e)&&"object"==typeof e,ze=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((e,n)=>ze(e,t[n])));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!Je(e)||!Je(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((n=>ze(e[n],t[n])))},qe=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some((e=>{const n=t.getPropertyValue(e);return"auto"===n||"scroll"===n}))},Ge=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(qe(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},Xe="undefined"!=typeof window?e.useLayoutEffect:e.useEffect,Ve=e=>{e.current&&(clearTimeout(e.current),e.current=null)},Ye="DEFAULT_TOOLTIP_ID",Ze={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},$e=(0,e.createContext)({getTooltipData:()=>Ze});function et(t=Ye){return(0,e.useContext)($e).getTooltipData(t)}var tt={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},nt={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const rt=({forwardRef:t,id:n,className:r,classNameArrow:o,variant:i="dark",anchorId:a,anchorSelect:l,place:c="top",offset:s=10,events:d=["hover"],openOnClick:u=!1,positionStrategy:f="absolute",middlewares:m,wrapper:p,delayShow:g=0,delayHide:v=0,float:h=!1,hidden:y=!1,noArrow:w=!1,clickable:b=!1,closeOnEsc:A=!1,closeOnScroll:_=!1,closeOnResize:E=!1,openEvents:S,closeEvents:R,globalCloseEvents:x,imperativeModeOnly:O,style:k,position:F,afterShow:C,afterHide:T,disableTooltip:j,content:L,contentWrapperRef:U,isOpen:N,defaultIsOpen:B=!1,setIsOpen:D,activeAnchor:P,setActiveAnchor:I,border:M,opacity:K,arrowColor:Q,role:W="tooltip"})=>{var H;const J=(0,e.useRef)(null),z=(0,e.useRef)(null),q=(0,e.useRef)(null),G=(0,e.useRef)(null),X=(0,e.useRef)(null),[V,Y]=(0,e.useState)({tooltipStyles:{},tooltipArrowStyles:{},place:c}),[Z,$]=(0,e.useState)(!1),[ee,te]=(0,e.useState)(!1),[ne,re]=(0,e.useState)(null),oe=(0,e.useRef)(!1),ie=(0,e.useRef)(null),{anchorRefs:ae,setActiveAnchor:le}=et(n),ce=(0,e.useRef)(!1),[se,de]=(0,e.useState)([]),ue=(0,e.useRef)(!1),fe=u||d.includes("click"),me=fe||(null==S?void 0:S.click)||(null==S?void 0:S.dblclick)||(null==S?void 0:S.mousedown),pe=S?{...S}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!S&&fe&&Object.assign(pe,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const ge=R?{...R}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!R&&fe&&Object.assign(ge,{mouseleave:!1,blur:!1,mouseout:!1});const ve=x?{...x}:{escape:A||!1,scroll:_||!1,resize:E||!1,clickOutsideAnchor:me||!1};O&&(Object.assign(pe,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(ge,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(ve,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Xe((()=>(ue.current=!0,()=>{ue.current=!1})),[]);const he=e=>{ue.current&&(e&&te(!0),setTimeout((()=>{ue.current&&(null==D||D(e),void 0===N&&$(e))}),10))};(0,e.useEffect)((()=>{if(void 0===N)return()=>null;N&&te(!0);const e=setTimeout((()=>{$(N)}),10);return()=>{clearTimeout(e)}}),[N]),(0,e.useEffect)((()=>{if(Z!==oe.current)if(Ve(X),oe.current=Z,Z)null==C||C();else{const e=(()=>{const e=getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay").match(/^([\d.]+)(ms|s)$/);if(!e)return 0;const[,t,n]=e;return Number(t)*("ms"===n?1:1e3)})();X.current=setTimeout((()=>{te(!1),re(null),null==T||T()}),e+25)}}),[Z]);const ye=e=>{Y((t=>ze(t,e)?t:e))},we=(e=g)=>{Ve(q),ee?he(!0):q.current=setTimeout((()=>{he(!0)}),e)},be=(e=v)=>{Ve(G),G.current=setTimeout((()=>{ce.current||he(!1)}),e)},Ae=e=>{var t;if(!e)return;const n=null!==(t=e.currentTarget)&&void 0!==t?t:e.target;if(!(null==n?void 0:n.isConnected))return I(null),void le({current:null});g?we():he(!0),I(n),le({current:n}),Ve(G)},_e=()=>{b?be(v||100):v?be():he(!1),Ve(q)},Ee=({x:e,y:t})=>{var n;const r={getBoundingClientRect:()=>({x:e,y:t,width:0,height:0,top:t,left:e,right:e,bottom:t})};Qe({place:null!==(n=null==ne?void 0:ne.place)&&void 0!==n?n:c,offset:s,elementReference:r,tooltipReference:J.current,tooltipArrowReference:z.current,strategy:f,middlewares:m,border:M}).then((e=>{ye(e)}))},Se=e=>{if(!e)return;const t=e,n={x:t.clientX,y:t.clientY};Ee(n),ie.current=n},Re=e=>{var t;if(!Z)return;const n=e.target;n.isConnected&&((null===(t=J.current)||void 0===t?void 0:t.contains(n))||[document.querySelector(`[id='${a}']`),...se].some((e=>null==e?void 0:e.contains(n)))||(he(!1),Ve(q)))},xe=He(Ae,50,!0),Oe=He(_e,50,!0),ke=e=>{Oe.cancel(),xe(e)},Fe=()=>{xe.cancel(),Oe()},Te=(0,e.useCallback)((()=>{var e,t;const n=null!==(e=null==ne?void 0:ne.position)&&void 0!==e?e:F;n?Ee(n):h?ie.current&&Ee(ie.current):(null==P?void 0:P.isConnected)&&Qe({place:null!==(t=null==ne?void 0:ne.place)&&void 0!==t?t:c,offset:s,elementReference:P,tooltipReference:J.current,tooltipArrowReference:z.current,strategy:f,middlewares:m,border:M}).then((e=>{ue.current&&ye(e)}))}),[Z,P,L,k,c,null==ne?void 0:ne.place,s,f,F,null==ne?void 0:ne.position,h]);(0,e.useEffect)((()=>{var e,t;const n=new Set(ae);se.forEach((e=>{(null==j?void 0:j(e))||n.add({current:e})}));const r=document.querySelector(`[id='${a}']`);r&&!(null==j?void 0:j(r))&&n.add({current:r});const o=()=>{he(!1)},i=Ge(P),l=Ge(J.current);ve.scroll&&(window.addEventListener("scroll",o),null==i||i.addEventListener("scroll",o),null==l||l.addEventListener("scroll",o));let c=null;ve.resize?window.addEventListener("resize",o):P&&J.current&&(c=Ce(P,J.current,Te,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const s=e=>{"Escape"===e.key&&he(!1)};ve.escape&&window.addEventListener("keydown",s),ve.clickOutsideAnchor&&window.addEventListener("click",Re);const d=[],u=e=>{Z&&(null==e?void 0:e.target)===P||Ae(e)},f=e=>{Z&&(null==e?void 0:e.target)===P&&_e()},m=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],p=["click","dblclick","mousedown","mouseup"];Object.entries(pe).forEach((([e,t])=>{t&&(m.includes(e)?d.push({event:e,listener:ke}):p.includes(e)&&d.push({event:e,listener:u}))})),Object.entries(ge).forEach((([e,t])=>{t&&(m.includes(e)?d.push({event:e,listener:Fe}):p.includes(e)&&d.push({event:e,listener:f}))})),h&&d.push({event:"pointermove",listener:Se});const g=()=>{ce.current=!0},v=()=>{ce.current=!1,_e()};return b&&!me&&(null===(e=J.current)||void 0===e||e.addEventListener("mouseenter",g),null===(t=J.current)||void 0===t||t.addEventListener("mouseleave",v)),d.forEach((({event:e,listener:t})=>{n.forEach((n=>{var r;null===(r=n.current)||void 0===r||r.addEventListener(e,t)}))})),()=>{var e,t;ve.scroll&&(window.removeEventListener("scroll",o),null==i||i.removeEventListener("scroll",o),null==l||l.removeEventListener("scroll",o)),ve.resize?window.removeEventListener("resize",o):null==c||c(),ve.clickOutsideAnchor&&window.removeEventListener("click",Re),ve.escape&&window.removeEventListener("keydown",s),b&&!me&&(null===(e=J.current)||void 0===e||e.removeEventListener("mouseenter",g),null===(t=J.current)||void 0===t||t.removeEventListener("mouseleave",v)),d.forEach((({event:e,listener:t})=>{n.forEach((n=>{var r;null===(r=n.current)||void 0===r||r.removeEventListener(e,t)}))}))}}),[P,Te,ee,ae,se,S,R,x,fe,g,v]),(0,e.useEffect)((()=>{var e,t;let r=null!==(t=null!==(e=null==ne?void 0:ne.anchorSelect)&&void 0!==e?e:l)&&void 0!==t?t:"";!r&&n&&(r=`[data-tooltip-id='${n.replace(/'/g,"\\'")}']`);const o=new MutationObserver((e=>{const t=[],o=[];e.forEach((e=>{if("attributes"===e.type&&"data-tooltip-id"===e.attributeName&&(e.target.getAttribute("data-tooltip-id")===n?t.push(e.target):e.oldValue===n&&o.push(e.target)),"childList"===e.type){if(P){const t=[...e.removedNodes].filter((e=>1===e.nodeType));if(r)try{o.push(...t.filter((e=>e.matches(r)))),o.push(...t.flatMap((e=>[...e.querySelectorAll(r)])))}catch(e){}t.some((e=>{var t;return!!(null===(t=null==e?void 0:e.contains)||void 0===t?void 0:t.call(e,P))&&(te(!1),he(!1),I(null),Ve(q),Ve(G),!0)}))}if(r)try{const n=[...e.addedNodes].filter((e=>1===e.nodeType));t.push(...n.filter((e=>e.matches(r)))),t.push(...n.flatMap((e=>[...e.querySelectorAll(r)])))}catch(e){}}})),(t.length||o.length)&&de((e=>[...e.filter((e=>!o.includes(e))),...t]))}));return o.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{o.disconnect()}}),[n,l,null==ne?void 0:ne.anchorSelect,P]),(0,e.useEffect)((()=>{Te()}),[Te]),(0,e.useEffect)((()=>{if(!(null==U?void 0:U.current))return()=>null;const e=new ResizeObserver((()=>{setTimeout((()=>Te()))}));return e.observe(U.current),()=>{e.disconnect()}}),[L,null==U?void 0:U.current]),(0,e.useEffect)((()=>{var e;const t=document.querySelector(`[id='${a}']`),n=[...se,t];P&&n.includes(P)||I(null!==(e=se[0])&&void 0!==e?e:t)}),[a,se,P]),(0,e.useEffect)((()=>(B&&he(!0),()=>{Ve(q),Ve(G)})),[]),(0,e.useEffect)((()=>{var e;let t=null!==(e=null==ne?void 0:ne.anchorSelect)&&void 0!==e?e:l;if(!t&&n&&(t=`[data-tooltip-id='${n.replace(/'/g,"\\'")}']`),t)try{const e=Array.from(document.querySelectorAll(t));de(e)}catch(e){de([])}}),[n,l,null==ne?void 0:ne.anchorSelect]),(0,e.useEffect)((()=>{q.current&&(Ve(q),we(g))}),[g]);const je=null!==(H=null==ne?void 0:ne.content)&&void 0!==H?H:L,Le=Z&&Object.keys(V.tooltipStyles).length>0;return(0,e.useImperativeHandle)(t,(()=>({open:e=>{if(null==e?void 0:e.anchorSelect)try{document.querySelector(e.anchorSelect)}catch(t){return void console.warn(`[react-tooltip] "${e.anchorSelect}" is not a valid CSS selector`)}re(null!=e?e:null),(null==e?void 0:e.delay)?we(e.delay):he(!0)},close:e=>{(null==e?void 0:e.delay)?be(e.delay):he(!1)},activeAnchor:P,place:V.place,isOpen:Boolean(ee&&!y&&je&&Le)}))),ee&&!y&&je?e.createElement(p,{id:n,role:W,className:Be("react-tooltip",tt.tooltip,nt.tooltip,nt[i],r,`react-tooltip__place-${V.place}`,tt[Le?"show":"closing"],Le?"react-tooltip__show":"react-tooltip__closing","fixed"===f&&tt.fixed,b&&tt.clickable),onTransitionEnd:e=>{Ve(X),Z||"opacity"!==e.propertyName||(te(!1),re(null),null==T||T())},style:{...k,...V.tooltipStyles,opacity:void 0!==K&&Le?K:void 0},ref:J},je,e.createElement(p,{className:Be("react-tooltip-arrow",tt.arrow,nt.arrow,o,w&&tt.noArrow),style:{...V.tooltipArrowStyles,background:Q?`linear-gradient(to right bottom, transparent 50%, ${Q} 50%)`:void 0},ref:z})):null},ot=({content:t})=>e.createElement("span",{dangerouslySetInnerHTML:{__html:t}}),it=e.forwardRef((({id:t,anchorId:n,anchorSelect:r,content:o,html:i,render:a,className:l,classNameArrow:c,variant:s="dark",place:d="top",offset:u=10,wrapper:f="div",children:m=null,events:p=["hover"],openOnClick:g=!1,positionStrategy:v="absolute",middlewares:h,delayShow:y=0,delayHide:w=0,float:b=!1,hidden:A=!1,noArrow:_=!1,clickable:E=!1,closeOnEsc:S=!1,closeOnScroll:R=!1,closeOnResize:x=!1,openEvents:O,closeEvents:k,globalCloseEvents:F,imperativeModeOnly:C=!1,style:T,position:j,isOpen:L,defaultIsOpen:U=!1,disableStyleInjection:N=!1,border:B,opacity:D,arrowColor:P,setIsOpen:I,afterShow:M,afterHide:K,disableTooltip:Q,role:W="tooltip"},H)=>{const[J,z]=(0,e.useState)(o),[q,G]=(0,e.useState)(i),[X,V]=(0,e.useState)(d),[Y,Z]=(0,e.useState)(s),[$,ee]=(0,e.useState)(u),[te,ne]=(0,e.useState)(y),[re,oe]=(0,e.useState)(w),[ie,ae]=(0,e.useState)(b),[le,ce]=(0,e.useState)(A),[se,de]=(0,e.useState)(f),[ue,fe]=(0,e.useState)(p),[me,pe]=(0,e.useState)(v),[ge,ve]=(0,e.useState)(null),[he,ye]=(0,e.useState)(null),we=(0,e.useRef)(N),{anchorRefs:be,activeAnchor:Ae}=et(t),_e=e=>null==e?void 0:e.getAttributeNames().reduce(((t,n)=>{var r;return n.startsWith("data-tooltip-")&&(t[n.replace(/^data-tooltip-/,"")]=null!==(r=null==e?void 0:e.getAttribute(n))&&void 0!==r?r:null),t}),{}),Ee=e=>{const t={place:e=>{var t;V(null!==(t=e)&&void 0!==t?t:d)},content:e=>{z(null!=e?e:o)},html:e=>{G(null!=e?e:i)},variant:e=>{var t;Z(null!==(t=e)&&void 0!==t?t:s)},offset:e=>{ee(null===e?u:Number(e))},wrapper:e=>{var t;de(null!==(t=e)&&void 0!==t?t:f)},events:e=>{const t=null==e?void 0:e.split(" ");fe(null!=t?t:p)},"position-strategy":e=>{var t;pe(null!==(t=e)&&void 0!==t?t:v)},"delay-show":e=>{ne(null===e?y:Number(e))},"delay-hide":e=>{oe(null===e?w:Number(e))},float:e=>{ae(null===e?b:"true"===e)},hidden:e=>{ce(null===e?A:"true"===e)},"class-name":e=>{ve(e)}};Object.values(t).forEach((e=>e(null))),Object.entries(e).forEach((([e,n])=>{var r;null===(r=t[e])||void 0===r||r.call(t,n)}))};(0,e.useEffect)((()=>{z(o)}),[o]),(0,e.useEffect)((()=>{G(i)}),[i]),(0,e.useEffect)((()=>{V(d)}),[d]),(0,e.useEffect)((()=>{Z(s)}),[s]),(0,e.useEffect)((()=>{ee(u)}),[u]),(0,e.useEffect)((()=>{ne(y)}),[y]),(0,e.useEffect)((()=>{oe(w)}),[w]),(0,e.useEffect)((()=>{ae(b)}),[b]),(0,e.useEffect)((()=>{ce(A)}),[A]),(0,e.useEffect)((()=>{pe(v)}),[v]),(0,e.useEffect)((()=>{we.current!==N&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[N]),(0,e.useEffect)((()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:"core"===N,disableBase:N}}))}),[]),(0,e.useEffect)((()=>{var e;const o=new Set(be);let i=r;if(!i&&t&&(i=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),i)try{document.querySelectorAll(i).forEach((e=>{o.add({current:e})}))}catch(e){console.warn(`[react-tooltip] "${i}" is not a valid CSS selector`)}const a=document.querySelector(`[id='${n}']`);if(a&&o.add({current:a}),!o.size)return()=>null;const l=null!==(e=null!=he?he:a)&&void 0!==e?e:Ae.current,c=new MutationObserver((e=>{e.forEach((e=>{var t;if(!l||"attributes"!==e.type||!(null===(t=e.attributeName)||void 0===t?void 0:t.startsWith("data-tooltip-")))return;const n=_e(l);Ee(n)}))})),s={attributes:!0,childList:!1,subtree:!1};if(l){const e=_e(l);Ee(e),c.observe(l,s)}return()=>{c.disconnect()}}),[be,Ae,he,n,r]),(0,e.useEffect)((()=>{(null==T?void 0:T.border)&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),B&&!We("border",`${B}`)&&console.warn(`[react-tooltip] "${B}" is not a valid \`border\`.`),(null==T?void 0:T.opacity)&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),D&&!We("opacity",`${D}`)&&console.warn(`[react-tooltip] "${D}" is not a valid \`opacity\`.`)}),[]);let Se=m;const Re=(0,e.useRef)(null);if(a){const t=a({content:(null==he?void 0:he.getAttribute("data-tooltip-content"))||J||null,activeAnchor:he});Se=t?e.createElement("div",{ref:Re,className:"react-tooltip-content-wrapper"},t):null}else J&&(Se=J);q&&(Se=e.createElement(ot,{content:q}));const xe={forwardRef:H,id:t,anchorId:n,anchorSelect:r,className:Be(l,ge),classNameArrow:c,content:Se,contentWrapperRef:Re,place:X,variant:Y,offset:$,wrapper:se,events:ue,openOnClick:g,positionStrategy:me,middlewares:h,delayShow:te,delayHide:re,float:ie,hidden:le,noArrow:_,clickable:E,closeOnEsc:S,closeOnScroll:R,closeOnResize:x,openEvents:O,closeEvents:k,globalCloseEvents:F,imperativeModeOnly:C,style:T,position:j,isOpen:L,defaultIsOpen:U,border:B,opacity:D,arrowColor:P,setIsOpen:I,afterShow:M,afterHide:K,disableTooltip:Q,activeAnchor:he,setActiveAnchor:e=>ye(e),role:W};return e.createElement(rt,{...xe})}));function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||ct(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e){return function(e){if(Array.isArray(e))return st(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ct(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){if(e){if("string"==typeof e)return st(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function dt(t){var n=t.files,r=(0,e.useRef)(lt(n)),o=at((0,e.useState)(null),2),i=o[0],a=o[1],l=at((0,e.useState)(new Set),2),c=l[0],s=l[1],d=function(e){e&&(a(e.id),wp.ajax.post("igd_import_media",{file:e,nonce:igd.nonce}).done((function(t){s((function(t){return new Set([].concat(lt(t),[e.id]))}))})).fail((function(e){console.error(e)})).always((function(){r.current=r.current.filter((function(t){return t.id!==e.id})),a(null),r.current.length>0&&d(r.current[0])})))};(0,e.useEffect)((function(){r.current.length>0&&d(r.current[0])}),[]),(0,e.useEffect)((function(){0===r.current.length&&c.size>0&&Swal.fire({title:wp.i18n.__("Import Successful!","integrate-google-drive"),text:wp.i18n.sprintf(wp.i18n._n("The file has been added to your media library.","%d files have been added to your media library.",c.size,"integrate-google-drive"),c.size),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"}})}),[c]);var u=function(){if(i){var e=n.find((function(e){return e.id===i}));a(null),wp.ajax.post("igd_cancel_import",{file:e,nonce:igd.nonce}).fail((function(e){console.error(e)}))}};return(0,e.useEffect)((function(){return document.addEventListener("igd_import_cancel",u),function(){document.removeEventListener("igd_import_cancel",u)}}),[i]),React.createElement("div",{className:"import-files"},n.map((function(e){return React.createElement("div",{key:e.id,className:"import-file"},React.createElement("div",{className:"import-file-thumb"},React.createElement("img",{src:ht(e),alt:e.name})),React.createElement("div",{className:"import-file-info"},React.createElement("div",{className:"import-file-name"},e.name),React.createElement("div",{className:"import-file-size"},mt(e.size))),React.createElement("div",{className:"import-file-actions"},i===e.id&&React.createElement("div",{className:"igd-spinner"}),c.has(e.id)&&React.createElement("i",{className:"dashicons dashicons-saved"}),!c.has(e.id)&&React.createElement("button",{type:"button",className:"button button-link-delete",onClick:function(t){t.target.closest(".import-file").classList.add("igd-hidden"),r.current=r.current.filter((function(t){return t.id!==e.id})),i===e.id&&(u(),r.current.length>0&&d(r.current[0]))}},React.createElement("i",{className:"dashicons dashicons-no"}))))})))}function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ft(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ft(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function mt(e){if(e<1)return 0;var t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(2)+" "+["Byte","KB","MB","GB","TB"][t]}function pt(e){var t;return!e||!e.type||("application/vnd.google-apps.folder"===e.type||"application/vnd.google-apps.folder"===(null===(t=e.shortcutDetails)||void 0===t?void 0:t.targetMimeType))}function gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:JSON.parse(bt(igd.activeAccount))).id,n=[{accountId:t,id:"root",name:wp.i18n.__("My Drive","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/my-drive.svg")},{accountId:t,id:"shared-drives",name:wp.i18n.__("Shared Drives","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/shared-drives.svg")},{accountId:t,id:"computers",name:wp.i18n.__("Computers","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/computers.svg")},{accountId:t,id:"shared",name:wp.i18n.__("Shared with me","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/shared.svg")},{accountId:t,id:"starred",name:wp.i18n.__("Starred","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/starred.svg")}];return e?n.find((function(t){return t.id===e})):n}function vt(e,t){e.onerror=null;var n="https://www.gravatar.com/avatar/"+function(e){function t(e,t,n,r,o,i){return((t=t+e+r+i&4294967295)<<o|t>>>32-o)+n&4294967295}function n(e,n,r,o,i,a,l){return t(n&r|~n&o,e,n,i,a,l)}function r(e,n,r,o,i,a,l){return t(n&o|r&~o,e,n,i,a,l)}function o(e,n,r,o,i,a,l){return t(n^r^o,e,n,i,a,l)}function i(e,n,r,o,i,a,l){return t(r^(n|~o),e,n,i,a,l)}function a(e,t){var a=ut(e,4),l=a[0],c=a[1],s=a[2],d=a[3];l=n(l,c,s,d,t[0],7,-680876936),d=n(d,l,c,s,t[1],12,-389564586),s=n(s,d,l,c,t[2],17,606105819),c=n(c,s,d,l,t[3],22,-1044525330),l=n(l,c,s,d,t[4],7,-176418897),d=n(d,l,c,s,t[5],12,1200080426),s=n(s,d,l,c,t[6],17,-1473231341),c=n(c,s,d,l,t[7],22,-45705983),l=n(l,c,s,d,t[8],7,1770035416),d=n(d,l,c,s,t[9],12,-1958414417),s=n(s,d,l,c,t[10],17,-42063),c=n(c,s,d,l,t[11],22,-1990404162),l=n(l,c,s,d,t[12],7,1804603682),d=n(d,l,c,s,t[13],12,-40341101),s=n(s,d,l,c,t[14],17,-1502002290),l=r(l,c=n(c,s,d,l,t[15],22,1236535329),s,d,t[1],5,-165796510),d=r(d,l,c,s,t[6],9,-1069501632),s=r(s,d,l,c,t[11],14,643717713),c=r(c,s,d,l,t[0],20,-373897302),l=r(l,c,s,d,t[5],5,-701558691),d=r(d,l,c,s,t[10],9,38016083),s=r(s,d,l,c,t[15],14,-660478335),c=r(c,s,d,l,t[4],20,-405537848),l=r(l,c,s,d,t[9],5,568446438),d=r(d,l,c,s,t[14],9,-1019803690),s=r(s,d,l,c,t[3],14,-187363961),c=r(c,s,d,l,t[8],20,1163531501),l=r(l,c,s,d,t[13],5,-1444681467),d=r(d,l,c,s,t[2],9,-51403784),s=r(s,d,l,c,t[7],14,1735328473),l=o(l,c=r(c,s,d,l,t[12],20,-1926607734),s,d,t[5],4,-378558),d=o(d,l,c,s,t[8],11,-2022574463),s=o(s,d,l,c,t[11],16,1839030562),c=o(c,s,d,l,t[14],23,-35309556),l=o(l,c,s,d,t[1],4,-1530992060),d=o(d,l,c,s,t[4],11,1272893353),s=o(s,d,l,c,t[7],16,-155497632),c=o(c,s,d,l,t[10],23,-1094730640),l=o(l,c,s,d,t[13],4,681279174),d=o(d,l,c,s,t[0],11,-358537222),s=o(s,d,l,c,t[3],16,-722521979),c=o(c,s,d,l,t[6],23,76029189),l=o(l,c,s,d,t[9],4,-640364487),d=o(d,l,c,s,t[12],11,-421815835),s=o(s,d,l,c,t[15],16,530742520),l=i(l,c=o(c,s,d,l,t[2],23,-995338651),s,d,t[0],6,-198630844),d=i(d,l,c,s,t[7],10,1126891415),s=i(s,d,l,c,t[14],15,-1416354905),c=i(c,s,d,l,t[5],21,-57434055),l=i(l,c,s,d,t[12],6,1700485571),d=i(d,l,c,s,t[3],10,-1894986606),s=i(s,d,l,c,t[10],15,-1051523),c=i(c,s,d,l,t[1],21,-2054922799),l=i(l,c,s,d,t[8],6,1873313359),d=i(d,l,c,s,t[15],10,-30611744),s=i(s,d,l,c,t[6],15,-1560198380),c=i(c,s,d,l,t[13],21,1309151649),l=i(l,c,s,d,t[4],6,-145523070),d=i(d,l,c,s,t[11],10,-1120210379),s=i(s,d,l,c,t[2],15,718787259),c=i(c,s,d,l,t[9],21,-343485551),e[0]=e[0]+l&4294967295,e[1]=e[1]+c&4294967295,e[2]=e[2]+s&4294967295,e[3]=e[3]+d&4294967295}function l(e){for(var t=[],n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}function c(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n;t+=64)a(r,l(e.substring(t-64,t)));e=e.substring(t-64);var o=Array(16).fill(0);for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);return o[t>>2]|=128<<(t%4<<3),t>55&&(a(r,o),o.fill(0)),o[14]=8*n,a(r,o),r}function s(e){for(var t="0123456789abcdef",n="",r=0;r<4;r++)n+=t.charAt(e>>8*r+4&15)+t.charAt(e>>8*r&15);return n}return c(e).map(s).join("")}(t)+"?s=200&d=mm";e.src===n?e.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAyADIAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+t6KMUtACZooxRQAUZpaSgAozRiloASijFGKADNFLRigBM0UUtACUUtJigAopaKAE5oopaAEo5paKAEoopaAE5opaKAEooooAWkoooAMUUUUAFFFFABRRRQAUUUUAGKKKKACiiigApaSigAooooAWkoooAKWkooAKKKKAClpKWgBKKKKACiiloASiiigAop8UTzyLHGrSOxwqqMkmvTPCnwpXYl1rJJY8i0Q8D/eP9B+dAHnVjpl3qcvl2ltLcv6RoWx9fSumsvhXr10AZI4bUH/AJ7Sc/kua9ltLO3sIRDbQxwRDokahR+QqagDyL/hTmp7f+P20z6Zb/CqV58KddtgTGkF0PSKTB/8exXtVFAHzff6Re6VJsvLWW2bt5ikA/Q96qV9LXNrDeRGKeJJ426pIoYH8DXnvir4UxTK9zox8qXqbVj8p/3T2+h/SgDyujFSTwSWszwzRtHKh2sjDBBqOgApaSigAoo7UUAFFFFAC0UlFABRRiigAooooAKKKKAClUFmAAJJ4AApK7r4V+GxqmqNqE6hoLQjaD/FIen5dfyoA634f+B00G2W9vEDajIMgN/yxB7D39fyrtKKSgApaKKACkopaACikxRQByXjzwTF4jtGubdAmpRD5WHHmD+6f6GvFJEeJ2R1KOpwVYYIPpX0zXkvxY8NLZXseqwKFiuDslAHR8dfxA/T3oA8+oxR0ooAKKMUYoAMUUUYoAKKMUUAFGaKM0AFFFFABR3oooAK978CaUNJ8L2MW3bJIgmf/ebn9BgfhXhFtF59zFGP43C/ma+lY0EaKi8KoAFADqKKKAEpaSloAKSlpKACloooASsjxdpY1nw5fW23LmMsn+8OR+orXpTyKAPmSlqzq1uLTVLyAcCKZ0GfZiKq0AFHNFFABS0mKKACiiigAoopaAEo60UUAFFFHegCxp8giv7Zz0SVSfzFfSdfMoPOa+ivD+oDVdEsbsHPmxKT7HHI/PNAGhSUtFABRRRQAlFLRQAlFGaWgBKKWqup3y6bp1zdv92GNnP4DNAHz74gkEuvalIOjXMpH4uaoU53MjszcliSTSUAJRS0lABRS0UAJiiiigAooxRQAUUUfpQAUUUUAFerfCLXlms59KlceZEfMhB7qeoH0PP415TirekapPouowXts22WJsj0I7g+xFAH0hSdqzvD+u2/iLTYry2PDDDoTyjdwa0aAClpOlFAC0lLSUALRSUv4UAJXBfFrXls9Jj02Jx51yQzgdRGP8Tj8jXYa1rFtoWnS3l022NBwO7HsB714Drusz6/qk97cH55DwoPCr2AoAodaKMUUAFFFFABRRRQAUUdaKACiiigAo6UUUAFFFFABiiiigDY8M+J7vwvfefbNujbiWFj8rj/AB969q8O+KrDxNbCS1l2ygfPA5w6fh3HvXkfhz4f6p4hCyiMWtqf+W8wxkf7I6n+XvXpnh74d6X4fkjnCvc3aciaQ4wfYDgfrQB1FFFLQAn50UtJQAtZWv8AiWw8N2pmu5sMR8kSnLv9B/WtWuY8R/D3TPEUjzsJLe7brNG2cn3B4/lQB5P4q8WXfiq88yb93bpnyoFPCj+p96w66bxH8P8AVPDwaUoLq0H/AC3hGcf7w6j+XvXMmgAooooAMUUGjNABRiiigAoozRQAUUUUAFFFFABRRUkEEl1OkMKNJK7BVRRkkntQAW9vLdzJDDG0srkKqKMkmvWPB3wyg00Jd6qq3F31WA8pH9fU/pWl4G8DxeGrYT3CrJqTj5n6iMf3V/qa6ygAAAAAHFHaiigA6UUUUALSUUtACUClpM0ABGRgjg1wPjH4ZQ6isl3pSrb3fVoOiSfT0P6V39FAHzRcW8tpO8M0bRSodrIwwQajr27xz4Hh8S2xnt1WPUox8r9BIP7rf0NeKzwSWs8kMyNHKjFWRhggjtQBHRRRQAUUUUAFFFFABRRRQAUUUdaACvWvhh4PFjbrq12n+kSr+4Vh9xD/ABfU/wAvrXF+AfDX/CR64gkUmzt8STeh9F/E/pmvdAAowOAOMUAKaSiloAKKTNHagApaSjNAC0lAooAMUtJmgUAFGMUUZ4oAWvPvif4PF9bPq9omLiEfv0UffQfxfUfy+legZoIDAg8g8YoA+ZaK6Xx94a/4RzW3Ea4s7jMkJ7D1X8D+mK5qgAooooAKKKKACiiigAoorZ8IaR/bniKytSu6Ivvk/wB0cn+WPxoA9c+HugjQ/DkO9dtzcDzpT9eg/AY/WumpOg7YooAXrSUtJQAUtJS0AJRRRQAuaKKSgBaKSloAKKSigBc0UUlAHNfELQRrvhyfYu64tx50R+nUfiM/jivCq+miOtfP3i/SP7D8RXtqBtjD74/91uR/PH4UAY1FFFABRRRQAUUUd6ACvSPg3p2+6v74j7irCp+pyf5D8683r2n4UWf2bwmsuMGeZ5Py+X/2WgDsqDQaKACij8KSgBaO1JS/hQAUUlFACikpfwooAM0Cij8KAEpe1FFABRRRQAV5Z8ZNO2XWn3yj76GFj9OR/M/lXqdcb8VrMXPhN5MZMEySD8fl/wDZqAPFqKKKACiiigAooooAK9+8DweR4R0tfWEP+fP9aKKAN2iiigApKKKACloooASloooAKSiigApaKKAEooooAXFJRRQAVh+OYPtHhLVF64hL/wDfPP8ASiigDwGiiigAooooA//Z":e.src=n}function ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.id,i=e.iconLink,a=e.thumbnailLink,l=e.shortcutDetails,c=(null==n?void 0:n.w)||64,s=(null==n?void 0:n.h)||64;null!=l&&l.targetId&&(o=l.targetId);var d=yt(e),u={custom:"w".concat(c,"-h").concat(s),small:"w300-h300",medium:"w600-h400",large:"w1024-h768",full:"w2048-h2048",default:"w300-h300"},f={custom:"=w".concat(c,"-h").concat(s),small:"=w300-h300",medium:"=h600-nu",large:"=w1024-h768-p-k-nu",full:"=w2048-h2048-p-k-nu",default:"=w200-h190-p-k-nu"};if(a){if(d&&!r){var m=u[t]||u.default;return"https://drive.google.com/thumbnail?id=".concat(o,"&sz=").concat(m)}if(!r&&!a.includes("google.com")){var p=f[t]||f.default;return a.replace(/=s\d+/,p)}return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,o=e.id,i=e.accountId,a=new URLSearchParams({igd_preview_image:1,id:o,account_id:i,size:t,width:n,height:r});return"".concat(igd.homeUrl,"/?").concat(a.toString())}(e,t,c,s)}return(null==i?void 0:i.replace("/16/","/".concat(c,"/")))||""}function yt(e){var t,n=null===(t=e.permissions)||void 0===t||null===(t=t.users)||void 0===t||null===(t=t.anyoneWithLink)||void 0===t?void 0:t.role;return"reader"===n||"writer"===n}function wt(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}function bt(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function At(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"970",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"850",n=window.screenLeft||window.screenX,r=window.screenTop||window.screenY,o=n+(window.innerWidth||document.documentElement.clientWidth||screen.width)/2-e/2,i=r+(window.innerHeight||document.documentElement.clientHeight||screen.height)/2-t/2,a=window.open(igd.authUrl,"newwindow","width=".concat(e,",height=").concat(t,",left=").concat(o,",top=").concat(i));a.focus&&a.focus(),Object.keys(sessionStorage).forEach((function(e){e.includes("igd_last_folder_")&&sessionStorage.removeItem(e)}))}function _t(e){Swal.fire({title:wp.i18n.sprintf(wp.i18n._n("Importing %d file","Importing %d files",e.length,"integrate-google-drive"),e.length),text:wp.i18n.__("Please wait...","integrate-google-drive"),html:'<div id="igd-import"></div>',showConfirmButton:!1,allowEscapeKey:!1,allowEnterKey:!1,allowOutsideClick:!1,customClass:{container:"igd-swal igd-import-swal"},showCloseButton:!0,didOpen:function(){var t=document.getElementById("igd-import");t&&ReactDOM.render(React.createElement(dt,{files:e}),t)},willClose:function(){var e=new CustomEvent("igd_import_cancel");document.dispatchEvent(e)}})}function Et(e){var t=e.activeAccount,n=e.setActiveAccount,r="igd-media-accounts-wrap-".concat(Math.floor(1e3*Math.random())),o=JSON.parse(bt(igd.accounts));return React.createElement("div",{className:"igd-media-accounts-wrap"},React.createElement("div",{className:"igd-media-account","data-tooltip-id":r,onClick:function(e){e.stopPropagation()}},React.createElement("img",{referrerPolicy:"no-referrer",className:"user-image",src:t.photo,onError:function(e){return vt(e.currentTarget,t.email)}}),React.createElement("svg",{className:"user-arrow",width:"16",height:"10",viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M15 1.5L8 8.5L1 1.5",stroke:"#757575",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),React.createElement(it,{id:r,place:"bottom",variant:"light",effect:"solid",openOnClick:"click",globalEventOff:"click",clickable:!0,border:"1px solid #ddd",resizeHide:!1,className:"igd-media-account-modal-wrap igd-tooltip"},React.createElement("div",{className:"igd-media-account-modal",onClick:function(e){e.stopPropagation()}},React.createElement("span",{className:"igd-media-account-modal-title"},wp.i18n.__("Switch Account","integrate-google-drive")),Object.keys(o).map((function(e){var r=o[e],i=r.id,a=r.name,l=r.photo,c=r.email,s=t.id===i;return React.createElement("div",{key:e,className:"account-item ".concat(s?"active":""),onClick:function(t){t.stopPropagation(),n(o[e])}},React.createElement("img",{referrerPolicy:"no-referrer",onError:function(e){return vt(e.currentTarget,c)},src:l}),React.createElement("div",{className:"account-info"},React.createElement("span",{className:"account-name"},a),React.createElement("span",{className:"account-email"},c)),s&&React.createElement("i",{className:"dashicons dashicons-saved active-badge"}))})),React.createElement("button",{className:"igd-btn btn-primary",onClick:function(e){e.stopPropagation(),igd.authUrl?At():window.location=igd.adminUrl+"/admin.php?page=integrate-google-drive-settings"}},React.createElement("i",{className:"dashicons dashicons-plus"}),React.createElement("span",null,wp.i18n.__("Add account","integrate-google-drive"))))))}"undefined"!=typeof window&&window.addEventListener("react-tooltip-inject-styles",(e=>{e.detail.disableCore||Ke({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||Ke({css:"\n.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}",type:"base"})}));var St=React,Rt=St.useEffect,xt=St.useRef,Ot=ReactDOM.createPortal;const kt=function(e){var t=e.children,n=xt(document.createElement("div"));return Rt((function(){return document.body.appendChild(n.current),function(){return document.body.removeChild(n.current)}}),[]),Ot(t,n.current)};var Ft=React.createContext();const Ct=Ft;var Tt=Ft.Provider;function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function Lt(e){return function(e){if(Array.isArray(e))return It(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){Bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=jt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||Pt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){if(e){if("string"==typeof e)return It(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?It(e,t):void 0}}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Mt=React,Kt=Mt.useState,Qt=Mt.useEffect;function Wt(e){var t=e.fileIds,n=e.activeAccount,r=e.initFolders;n||(n=JSON.parse(bt(igd.activeAccount)));var o=Dt(Kt(null),2),i=o[0],a=o[1],l=Dt(Kt(null),2),c=l[0],s=l[1],d=Dt(Kt(null),2),u=d[0],f=d[1],m=Dt(Kt([]),2),p=m[0],g=m[1],v=Dt(Kt(!1),2),h=v[0],y=v[1];function w(e){return a(e.id),wp.ajax.post("igd_get_files",{data:{folder:e},nonce:igd.nonce,user_key:igd.userKey}).done((function(t){var n=t.files;n=n.filter((function(e){return pt(e)})),s((function(t){return Nt(Nt({},t),{},Bt({},e.id,n))}))})).fail((function(e){console.log(e)})).always((function(){a(null)}))}Qt((function(){var e={id:"root",accountId:n.id};w(e).then((function(t){g([e])}))}),[]);var b=!!u&&t.includes(u.id);u&&["computers","shared","starred","shared-drives"].includes(u.id)&&(b=!0);var A=gt(!1,n);return r&&(A=r.filter((function(e){return pt(e)}))),React.createElement("div",{className:"move-folders-wrap"},React.createElement("div",{className:"move-folders"},A.map((function(e){var t=e.id,n=e.name,r=e.iconLink,o=p.find((function(e){return e.id===t})),a=!!u&&u.id===t,l=function(t){t.stopPropagation(),o?g(p.filter((function(t){return t.id!==e.id}))):(c[e.id]||w(e),g([].concat(Lt(p),[e])))};return React.createElement(React.Fragment,null,React.createElement("div",{key:t,className:"move-folder ".concat(a?"active":""),onClick:function(n){["computers","shared","starred","shared-drives"].includes(t)?l(n):f(a?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(o?"down":"right"),onClick:l}),React.createElement("img",{src:r,alt:n}),!["computers","shared","starred","shared-drives"].includes(t)&&React.createElement("div",{className:"file-item-checkbox ".concat(a?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,n),i===t&&React.createElement("div",{className:"igd-spinner"})),o&&React.createElement(Ht,{folders:c[t]?c[t]:[],childFolders:c,selectedFolder:u,setSelectedFolder:f,getFolders:w,openFolders:p,setOpenFolders:g,loading:i}))}))),React.createElement("button",{disabled:b,type:"button",className:"igd-btn ".concat(b?"disabled":"btn-primary"),onClick:function(){u&&(y(!0),wp.ajax.post("igd_media_upload_attachment",{file_ids:t,folder:u,nonce:igd.nonce}).done((function(e){Swal.fire({title:wp.i18n.__("Success","integrate-google-drive"),text:wp.i18n.__("File uploaded successfully!","integrate-google-drive"),icon:"success",toast:!0,showConfirmButton:!1,timer:2e3,timerProgressBar:!0,customClass:{container:"igd-swal"}}),e.length&&e.forEach((function(e){wp.ajax.post("igd_file_uploaded",{file:Nt(Nt({},e),{},{type:e.mimeType,accountId:u.accountId}),nonce:igd.nonce})}))})).fail((function(e){console.error("Upload failed:",e),Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Something went wrong!","integrate-google-drive"),icon:"error",toast:!0,showConfirmButton:!1,timer:3e3,timerProgressBar:!0,customClass:{container:"igd-swal"}})})).always((function(){y(!1)})))}},h&&React.createElement("div",{className:"igd-spinner"}),h?wp.i18n.__("Uploading...","integrate-google-drive"):wp.i18n.__("Upload","integrate-google-drive")))}function Ht(e){var t=e.folders,n=e.childFolders,r=e.selectedFolder,o=e.setSelectedFolder,i=e.getFolders,a=e.openFolders,l=e.setOpenFolders,c=e.loading;return t.length?t.map((function(e){var t=a.find((function(t){return t.id===e.id})),s=!!r&&r.id===e.id;return React.createElement("div",{key:e.id,className:"move-folder-wrap"},React.createElement("div",{className:"move-folder ".concat(s?"active":""),onClick:function(){o(s?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(t?"down":"right"),onClick:function(r){r.stopPropagation(),t?l(a.filter((function(t){return t.id!==e.id}))):(n[e.id]||i(e),l([].concat(Lt(a),[e])))}}," "),React.createElement("img",{src:e.iconLink,alt:e.name}),React.createElement("div",{className:"file-item-checkbox ".concat(s?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,e.name),c===e.id&&React.createElement("div",{className:"igd-spinner"})),t&&n[e.id]&&React.createElement(Ht,{folders:n[e.id],childFolders:n,getFolders:i,setSelectedFolder:o,selectedFolder:r,openFolders:a,setOpenFolders:l,loading:c}))})):!c&&React.createElement("div",{className:"move-folder-wrap empty"},React.createElement("i",{className:"dashicons dashicons-warning"}),React.createElement("span",null,wp.i18n.__("No folders found!","integrate-google-drive")))}function Jt(e){var t=wp.media({title:wp.i18n.__("Select Replacement","integrate-google-drive"),button:{text:wp.i18n.__("Select","integrate-google-drive")},multiple:!1});t.$el.addClass("igd-media-replace-frame"),t.on("select",(function(){var n=t.state().get("selection").first().toJSON();n.mime===e.mime?wp.ajax.post("igd_media_replace_attachment",{old_attachment_id:e.id,new_attachment_id:n.id,nonce:igd.nonce}).done((function(){Swal.fire({title:wp.i18n.__("File Replaced","integrate-google-drive"),text:wp.i18n.__("The file has been replaced with the selected Google Drive file.","integrate-google-drive"),icon:"success",toast:!0,timer:3e3,showConfirmButton:!1,customClass:{container:"igd-swal"}}),qt(e,"replace")})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("There was an error replacing the file.","integrate-google-drive"),icon:"error",customClass:{container:"igd-swal"}})})):Swal.fire({title:wp.i18n.__("File type mismatch","integrate-google-drive"),text:wp.i18n.__("The selected file type must match the type of the file you are replacing.","integrate-google-drive"),icon:"error",customClass:{container:"igd-swal"}})})).open()}function zt(e){wp.ajax.post("igd_media_restore_attachment",{attachment_id:e.id,nonce:igd.nonce}).done((function(){Swal.fire({title:wp.i18n.__("File Restored","integrate-google-drive"),text:wp.i18n.__("File has been restored to the original media library attachment.","integrate-google-drive"),icon:"success",toast:!0,timer:3e3,showConfirmButton:!1,customClass:{container:"igd-swal"}}),qt(e,"restore")})).fail((function(e){console.log(e)}))}function qt(e,t){var n=jQuery;wp.media.attachment(e.id).fetch().then((function(r){var o=n(".attachment-details"),i=o.find('input[name^="attachments["]').attr("name"),a=null==i?void 0:i.match(/attachments\[(\d+)\]\[menu_order\]/),l=a?a[1]:null;l==e.id&&(o.find(".details-image").attr("src",r.sizes.full.url),o.find(".attachment-details-copy-link").val(r.url),"replace"===t?(o.find(".compat-field-igd_media_upload").addClass("igd-hidden"),o.find(".igd-media-action-replace").replaceWith('<button type="button" class="button igd-media-action igd-media-action-restore" data-action="restore" data-attachment_id="'.concat(l,'"><i class="dashicons dashicons-image-rotate"></i>').concat(wp.i18n.__("Restore","integrate-google-drive"),"</button>"))):"restore"===t&&(o.find(".compat-field-igd_media_upload").removeClass("igd-hidden"),o.find(".igd-media-action-restore").replaceWith('<button type="button" class="button igd-media-action igd-media-action-replace" data-action="replace" data-attachment_id="'.concat(l,'"><i class="dashicons dashicons-update-alt"></i>').concat(wp.i18n.__("Replace","integrate-google-drive"),"</button>"))))}))}function Gt(e){Swal.fire({title:wp.i18n.__("Select Upload Folder","integrate-google-drive"),text:wp.i18n.__("Select destination","integrate-google-drive"),html:'<div id="igd-media-upload"></div>',showCancelButton:!1,showConfirmButton:!1,showCloseButton:!0,customClass:{container:"igd-swal igd-media-upload-swal"},didOpen:function(t){var n=document.getElementById("igd-media-upload");ReactDOM.render(React.createElement(Wt,{fileIds:[e.id]}),n)},willClose:function(){var e=document.getElementById("igd-media-upload");ReactDOM.unmountComponentAtNode(e)}})}function Xt(e){var t=new URL(window.location.href);for(var n in e)t.searchParams.set(n,e[n]);window.location.href=t.href}function Vt(e){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(e)}function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){$t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $t(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Vt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var en=React.useContext;function tn(){var e="upload-list"===igdMedia.pageType,t=en(Ct),n=t.activeFolder,r=t.setActiveFolder,o=t.getChildFolders,i=[{key:"refresh",title:wp.i18n.__("Refresh","integrate-google-drive"),icon:"dashicons-update-alt"}];return React.createElement(kt,null,React.createElement(R,{id:"igd-media-context-menu",className:"igd-context-menu",animation:y},i.map((function(t){var i=t.key,a=t.title,l=t.icon;return React.createElement(x,{key:i,onClick:function(t){t.data,t.event,t.triggerEvent;if("refresh"===i){if(e)return void Xt({folder_id:wt(n.id),account_id:wt(n.accountId),is_refresh:!0});r(Zt(Zt({},n),{},{isRefresh:!0})),o(Zt(Zt({},n),{},{isRefresh:!0}))}},data:{action:i},className:"context-menu-item ".concat(i),disabled:!1},React.createElement("i",{className:"dashicons ".concat(l)}),React.createElement("span",null,a))}))))}function nn(e){return function(e){if(Array.isArray(e))return rn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return rn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var on=React.useContext;function an(e){var t=e.folders,n=e.isSub,r="upload-list"===igdMedia.pageType,o=on(Ct),i=o.activeFolder,a=o.setActiveFolder,l=o.showContextMenu,c=o.isLoading,s=o.childFolders,d=o.openFolders,u=o.setOpenFolders,f=o.getChildFolders,m=function(e,t){var n,o,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=null==t||null===(n=t.id)||void 0===n?void 0:n.startsWith("AI_");(e.stopPropagation(),"application/vnd.google-apps.shortcut"===t.type)&&(t.id=null===(o=t.shortcutDetails)||void 0===o?void 0:o.targetId);if(i)d.find((function(e){return t.id===e.id}))?u((function(e){return e.filter((function(e){return t.id!==e.id}))})):u((function(e){return[].concat(nn(e),[t])}));else{if(r)return void Xt({folder_id:wt(t.id),account_id:wt(t.accountId)});a(t),u((function(e){return[].concat(nn(e),[t])}))}d.find((function(e){return t.id===e.id}))||null!=s&&s.id||l||s[null==t?void 0:t.id]||f(t)};return React.createElement("div",{className:"".concat(n?"sub-item":"tree-main")},t.map((function(e){var t=e.id,n=e.name,r=e.iconLink,o=t===(null==i?void 0:i.id),a=!!d.length&&d.find((function(t){return t.id===e.id}));return React.createElement("div",{className:"tree-item-wrap"},React.createElement("div",{key:t,className:"".concat(o?"active":""," tree-item folder-item"),onClick:function(t){return m(t,e)},onContextMenu:function(e){e.preventDefault(),l(e)}},c!==t&&React.createElement("i",{className:"dashicons ".concat(a?"dashicons-arrow-down":"dashicons-arrow-right"),onClick:function(t){return m(t,e,!0)}}),c===t&&React.createElement("div",{className:"igd-spinner"}),React.createElement("img",{src:r,alt:n}),React.createElement("span",null,n)),!!a&&s[t]&&React.createElement(an,{folders:s[t],isSub:!0}))})))}var ln=React,cn=ln.useEffect,sn=ln.useRef,dn=ln.useContext,un=ReactDOM.createPortal,fn=function(e){var t=e.frame,n=e.children,r=sn(document.createElement("div"));return cn((function(){t.find(".igd-media-folders").remove();var e=t.find(".attachments-wrapper");if(e.length)return r.current.classList.add("igd-media-folders"),e.prepend(r.current),function(){jQuery(r.current).remove()}}),[]),un(n,r.current)};function mn(){var e=dn(Ct),t=e.frame,n=e.activeFolder,r=e.setActiveFolder,o=e.getChildFolders,i=e.childFolders;return React.createElement(fn,{frame:t},i[null==n?void 0:n.id].map((function(e){return React.createElement("div",{key:e.id,className:"igd-media-folder ".concat(e.id===(null==n?void 0:n.id)?"active":""),onClick:function(){r(e),o(e)}},React.createElement("img",{src:e.iconLink,alt:e.name,width:24,height:24}),React.createElement("div",{className:"igd-media-folder-name"},e.name))})))}function pn(){return React.createElement("div",{className:"no-account-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/no-account-placeholder.svg"),alt:"No Accounts"}),React.createElement("span",{className:"placeholder-heading"},wp.i18n.__("You didn't link any account yet.","integrate-google-drive")),React.createElement("span",{className:"placeholder-description"},wp.i18n.__("Please link to a Google Drive account to continue.","integrate-google-drive")),React.createElement("button",{className:"igd-btn add-account-btn",onClick:function(){igd.authUrl?At():window.location=igd.adminUrl+"/admin.php?page=integrate-google-drive-settings&tab=accounts"}},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/google-icon.png")}),React.createElement("span",null,wp.i18n.__("Sign in with Google","integrate-google-drive"))))}function gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var hn=React,yn=hn.useState,wn=hn.useEffect,bn=hn.useContext;hn.useRef;const An=function(){var e=jQuery,t=(bn(Ct).activeAccount,gn(yn(null),2)),n=t[0],r=t[1],o=v({id:"igd-media-item-context-menu"}),i=o.show;o.hideAll,wn((function(){return e(document).on("contextmenu",".attachments-wrapper .attachment",(function(t){t.preventDefault();var n=wp.media.attachment(e(this).attr("data-id")).toJSON();r(n),i(t,{props:{attachment:n}})})),function(){e(document).off("contextmenu",".attachment")}}),[]);var a=null==n?void 0:n.google_drive_file,l=!(null==n||!n.igd_media_replace_id),c=[a&&!l&&{key:"import",title:wp.i18n.__("Import to Media Library","integrate-google-drive"),icon:"dashicons-download"},!a&&!l&&{key:"replace",title:wp.i18n.__("Replace with Google Drive","integrate-google-drive"),icon:"dashicons-update-alt"},!!l&&{key:"restore",title:wp.i18n.__("Restore Original","integrate-google-drive"),icon:"dashicons-image-rotate"},!a&&{key:"upload",title:wp.i18n.__("Upload to Google Drive","integrate-google-drive"),icon:"dashicons-upload"}];return React.createElement(kt,null,React.createElement(R,{id:"igd-media-item-context-menu",className:"igd-context-menu"},c.filter(Boolean).map((function(e){var t=e.key,r=e.title,o=e.icon;return React.createElement(x,{key:t,onClick:function(e){e.data,e.event,e.triggerEvent;"import"===t?_t([a]):"upload"===t?Gt(n):"replace"===t?Jt(n):"restore"===t&&zt(n)},data:{action:t},className:"context-menu-item ".concat(t),disabled:!1},React.createElement("i",{className:"dashicons ".concat(o)}),React.createElement("span",null,r))}))))};function _n(){var e,t=igd.adminUrl+"/admin.php?page=integrate-google-drive-settings&tab=mediaLibrary";return["dokan_dashboard","dokan_product_edit"].includes(null===(e=igd)||void 0===e?void 0:e.screen)&&(t=igd.dokanDashboardUrl+"#igd-dokan-media-library-settings-header"),React.createElement("div",{className:"no-account-placeholder select-folders-placeholder"},React.createElement("span",{className:"placeholder-heading"},wp.i18n.__("You didn't select any folders yet.","integrate-google-drive")),React.createElement("span",{className:"placeholder-description"},wp.i18n.__("Please select the folders that you want to use in the media library.","integrate-google-drive")),React.createElement("a",{className:"igd-btn btn-info select-folders-btn",href:t},React.createElement("span",null,wp.i18n.__("Select Folders","integrate-google-drive"))))}function En(e){return En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},En(e)}function Sn(){Sn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),l=new C(r||[]);return o(a,"_invoke",{value:x(e,n,l)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",m="suspendedYield",p="executing",g="completed",v={};function h(){}function y(){}function w(){}var b={};s(b,a,(function(){return this}));var A=Object.getPrototypeOf,_=A&&A(A(T([])));_&&_!==n&&r.call(_,a)&&(b=_);var E=w.prototype=h.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function n(o,i,a,l){var c=u(e[o],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==En(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(d).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function x(t,n,r){var o=f;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var c=O(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var s=u(t,n,r);if("normal"===s.type){if(o=r.done?g:m,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=g,r.method="throw",r.arg=s.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=u(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(En(t)+" is not iterable")}return y.prototype=w,o(E,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:y,configurable:!0}),y.displayName=s(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(R.prototype),s(R.prototype,l,(function(){return this})),t.AsyncIterator=R,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new R(d(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(F),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return l.type="throw",l.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),F(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;F(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Rn(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function xn(e){return function(e){if(Array.isArray(e))return jn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Tn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach((function(t){Fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=En(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=En(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==En(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||Tn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tn(e,t){if(e){if("string"==typeof e)return jn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(e,t):void 0}}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ln=React,Un=Ln.useState,Nn=Ln.useEffect,Bn=Ln.useRef,Dn=(Ln.useCallback,igd.settings),Pn=(Dn.integrations,Dn.mediaLibraryFolders),In=void 0===Pn?[]:Pn;Dn.photosMediaLibraryFolders,Dn.photosMediaLibrary;function Mn(e){var t,n=e.frame,r=Bn(null),o=!!Object.keys(JSON.parse(bt(igd.accounts))).length,i="upload-list"===igdMedia.pageType,a=n.hasClass("igd-media-replace-frame"),l=null,c=JSON.parse(bt(igd.activeAccount))||o&&JSON.parse(bt(igd.accounts))[Object.keys(igd.accounts)[0]],s=a?"google":"media";if(i){var d=new URL(window.location.href);if(o){var u=d.searchParams.get("account_id");u&&(u=bt(u),c=JSON.parse(bt(igd.accounts))[u])}d.searchParams.get("is_refresh")&&(d.searchParams.delete("is_refresh"),window.history.replaceState({},"",d)),l=igd.activeFolder;var f=!!d.searchParams.get("folder_id")&&bt(d.searchParams.get("folder_id"));(l||"media"!==f)&&(s="google")}var m=Cn(Un(c),2),p=m[0],g=m[1],h=In.filter((function(e){return pt(e)&&e.accountId===(null==p?void 0:p.id)})),y=Cn(Un(s),2),w=y[0],b=y[1],A={id:"media"};"google"===w&&(A=l||{id:"drive",accountId:p.id});var _=Cn(Un(A),2),E=_[0],S=_[1],R=Cn(Un(!1),2),x=R[0],O=R[1],k=Cn(Un({}),2),F=k[0],C=k[1],T=Cn(Un([]),2),j=T[0],L=T[1],U=function(e){if(e&&!["drive","photos"].includes(e.id))return O(e.id),wp.ajax.post("igd_get_files",{data:{folder:e,refresh:e.isRefresh},nonce:igd.nonce}).done((function(t){var n=t.files.filter((function(e){return pt(e)}));n.length&&C((function(t){return kn(kn({},t),{},Fn({},e.id,n))})),e.isRefresh&&igdMedia.reloadAttachments()})).fail((function(e){console.log(e),O(null)})).always((function(){O(null)}))},N=function(){var e=ut(React.useState(!1),2),t=e[0],n=e[1];return React.useEffect((function(){n(!0)}),[]),t}();Nn((function(){!i&&E&&("drive"===E.id?C((function(e){return kn(kn({},e),{},Fn({},"drive",h))})):E.id,null!=E&&E.isRefresh&&igdMedia.initFilter(Object.values(F).flat(),E.id),igdMedia.getFrame().find("#igd-media-folder-filter").val(null==E?void 0:E.id).trigger("change"),a||("google"===w?sessionStorage.setItem("igd_media_last_folder",JSON.stringify(kn(kn({},E),{},{isRefresh:!1}))):sessionStorage.removeItem("igd_media_last_folder")))}),[w,E]),Nn((function(){var e;l&&(["media","drive"].includes(l.id)||(O((e=l).id),wp.ajax.post("igd_get_parent_folders",{folder:e,nonce:igd.nonce}).done((function(e){0!==Object.keys(e).length&&Object.keys(e).forEach((function(t){var n=e[t].folder;L((function(e){return[].concat(xn(e),[n])}));var r=e[t].children,o=(null==r?void 0:r.filter((function(e){return pt(e)})))||[];C((function(e){return kn(kn({},e),{},Fn({},t,o))}))}))})).fail((function(e){console.log(e)})).always((function(){O(null)})),l&&!F[l.id]&&U(l).then((function(){L((function(e){return[].concat(xn(e),[l])}))}))))}),[]),Nn((function(){N&&(i?Xt({folder_id:wt(h[0].id),account_id:wt(h[0].accountId)}):(igd.activeAccount=wt(JSON.stringify(p)),b("google"),S({id:"drive",accountId:p.id})))}),[p]),Nn((function(){if(null!=E&&E.id&&"media"!==E.id){var e="upload-list"===igdMedia.pageType,t=e?jQuery("#posts-filter .filter-items"):jQuery(".media-toolbar .media-toolbar-secondary").first(),n=jQuery("#igd-import-attachments");0===n.length&&(n=jQuery('\n            <button type="button" id="igd-import-attachments" class="button media-button igd-media-import-button"\n                title="'.concat(wp.i18n.__("Import Google Drive Files to Media Library","integrate-google-drive"),'">\n                <img src="').concat(igd.pluginUrl,'/assets/images/drive.png" />\n                ').concat(wp.i18n.__("Import to Media Library","integrate-google-drive"),"\n            </button>\n        ")),t.append(n));var r=function(){var t=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Rn(i,r,o,a,l,"next",e)}function l(e){Rn(i,r,o,a,l,"throw",e)}a(void 0)}))}}(Sn().mark((function t(n){var r,o,i;return Sn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=[],0!==(o=e?igdMedia.getFrame().find('[name="media[]"]:checked').map((function(e,t){return jQuery(t).val()})).get():igdMedia.getFrame().find(".attachment.selected").map((function(e,t){return jQuery(t).data("id")})).get()).length){t.next=6;break}return Swal.fire({title:wp.i18n.__("No Attachment Selected","integrate-google-drive"),text:wp.i18n.__("Please select at least one attachment to import.","integrate-google-drive"),icon:"warning",confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}}),t.abrupt("return");case 6:if(!e){t.next=20;break}return t.prev=7,t.next=10,wp.ajax.post("igd_get_attachments_linked_files",{attachment_ids:o,nonce:igd.nonce});case 10:i=t.sent,r=i.map((function(e){return e.file})),t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(7),Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Failed to fetch files. Please try again.","integrate-google-drive"),icon:"error",confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}}),t.abrupt("return");case 18:t.next=21;break;case 20:r=o.map((function(e){return wp.media.attachment(e).toJSON().google_drive_file||null})).filter((function(e){return null!==e}));case 21:if(console.log(r),0!==r.length){t.next=25;break}return Swal.fire({title:wp.i18n.__("No Google Drive Files","integrate-google-drive"),text:wp.i18n.__("Please select attachments that are from Google Drive.","integrate-google-drive"),icon:"warning",confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}}),t.abrupt("return");case 25:_t(r);case 26:case"end":return t.stop()}}),t,null,[[7,14]])})));return function(e){return t.apply(this,arguments)}}();return n.on("click",r),function(){n.off("click",r)}}jQuery("#igd-import-attachments").remove()}),[E]),Nn((function(){var e="upload-list"===igdMedia.pageType;if(null!=E&&E.id&&"media"!==E.id&&(e||"drive"!==E.id)){var t=e?jQuery("#posts-filter .filter-items"):jQuery(".media-toolbar-secondary"),n=jQuery("#igd-refresh-attachments");0===n.length&&(n=jQuery('\n            <button type="button" id="igd-refresh-attachments" class="button media-button igd-media-refresh-button" title="'.concat(wp.i18n.__("Sync Google Drive attachments with cloud files","integrate-google-drive"),'">\n                <img src="').concat(igd.pluginUrl,'/assets/images/drive.png" />\n                ').concat(wp.i18n.__("Refresh","integrate-google-drive"),"\n            </button>\n        ")),t.append(n));var r=function(){if(e){var t=new URL(window.location.href);t.searchParams.get("is_refresh")||(t.searchParams.set("is_refresh","1"),window.history.replaceState({},"",t)),window.location.reload()}else{var n=kn(kn({},E),{},{isRefresh:!0});S(n),U(n)}};return n.on("click",r),function(){n.off("click",r)}}jQuery("#igd-refresh-attachments").remove()}),[E]),Nn((function(){if(N){var e=Object.values(F).flat();igdMedia.initFilter(e)}}),[F]);var B=v({id:"igd-media-context-menu"}),D=B.show,P=B.hideAll;return o?React.createElement(Tt,{value:{frame:n,activeAccount:p,setActiveAccount:g,activeFolder:E,setActiveFolder:S,rootFolders:h,setTab:b,tab:w,showContextMenu:D,hideContextMenu:P,isLoading:x,childFolders:F,openFolders:j,setOpenFolders:L,getChildFolders:U}},React.createElement(tn,null),!i&&React.createElement(An,null),!i&&!(null===(t=F[null==E?void 0:E.id])||void 0===t||!t.length)&&React.createElement(mn,null),React.createElement("div",{className:"igd-media-tree",ref:r},!a&&React.createElement("div",{className:"tree-item-wrap"},React.createElement("div",{className:"tree-item tab-item tree-item-media ".concat("media"===w?"active":""),onClick:function(){i?Xt({folder_id:wt("media")}):(b("media"),S({id:"media"}))}},React.createElement("i",{className:"tab-icon dashicons dashicons-admin-media"}),React.createElement("span",null,wp.i18n.__("Media Library","igd-media-library")))),React.createElement("div",{className:"tree-item-wrap tree-item-wrap-google ".concat("google"===w?"active":"")},React.createElement("div",{className:"tree-item tab-item ".concat("google"===w?"active":""),onClick:function(){i?Xt({folder_id:wt("drive"),account_id:wt(p.id)}):(b("google"),S({id:"drive",accountId:p.id}))},onContextMenu:function(e){e.preventDefault(),D(e)}},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/drive.png"),className:"tab-icon"}),React.createElement("span",null,wp.i18n.__("Google Drive","igd-media-library")),React.createElement(Et,{activeAccount:p,setActiveAccount:g})),"google"===w&&!!h.length&&React.createElement(an,{folders:h}),"google"===w&&!In.length&&React.createElement(_n,null)))):React.createElement("div",{className:"igd-media-tree",ref:r},React.createElement("div",{className:"tree-item-wrap"},React.createElement("div",{className:"tree-item tab-item active",onClick:function(){b("media"),S({name:wp.i18n.__("Media Library","igd-media-library"),id:"0",accountId:0})}},React.createElement("i",{className:"tab-icon dashicons dashicons-admin-media"}),React.createElement("span",null,wp.i18n.__("Media Library","igd-media-library")))),React.createElement("div",{className:"tree-item-wrap tree-item-wrap-google"},React.createElement("div",{className:"tree-item tab-item"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/drive.png"),className:"tab-icon"}),React.createElement("span",null,wp.i18n.__("Google Drive","igd-media-library"))),React.createElement(pn,null)))}function Kn(e){return Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kn(e)}function Qn(e){return function(e){if(Array.isArray(e))return Wn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Wn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}!function(e){var t=arguments,n=igd.settings,r=n.mediaLibraryFolders,o=void 0===r?[]:r,i=n.photosMediaLibraryFolders,a=void 0===i?[]:i,l={ready:function(){l.initModule(),e(document).on("click",".igd-media-action-import",(function(){var t=e(this).attr("data-attachment_id");_t([wp.media.attachment(t).toJSON()])})),e(document).on("click",".igd-media-action-replace",(function(){var t=e(this).attr("data-attachment_id");Jt(wp.media.attachment(t).toJSON())})),e(document).on("click",".igd-media-action-restore",(function(){var t=e(this).attr("data-attachment_id");zt(wp.media.attachment(t).toJSON())})),e(document).on("click",".igd-media-action-upload",(function(){var t=e(this).attr("data-attachment_id");Gt(wp.media.attachment(t).toJSON())}))},getFrame:function(){if("upload-list"===l.pageType)return e(".upload-php #posts-filter");var t=e(".media-modal:visible");return t.length?t.find(".media-frame"):e(".upload-php .media-frame").first()},initModule:function(){"upload.php"===igd.pagenow&&e('#posts-filter input[name="mode"][value="list"]').length&&e("#posts-filter .media").length?l.pageType="upload-list":"upload.php"===igd.pagenow&&e("#wp-media-grid").length&&(l.pageType="upload-grid"),e('.upload-php #posts-filter input[name="mode"][value="list"]').length?l.initTree():("upload-list"!==l.pageType&&l.initFilter(),"undefined"!=typeof wp&&void 0!==wp.media&&void 0!==wp.media.view&&void 0!==wp.media.view.AttachmentsBrowser&&wp.media.view.AttachmentsBrowser.prototype.on("ready",(function(){l.initTree(),"upload-list"!==l.pageType&&l.addAttachmentClass()})));var t=wp.media.controller.FeaturedImage;void 0!==t&&(wp.media.controller.FeaturedImage=wp.media.controller.FeaturedImage.extend({updateSelection:function(){t.prototype.updateSelection.apply(this,arguments),l.initTree()}}));var n=wp.media.view.UploaderInline;void 0!==n&&(wp.media.view.UploaderInline=wp.media.view.UploaderInline.extend({ready:function(){n.prototype.ready.apply(this,arguments),l.initTree()}})),"upload-list"!==l.pageType&&(l.onModalOpen(),l.handleUploader(),l.handleUploadStatus())},handleUploader:function(){var t;void 0!==(null===(t=wp)||void 0===t?void 0:t.Uploader)&&e.extend(wp.Uploader.prototype,{init:function(){var e=this,t=function(){e.uploader.settings.url=_wpPluploadSettings.defaults.url,e.uploader.settings.multipart_params=_wpPluploadSettings.defaults.multipart_params};this.uploader.bind("BeforeUpload",(function(n,r){var o=sessionStorage.getItem("igd_media_last_folder");if(o)try{var i=JSON.parse(o);e.uploader.settings.multipart_params={folder_id:i.id,account_id:i.accountId},e.uploader.settings.url="".concat(igd.ajaxUrl,"?action=igd_media_upload_file&folder_id")}catch(e){console.log(e),t()}else t()})),this.uploader.bind("UploadComplete",l.reloadAttachments)}})},handleUploadStatus:function(){wp.Uploader.queue.on("add",(function(t){var n=t.attributes.file.id;e('.attachment.loading[data-cid="'.concat(n,'"]')).length||void 0===wp.media.frame||void 0===wp.media.frame._state||"featured-image"===wp.media.frame._state||l.getFrame().find(".attachments-browser .attachments").prepend('<li data-cid="'+t.attributes.file.id+'" class="attachment loading"><div class="attachment-preview js--select-attachment type-image subtype-jpeg portrait"><div class="thumbnail"><div class="media-progress-bar"><div style="width:0"></div></div></div></div></li>')})),wp.Uploader.queue.on("reset",(function(){e(".attachment.loading").remove()}));var t=wp.media.view.UploaderStatus;void 0!==t&&(wp.media.view.UploaderStatus=wp.media.view.UploaderStatus.extend({progress:function(n){t.prototype.progress.apply(this,arguments),void 0!==n&&void 0!==n.changed&&void 0!==n.changed.percent&&void 0!==wp.media.frame&&void 0!==wp.media.frame._state&&"featured-image"!==wp.media.frame._state&&e("li.attachment[data-cid="+n.attributes.file.id+"] .media-progress-bar > div").css({width:n.changed.percent+"%"})}}))},initFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=JSON.parse(bt(igd.activeAccount));if(void 0!==wp.media.view.AttachmentFilters){var r={media:{text:"Media Library",props:{folder_id:0,account_id:n.id}},drive:{text:"Google Drive",props:{folder_id:"drive",account_id:n.id,is_refresh:t&&"drive"===t}},photos:{text:"Google Photos",props:{folder_id:"photos",account_id:n.id,is_refresh:t&&"photos"===t}}},i=o.filter((function(e){return pt(e)&&e.accountId===n.id})),c=a.filter((function(e){return pt(e)&&e.accountId===n.id}));wp.media.view.AttachmentFilters.igd_media_filter=wp.media.view.AttachmentFilters.extend({className:"igd-media-folder-filter",id:"igd-media-folder-filter",createFilters:function(){var n={};for(var o in n.all={text:wp.i18n.__("All"),props:{folder_id:0,account_id:""}},r)n[o]={text:r[o].text,props:r[o].props};[].concat(Qn(i),Qn(c),Qn(e)).forEach((function(e){n[e.id]={text:e.name,props:{folder_id:e.id,account_id:e.accountId,is_refresh:t&&t===e.id}}})),this.filters=n}})}var s=wp.media.view.AttachmentsBrowser;void 0!==s&&(wp.media.view.AttachmentsBrowser=wp.media.view.AttachmentsBrowser.extend({createToolbar:function(){this.$el.data("backboneView",this),s.prototype.createToolbar.apply(this,arguments),l.attachmentsBrowser=this,this.toolbar.set("igd-media-folder-filter",new wp.media.view.AttachmentFilters.igd_media_filter({controller:this.controller,model:this.collection.props,priority:-75}).render())}})),l.attachmentsBrowser&&l.attachmentsBrowser.toolbar.set("igd-media-folder-filter",new wp.media.view.AttachmentFilters.igd_media_filter({controller:l.attachmentsBrowser.controller,model:l.attachmentsBrowser.collection.props,priority:-75}).render())},initTree:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.getFrame(),n=e(".media-modal:visible").length,r=null;if(n||"upload-list"!==l.pageType&&"upload-grid"!==l.pageType?(t.hasClass("hide-menu")&&(t.find("#media-search-input").attr("placeholder",t.find(".media-search-input-label").text()),e(window).width()>768&&t.addClass("igd-treeview").removeClass("hide-menu")),r=t.find(".media-frame-menu .igd-media-tree-wrap").length>0):r=e(".upload-php .igd-media-tree-wrap").length>0,r)return"upload-list"!==l.pageType&&void 0!==wp.media.frame&&"gallery-edit"===wp.media.frame._state?void(l.getTreeElement(t).length&&(ReactDOM.unmountComponentAtNode(l.getTreeElement(t)[0]),l.getTreeElement(t).remove())):void l.getTreeElement().show();if(n||"upload-list"!==l.pageType&&"upload-grid"!==l.pageType)if(e(window).width()<=900)t.find(".igd-media-tree-wrap").length||e('<div class="igd-media-tree-wrap"></div>').insertBefore(t.find("ul.attachments"));else{var o=t.find(".media-frame-menu .media-menu");o.length||(o=t.find(".media-frame-menu"),t.find(".media-frame-menu-heading").hide()),o.find(".igd-media-tree-wrap").length||e('<div class="igd-media-tree-wrap"></div>').appendTo(o)}else e(".upload-php .igd-media-tree-wrap").length||(e(window).width()<600?e('<div class="igd-media-tree-wrap"></div>').insertBefore(e("ul.attachments")):e('<div class="igd-media-tree-wrap"></div>').insertBefore(e("#wpbody-content")));l.getTreeElement(t).length&&ReactDOM.render(React.createElement(Mn,{frame:t}),l.getTreeElement(t)[0]),t.find(".igd-media-toggle-actions").length||l.initActionsToggle(t)},getTreeElement:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.getFrame();return e(".media-modal:visible").length||"upload-grid"!==l.pageType&&"upload-list"!==l.pageType?t.find(".igd-media-tree-wrap").first():e(".upload-php .igd-media-tree-wrap")},initActionsToggle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.getFrame();e.find(".media-frame-menu-heading").append('<i class="igd-media-toggle-actions dashicons dashicons-arrow-down"></i>'),e.find(".media-frame-menu-heading").on("click",(function(){e.find(".media-menu").toggleClass("show-actions")}))},onModalOpen:function(){var t=wp.media.view.Modal;void 0!==t&&(wp.media.view.Modal=wp.media.view.Modal.extend({open:function(){t.prototype.open.apply(this,arguments);var n=e(".attachment-details"),r=n.find('input[name^="attachments["]').attr("name"),o=null==r?void 0:r.match(/attachments\[(\d+)\]\[menu_order\]/),i=o?o[1]:null;if(i&&wp.media.attachment(i).get("igd_media_replace_id")){var a=n.find(".thumbnail");a.addClass("igd-media-replaced"),a.find(".igd-media-replaced-label").length||a.append('<span class="igd-media-replaced-label dashicons dashicons-update-alt" title="'.concat(wp.i18n.__("Replaced with Google Drive","igd-media-library"),'" ></span>'))}}}))},addAttachmentClass:function(){var t=null,n=l.getFrame().find(".attachments-browser ul.attachments").get(0);n&&new MutationObserver((function(){clearTimeout(t),t=setTimeout((function(){l.getFrame().find(".attachments-browser ul.attachments .attachment .thumbnail").each((function(){var t=e(this);if(t.closest(".attachment-preview").hasClass("type-image")&&!t.closest(".attachment.loading").length){var n=t.closest(".attachment").data("id");if(wp.media.attachment(n).get("igd_media_replace_id")){var r=t.closest(".attachment-preview");r.addClass("igd-media-replaced"),r.find(".igd-media-replaced-label").length||r.append('<span class="igd-media-replaced-label dashicons dashicons-update-alt" title="'.concat(wp.i18n.__("Replaced with Google Drive","igd-media-library"),'"></span>'))}}}))}),300)})).observe(n,{childList:!0,subtree:!0})},reloadAttachments:function(){var e=t.length>0&&void 0!==t[0]&&t[0],n=l.getBackboneOfMedia(e);if(n.browser.length>0&&"object"==Kn(n.view))try{n.view.collection.props.set({ignore:+new Date})}catch(e){console.log(e)}},getBackboneOfMedia:function(){var n,r=t.length>0&&void 0!==t[0]&&t[0],o=l.getFrame().parents(".media-modal:visible");return n=(o.length>0&&!r?o.find(".attachments-browser"):e(".media-frame-content .attachments-browser")).data("backboneView"),{browser:e(".attachments-browser"),view:n}}};window.igdMedia=l,e(document).ready(l.ready)}(jQuery)})()})();