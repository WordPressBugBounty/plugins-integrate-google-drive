(()=>{var e={146:(e,t,n)=>{"use strict";var r=n(363),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function c(e){return r.isMemo(e)?o:l[e.$$typeof]||i}l[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[r.Memo]=o;var s=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=m(n);i&&i!==p&&e(t,i,r)}var o=d(n);u&&(o=o.concat(u(n)));for(var l=c(t),f=c(n),v=0;v<o.length;++v){var h=o[v];if(!(a[h]||r&&r[h]||f&&f[h]||l&&l[h])){var y=g(n,h);try{s(t,h,y)}catch(e){}}}}return t}},606:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],s=!1,d=-1;function u(){s&&l&&(s=!1,l.length?c=l.concat(c):d=-1,c.length&&g())}function g(){if(!s){var e=o(u);s=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,s=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||s||o(g)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},799:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,g=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,f=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,h=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case u:case a:case l:case o:case m:return e;default:switch(e=e&&e.$$typeof){case s:case g:case v:case f:case c:return e;default:return t}}case i:return t}}}function E(e){return _(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=s,t.ContextProvider=c,t.Element=r,t.ForwardRef=g,t.Fragment=a,t.Lazy=v,t.Memo=f,t.Portal=i,t.Profiler=l,t.StrictMode=o,t.Suspense=m,t.isAsyncMode=function(e){return E(e)||_(e)===d},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===s},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===g},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===v},t.isMemo=function(e){return _(e)===f},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===l},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===m},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===u||e===l||e===o||e===m||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===f||e.$$typeof===c||e.$$typeof===s||e.$$typeof===g||e.$$typeof===y||e.$$typeof===w||e.$$typeof===b||e.$$typeof===h)},t.typeOf=_},363:(e,t,n)=>{"use strict";e.exports=n(799)},159:(e,t,n)=>{"use strict";var r=n(264);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},211:(e,t,n)=>{e.exports=n(159)()},264:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},989:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,l=60109,c=60110,s=60112,d=60113,u=60120,g=60115,m=60116,p=60121,f=60122,v=60117,h=60129,y=60131;if("function"==typeof Symbol&&Symbol.for){var w=Symbol.for;n=w("react.element"),r=w("react.portal"),i=w("react.fragment"),a=w("react.strict_mode"),o=w("react.profiler"),l=w("react.provider"),c=w("react.context"),s=w("react.forward_ref"),d=w("react.suspense"),u=w("react.suspense_list"),g=w("react.memo"),m=w("react.lazy"),p=w("react.block"),f=w("react.server.block"),v=w("react.fundamental"),h=w("react.debug_trace_mode"),y=w("react.legacy_hidden")}function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case d:case u:return e;default:switch(e=e&&e.$$typeof){case c:case s:case m:case g:case l:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return b(e)===c}},737:(e,t,n)=>{"use strict";e.exports=n(989)},942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,a(n)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=React;var t=n.n(e);function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}const i=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i};var a=n(606);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var c=(0,e.createContext)({});function s(){return(0,e.useContext)(c)}var d=function(e){return t().createElement(c.Provider,{value:e.refTracker},e.children)};function u(){var e=new Map;return{on:function(t,n){var r;return e.has(t)?null==(r=e.get(t))||r.add(n):e.set(t,new Set([n])),this},off:function(t,n){return n?e.get(t).delete(n):e.delete(t),this},emit:function(t,n){if("production"!==a.env.NODE){var r=t;e.has(t)||0===r||console.error("It seems that the menu you are trying to display is not renderer or you have a menu id mismatch.","You used the menu id: "+t)}return e.has(t)&&e.get(t).forEach((function(e){e(n)})),this}}}var g=u();function m(){return(0,e.useRef)(new Map).current}var p={show:function(e){var t=e.id,n=e.event,r=e.props,i=e.position;n.preventDefault&&n.preventDefault(),g.emit(0).emit(t,{event:n.nativeEvent||n,props:r,position:i})},hideAll:function(){g.emit(0)}};function f(){var e,t,n,r,i=new Map,a=!1;function o(){r[e].node.focus()}function l(){return-1!==e||(c(),!1)}function c(){e+1<r.length?e++:e+1===r.length&&(e=0),a&&s(),o()}function s(){if(l()&&!n){var c=i.get(t),s=c.isRoot,d=c.items,u=c.focusedIndex,g=c.parentNode;t.classList.remove("react-contexify__submenu--is-open"),r=d,t=g,s&&(n=!0,i.clear()),a||(e=u,o())}}return{init:function(t){r=t,e=-1,n=!0},moveDown:c,moveUp:function(){-1===e||0===e?e=r.length-1:e-1<r.length&&e--,a&&s(),o()},openSubmenu:function(){if(l()&&e>=0&&r[e].isSubmenu){var c=Array.from(r[e].submenuRefTracker.values()),s=r[e].node;return i.set(s,{isRoot:n,focusedIndex:e,parentNode:t||s,items:r}),s.classList.add("react-contexify__submenu--is-open"),t=s,c.length>0?(e=0,r=c):a=!0,n=!1,o(),!0}return!1},closeSubmenu:s}}var v={fade:"fade",flip:"flip",scale:"scale",slide:"slide"},h=function(){};function y(e){return"function"==typeof e}function w(e){return"string"==typeof e}function b(t,n){return e.Children.map(e.Children.toArray(t).filter(Boolean),(function(t){return(0,e.cloneElement)(t,n)}))}function _(e,t){return y(e)?e(t):e}function E(e,t){return y(t)?o({},e,t(e)):o({},e,t)}var R=function(n){var r,a,c,s=n.id,u=n.theme,p=n.style,v=n.className,y=n.children,_=n.animation,R=void 0===_?"scale":_,N=n.onHidden,S=void 0===N?h:N,C=n.onShown,x=void 0===C?h:C,O=l(n,["id","theme","style","className","children","animation","onHidden","onShown"]),A=(0,e.useReducer)(E,{x:0,y:0,visible:!1,triggerEvent:{},propsFromTrigger:null,willLeave:!1}),P=A[0],I=A[1],D=(0,e.useRef)(null),k=(0,e.useRef)(!1),F=(a=P.visible,c=(0,e.useRef)(),(0,e.useEffect)((function(){c.current=a}),[a]),c.current),j=m(),T=(0,e.useState)((function(){return f()}))[0];function B(e){var t=e.event,n=e.props,r=e.position;t.stopPropagation();var i=r||function(e){var t={x:0,y:0};return function(e){return"touchend"===e.type}(e)&&e.changedTouches&&e.changedTouches.length>0?(t.x=e.changedTouches[0].clientX,t.y=e.changedTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),(!t.x||t.x<0)&&(t.x=0),(!t.y||t.y<0)&&(t.y=0),t}(t),a=i.x,o=i.y;setTimeout((function(){I({visible:!0,willLeave:!1,x:a,y:o,triggerEvent:t,propsFromTrigger:n})}),0)}function L(e){var t=e;(void 0===t||2!==t.button&&!0!==t.ctrlKey||"contextmenu"===t.type)&&(!function(e){return!(!e||!(w(e)||"exit"in e&&e.exit))}(R)?I((function(e){return{visible:!e.visible&&e.visible}})):I((function(e){return{willLeave:e.visible}})))}(0,e.useEffect)((function(){return k.current=!0,g.on(s,B).on(0,L),function(){g.off(s,B).off(0,L)}}),[s]),(0,e.useEffect)((function(){k.current&&P.visible!==F&&(P.visible?x():S())}),[P.visible,S,x]),(0,e.useEffect)((function(){P.visible?T.init(Array.from(j.values())):j.clear()}),[P.visible,T,j]),(0,e.useEffect)((function(){if(P.visible){var e=window,t=e.innerWidth,n=e.innerHeight,r=D.current,i=r.offsetWidth,a=r.offsetHeight,o=P.x,l=P.y;o+i>t&&(o-=o+i-t),l+a>n&&(l-=l+a-n),I({x:o,y:l})}}),[P.visible]),(0,e.useEffect)((function(){function e(e){switch(e.preventDefault(),e.key){case"Enter":T.openSubmenu()||L();break;case"Escape":L();break;case"ArrowUp":T.moveUp();break;case"ArrowDown":T.moveDown();break;case"ArrowRight":T.openSubmenu();break;case"ArrowLeft":T.closeSubmenu()}}return P.visible&&(window.addEventListener("resize",L),window.addEventListener("contextmenu",L),window.addEventListener("click",L),window.addEventListener("scroll",L),window.addEventListener("keydown",e),window.addEventListener("blur",L)),function(){window.removeEventListener("resize",L),window.removeEventListener("contextmenu",L),window.removeEventListener("click",L),window.removeEventListener("scroll",L),window.removeEventListener("keydown",e),window.removeEventListener("blur",L)}}),[P.visible,T]);var M,U,z=P.visible,G=P.triggerEvent,H=P.propsFromTrigger,W=P.x,V=P.y,q=P.willLeave,K=i("react-contexify",v,((r={})["react-contexify__theme--"+u]=u,r),R?w(R)?i(((M={})["react-contexify__will-enter--"+R]=R&&z&&!q,M["react-contexify__will-leave--"+R+" react-contexify__will-leave--'disabled'"]=R&&z&&q,M)):"enter"in R&&"exit"in R?i(((U={})["react-contexify__will-enter--"+R.enter]=R.enter&&z&&!q,U["react-contexify__will-leave--"+R.exit+" react-contexify__will-leave--'disabled'"]=R.exit&&z&&q,U)):null:null),Q=o({},p,{left:W,top:V,opacity:1});return t().createElement(d,{refTracker:j},z&&t().createElement("div",Object.assign({},O,{className:K,onAnimationEnd:function(){P.willLeave&&P.visible&&I({visible:!1,willLeave:!1})},style:Q,ref:D,role:"menu"}),b(y,{propsFromTrigger:H,triggerEvent:G})))},N=function(e){var n,r=e.children,a=e.className,o=e.style,c=e.triggerEvent,d=e.data,u=e.propsFromTrigger,g=e.onClick,m=void 0===g?h:g,p=e.disabled,f=void 0!==p&&p,v=e.hidden,y=void 0!==v&&v,w=l(e,["children","className","style","triggerEvent","data","propsFromTrigger","onClick","disabled","hidden"]),b=s(),E={data:d,triggerEvent:c,props:u},R=_(f,E);if(_(y,E))return null;var N=i("react-contexify__item",a,((n={})["react-contexify__item--disabled"]=R,n));return t().createElement("div",Object.assign({},w,{className:N,style:o,onClick:function(e){E.event=e,R?e.stopPropagation():m(E)},onKeyDown:function(e){"Enter"===e.key&&(E.event=e,m(E))},ref:function(e){e&&!R&&b.set(e,{node:e,isSubmenu:!1})},tabIndex:-1,role:"menuitem","aria-disabled":R}),t().createElement("div",{className:"react-contexify__item__content"},r))};var S=function(n){var r,a=n.arrow,c=void 0===a?"▶":a,u=n.children,g=n.disabled,p=void 0!==g&&g,f=n.hidden,v=void 0!==f&&f,h=n.label,y=n.className,w=n.triggerEvent,E=n.propsFromTrigger,R=n.style,N=l(n,["arrow","children","disabled","hidden","label","className","triggerEvent","propsFromTrigger","style"]),S=s(),C=m(),x=(0,e.useRef)(null),O=(0,e.useState)({left:"100%",top:0,bottom:"initial"}),A=O[0],P=O[1],I={triggerEvent:w,props:E},D=_(p,I),k=_(v,I);if((0,e.useEffect)((function(){if(x.current){var e=window,t=e.innerWidth,n=e.innerHeight,r=x.current.getBoundingClientRect(),i={};r.right<t?(i.left="100%",i.right=void 0):(i.right="100%",i.left=void 0),r.bottom>n?(i.bottom=0,i.top="initial"):i.bottom="initial",P(i)}}),[]),k)return null;var F=i("react-contexify__item",y,((r={})["react-contexify__item--disabled"]=D,r)),j=o({},R,A);return t().createElement(d,{refTracker:C},t().createElement("div",Object.assign({},N,{className:F,ref:function(e){e&&!D&&S.set(e,{node:e,isSubmenu:!0,submenuRefTracker:C})},tabIndex:-1,role:"menuitem","aria-haspopup":!0,"aria-disabled":D}),t().createElement("div",{className:"react-contexify__item__content",onClick:function(e){e.stopPropagation()}},h,t().createElement("span",{className:"react-contexify__submenu-arrow"},c)),t().createElement("div",{className:"react-contexify react-contexify__submenu",ref:x,style:j},b(u,{propsFromTrigger:E,triggerEvent:w}))))},C=React.createContext();const x=C;var O=C.Provider;const A=Math.min,P=Math.max,I=Math.round,D=Math.floor,k=e=>({x:e,y:e}),F={left:"right",right:"left",bottom:"top",top:"bottom"},j={start:"end",end:"start"};function T(e,t,n){return P(e,A(t,n))}function B(e,t){return"function"==typeof e?e(t):e}function L(e){return e.split("-")[0]}function M(e){return e.split("-")[1]}function U(e){return"x"===e?"y":"x"}function z(e){return"y"===e?"height":"width"}function G(e){return["top","bottom"].includes(L(e))?"y":"x"}function H(e){return U(G(e))}function W(e){return e.replace(/start|end/g,(e=>j[e]))}function V(e){return e.replace(/left|right|bottom|top/g,(e=>F[e]))}function q(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function K(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Q(e,t,n){let{reference:r,floating:i}=e;const a=G(t),o=H(t),l=z(o),c=L(t),s="y"===a,d=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,g=r[l]/2-i[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:u};break;case"left":m={x:r.x-i.width,y:u};break;default:m={x:r.x,y:r.y}}switch(M(t)){case"start":m[o]-=g*(n&&s?-1:1);break;case"end":m[o]+=g*(n&&s?-1:1)}return m}async function J(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:s="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:g=!1,padding:m=0}=B(t,e),p=q(m),f=l[g?"floating"===u?"reference":"floating":u],v=K(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(f)))||n?f:f.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(l.floating)),boundary:s,rootBoundary:d,strategy:c})),h="floating"===u?{...o.floating,x:r,y:i}:o.reference,y=await(null==a.getOffsetParent?void 0:a.getOffsetParent(l.floating)),w=await(null==a.isElement?void 0:a.isElement(y))&&await(null==a.getScale?void 0:a.getScale(y))||{x:1,y:1},b=K(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:h,offsetParent:y,strategy:c}):h);return{top:(v.top-b.top+p.top)/w.y,bottom:(b.bottom-v.bottom+p.bottom)/w.y,left:(v.left-b.left+p.left)/w.x,right:(b.right-v.right+p.right)/w.x}}const Y=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await async function(e,t){const{placement:n,platform:r,elements:i}=e,a=await(null==r.isRTL?void 0:r.isRTL(i.floating)),o=L(n),l=M(n),c="y"===G(n),s=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,u=B(t,e);let{mainAxis:g,crossAxis:m,alignmentAxis:p}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return l&&"number"==typeof p&&(m="end"===l?-1*p:p),c?{x:m*d,y:g*s}:{x:g*s,y:m*d}}(t,e);return o===(null==(n=l.offset)?void 0:n.placement)&&null!=(r=l.arrow)&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}};function $(e){return ee(e)?(e.nodeName||"").toLowerCase():"#document"}function X(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Z(e){var t;return null==(t=(ee(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function ee(e){return e instanceof Node||e instanceof X(e).Node}function te(e){return e instanceof Element||e instanceof X(e).Element}function ne(e){return e instanceof HTMLElement||e instanceof X(e).HTMLElement}function re(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof X(e).ShadowRoot)}function ie(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=se(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function ae(e){return["table","td","th"].includes($(e))}function oe(e){const t=le(),n=se(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function le(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function ce(e){return["html","body","#document"].includes($(e))}function se(e){return X(e).getComputedStyle(e)}function de(e){return te(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ue(e){if("html"===$(e))return e;const t=e.assignedSlot||e.parentNode||re(e)&&e.host||Z(e);return re(t)?t.host:t}function ge(e){const t=ue(e);return ce(t)?e.ownerDocument?e.ownerDocument.body:e.body:ne(t)&&ie(t)?t:ge(t)}function me(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=ge(e),a=i===(null==(r=e.ownerDocument)?void 0:r.body),o=X(i);return a?t.concat(o,o.visualViewport||[],ie(i)?i:[],o.frameElement&&n?me(o.frameElement):[]):t.concat(i,me(i,[],n))}function pe(e){const t=se(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ne(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,l=I(n)!==a||I(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function fe(e){return te(e)?e:e.contextElement}function ve(e){const t=fe(e);if(!ne(t))return k(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=pe(t);let o=(a?I(n.width):n.width)/r,l=(a?I(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),l&&Number.isFinite(l)||(l=1),{x:o,y:l}}const he=k(0);function ye(e){const t=X(e);return le()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:he}function we(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=fe(e);let o=k(1);t&&(r?te(r)&&(o=ve(r)):o=ve(e));const l=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==X(e))&&t}(a,n,r)?ye(a):k(0);let c=(i.left+l.x)/o.x,s=(i.top+l.y)/o.y,d=i.width/o.x,u=i.height/o.y;if(a){const e=X(a),t=r&&te(r)?X(r):r;let n=e,i=n.frameElement;for(;i&&r&&t!==n;){const e=ve(i),t=i.getBoundingClientRect(),r=se(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,s*=e.y,d*=e.x,u*=e.y,c+=a,s+=o,n=X(i),i=n.frameElement}}return K({width:d,height:u,x:c,y:s})}const be=[":popover-open",":modal"];function _e(e){return be.some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function Ee(e){return we(Z(e)).left+de(e).scrollLeft}function Re(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=X(e),r=Z(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const e=le();(!e||e&&"fixed"===t)&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}(e,n);else if("document"===t)r=function(e){const t=Z(e),n=de(e),r=e.ownerDocument.body,i=P(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=P(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ee(e);const l=-n.scrollTop;return"rtl"===se(r).direction&&(o+=P(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}(Z(e));else if(te(t))r=function(e,t){const n=we(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=ne(e)?ve(e):k(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}(t,n);else{const n=ye(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return K(r)}function Ne(e,t){const n=ue(e);return!(n===t||!te(n)||ce(n))&&("fixed"===se(n).position||Ne(n,t))}function Se(e,t,n){const r=ne(t),i=Z(t),a="fixed"===n,o=we(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=k(0);if(r||!r&&!a)if(("body"!==$(t)||ie(i))&&(l=de(t)),r){const e=we(t,!0,a,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else i&&(c.x=Ee(i));return{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function Ce(e,t){return ne(e)&&"fixed"!==se(e).position?t?t(e):e.offsetParent:null}function xe(e,t){const n=X(e);if(!ne(e)||_e(e))return n;let r=Ce(e,t);for(;r&&ae(r)&&"static"===se(r).position;)r=Ce(r,t);return r&&("html"===$(r)||"body"===$(r)&&"static"===se(r).position&&!oe(r))?n:r||function(e){let t=ue(e);for(;ne(t)&&!ce(t);){if(oe(t))return t;t=ue(t)}return null}(e)||n}const Oe={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a="fixed"===i,o=Z(r),l=!!t&&_e(t.floating);if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},s=k(1);const d=k(0),u=ne(r);if((u||!u&&!a)&&(("body"!==$(r)||ie(o))&&(c=de(r)),ne(r))){const e=we(r);s=ve(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}return{width:n.width*s.x,height:n.height*s.y,x:n.x*s.x-c.scrollLeft*s.x+d.x,y:n.y*s.y-c.scrollTop*s.y+d.y}},getDocumentElement:Z,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[..."clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let r=me(e,[],!1).filter((e=>te(e)&&"body"!==$(e))),i=null;const a="fixed"===se(e).position;let o=a?ue(e):e;for(;te(o)&&!ce(o);){const t=se(o),n=oe(o);n||"fixed"!==t.position||(i=null),(a?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||ie(o)&&!n&&Ne(e,o))?r=r.filter((e=>e!==o)):i=t,o=ue(o)}return t.set(e,r),r}(t,this._c):[].concat(n),r],o=a[0],l=a.reduce(((e,n)=>{const r=Re(t,n,i);return e.top=P(r.top,e.top),e.right=A(r.right,e.right),e.bottom=A(r.bottom,e.bottom),e.left=P(r.left,e.left),e}),Re(t,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:xe,getElementRects:async function(e){const t=this.getOffsetParent||xe,n=this.getDimensions;return{reference:Se(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=pe(e);return{width:t,height:n}},getScale:ve,isElement:te,isRTL:function(e){return"rtl"===se(e).direction}};function Ae(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:c=!1}=r,s=fe(e),d=i||a?[...s?me(s):[],...me(t)]:[];d.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)}));const u=s&&l?function(e,t){let n,r=null;const i=Z(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function o(l,c){void 0===l&&(l=!1),void 0===c&&(c=1),a();const{left:s,top:d,width:u,height:g}=e.getBoundingClientRect();if(l||t(),!u||!g)return;const m={rootMargin:-D(d)+"px "+-D(i.clientWidth-(s+u))+"px "+-D(i.clientHeight-(d+g))+"px "+-D(s)+"px",threshold:P(0,A(1,c))||1};let p=!0;function f(e){const t=e[0].intersectionRatio;if(t!==c){if(!p)return o();t?o(!1,t):n=setTimeout((()=>{o(!1,1e-7)}),100)}p=!1}try{r=new IntersectionObserver(f,{...m,root:i.ownerDocument})}catch(e){r=new IntersectionObserver(f,m)}r.observe(e)}(!0),a}(s,n):null;let g,m=-1,p=null;o&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===s&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),s&&!c&&p.observe(s),p.observe(t));let f=c?we(e):null;return c&&function t(){const r=we(e);!f||r.x===f.x&&r.y===f.y&&r.width===f.width&&r.height===f.height||n();f=r,g=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach((e=>{i&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)})),null==u||u(),null==(e=p)||e.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const Pe=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=B(e,t),s={x:n,y:r},d=await J(t,c),u=G(L(i)),g=U(u);let m=s[g],p=s[u];if(a){const e="y"===g?"bottom":"right";m=T(m+d["y"===g?"top":"left"],m,m-d[e])}if(o){const e="y"===u?"bottom":"right";p=T(p+d["y"===u?"top":"left"],p,p-d[e])}const f=l.fn({...t,[g]:m,[u]:p});return{...f,data:{x:f.x-n,y:f.y-r}}}}},Ie=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:s}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:f=!0,...v}=B(e,t);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const h=L(i),y=L(l)===l,w=await(null==c.isRTL?void 0:c.isRTL(s.floating)),b=g||(y||!f?[V(l)]:function(e){const t=V(e);return[W(e),t,W(t)]}(l));g||"none"===p||b.push(...function(e,t,n,r){const i=M(e);let a=function(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}(L(e),"start"===n,r);return i&&(a=a.map((e=>e+"-"+i)),t&&(a=a.concat(a.map(W)))),a}(l,f,p,w));const _=[l,...b],E=await J(t,v),R=[];let N=(null==(r=a.flip)?void 0:r.overflows)||[];if(d&&R.push(E[h]),u){const e=function(e,t,n){void 0===n&&(n=!1);const r=M(e),i=H(e),a=z(i);let o="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=V(o)),[o,V(o)]}(i,o,w);R.push(E[e[0]],E[e[1]])}if(N=[...N,{placement:i,overflows:R}],!R.every((e=>e<=0))){var S,C;const e=((null==(S=a.flip)?void 0:S.index)||0)+1,t=_[e];if(t)return{data:{index:e,overflows:N},reset:{placement:t}};let n=null==(C=N.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:C.placement;if(!n)switch(m){case"bestFit":{var x;const e=null==(x=N.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:x[0];e&&(n=e);break}case"initialPlacement":n=l}if(i!==n)return{reset:{placement:n}}}return{}}}},De=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:s,padding:d=0}=B(e,t)||{};if(null==s)return{};const u=q(d),g={x:n,y:r},m=H(i),p=z(m),f=await o.getDimensions(s),v="y"===m,h=v?"top":"left",y=v?"bottom":"right",w=v?"clientHeight":"clientWidth",b=a.reference[p]+a.reference[m]-g[m]-a.floating[p],_=g[m]-a.reference[m],E=await(null==o.getOffsetParent?void 0:o.getOffsetParent(s));let R=E?E[w]:0;R&&await(null==o.isElement?void 0:o.isElement(E))||(R=l.floating[w]||a.floating[p]);const N=b/2-_/2,S=R/2-f[p]/2-1,C=A(u[h],S),x=A(u[y],S),O=C,P=R-f[p]-x,I=R/2-f[p]/2+N,D=T(O,I,P),k=!c.arrow&&null!=M(i)&&I!==D&&a.reference[p]/2-(I<O?C:x)-f[p]/2<0,F=k?I<O?I-O:I-P:0;return{[m]:g[m]+F,data:{[m]:D,centerOffset:I-D-F,...k&&{alignmentOffset:F}},reset:k}}}),ke=(e,t,n)=>{const r=new Map,i={platform:Oe,...n},a={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(null==o.isRTL?void 0:o.isRTL(t));let s=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:u}=Q(s,r,c),g=r,m={},p=0;for(let n=0;n<l.length;n++){const{name:a,fn:f}=l[n],{x:v,y:h,data:y,reset:w}=await f({x:d,y:u,initialPlacement:r,placement:g,strategy:i,middlewareData:m,rects:s,platform:o,elements:{reference:e,floating:t}});d=null!=v?v:d,u=null!=h?h:u,m={...m,[a]:{...m[a],...y}},w&&p<=50&&(p++,"object"==typeof w&&(w.placement&&(g=w.placement),w.rects&&(s=!0===w.rects?await o.getElementRects({reference:e,floating:t,strategy:i}):w.rects),({x:d,y:u}=Q(s,g,c))),n=-1)}return{x:d,y:u,placement:g,strategy:i,middlewareData:m}})(e,t,{...i,platform:a})};var Fe=n(942),je=n(606);const Te="react-tooltip-core-styles",Be="react-tooltip-base-styles",Le={core:!1,base:!1};function Me({css:e,id:t=Be,type:n="base",ref:r}){var i,a;if(!e||"undefined"==typeof document||Le[n])return;if("core"===n&&void 0!==je&&(null===(i=null==je?void 0:je.env)||void 0===i?void 0:i.REACT_TOOLTIP_DISABLE_CORE_STYLES))return;if("base"!==n&&void 0!==je&&(null===(a=null==je?void 0:je.env)||void 0===a?void 0:a.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;"core"===n&&(t=Te),r||(r={});const{insertAt:o}=r;if(document.getElementById(t))return;const l=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.id=t,c.type="text/css","top"===o&&l.firstChild?l.insertBefore(c,l.firstChild):l.appendChild(c),c.styleSheet?c.styleSheet.cssText=e:c.appendChild(document.createTextNode(e)),Le[n]=!0}const Ue=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:a="absolute",middlewares:o=[Y(Number(i)),Ie({fallbackAxisSideDirection:"start"}),Pe({padding:5})],border:l})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(null===t)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const c=o;return n?(c.push(De({element:n,padding:5})),ke(e,t,{placement:r,strategy:a,middleware:c}).then((({x:e,y:t,placement:n,middlewareData:r})=>{var i,a;const o={left:`${e}px`,top:`${t}px`,border:l},{x:c,y:s}=null!==(i=r.arrow)&&void 0!==i?i:{x:0,y:0},d=null!==(a={top:"bottom",right:"left",bottom:"top",left:"right"}[n.split("-")[0]])&&void 0!==a?a:"bottom",u=l&&{borderBottom:l,borderRight:l};let g=0;if(l){const e=`${l}`.match(/(\d+)px/);g=(null==e?void 0:e[1])?Number(e[1]):1}return{tooltipStyles:o,tooltipArrowStyles:{left:null!=c?`${c}px`:"",top:null!=s?`${s}px`:"",right:"",bottom:"",...u,[d]:`-${4+g}px`},place:n}}))):ke(e,t,{placement:"bottom",strategy:a,middleware:c}).then((({x:e,y:t,placement:n})=>({tooltipStyles:{left:`${e}px`,top:`${t}px`},tooltipArrowStyles:{},place:n})))},ze=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),Ge=(e,t,n)=>{let r=null;const i=function(...i){const a=()=>{r=null,n||e.apply(this,i)};n&&!r&&(e.apply(this,i),r=setTimeout(a,t)),n||(r&&clearTimeout(r),r=setTimeout(a,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},He=e=>null!==e&&!Array.isArray(e)&&"object"==typeof e,We=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((e,n)=>We(e,t[n])));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!He(e)||!He(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((n=>We(e[n],t[n])))},Ve=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some((e=>{const n=t.getPropertyValue(e);return"auto"===n||"scroll"===n}))},qe=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(Ve(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},Ke="undefined"!=typeof window?e.useLayoutEffect:e.useEffect,Qe=e=>{e.current&&(clearTimeout(e.current),e.current=null)},Je="DEFAULT_TOOLTIP_ID",Ye={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},$e=(0,e.createContext)({getTooltipData:()=>Ye});function Xe(t=Je){return(0,e.useContext)($e).getTooltipData(t)}var Ze={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},et={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const tt=({forwardRef:t,id:n,className:r,classNameArrow:i,variant:a="dark",anchorId:o,anchorSelect:l,place:c="top",offset:s=10,events:d=["hover"],openOnClick:u=!1,positionStrategy:g="absolute",middlewares:m,wrapper:p,delayShow:f=0,delayHide:v=0,float:h=!1,hidden:y=!1,noArrow:w=!1,clickable:b=!1,closeOnEsc:_=!1,closeOnScroll:E=!1,closeOnResize:R=!1,openEvents:N,closeEvents:S,globalCloseEvents:C,imperativeModeOnly:x,style:O,position:A,afterShow:P,afterHide:I,content:D,contentWrapperRef:k,isOpen:F,defaultIsOpen:j=!1,setIsOpen:T,activeAnchor:B,setActiveAnchor:L,border:M,opacity:U,arrowColor:z,role:G="tooltip"})=>{var H;const W=(0,e.useRef)(null),V=(0,e.useRef)(null),q=(0,e.useRef)(null),K=(0,e.useRef)(null),Q=(0,e.useRef)(null),[J,Y]=(0,e.useState)({tooltipStyles:{},tooltipArrowStyles:{},place:c}),[$,X]=(0,e.useState)(!1),[Z,ee]=(0,e.useState)(!1),[te,ne]=(0,e.useState)(null),re=(0,e.useRef)(!1),ie=(0,e.useRef)(null),{anchorRefs:ae,setActiveAnchor:oe}=Xe(n),le=(0,e.useRef)(!1),[ce,se]=(0,e.useState)([]),de=(0,e.useRef)(!1),ue=u||d.includes("click"),ge=ue||(null==N?void 0:N.click)||(null==N?void 0:N.dblclick)||(null==N?void 0:N.mousedown),me=N?{...N}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!N&&ue&&Object.assign(me,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const pe=S?{...S}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!S&&ue&&Object.assign(pe,{mouseleave:!1,blur:!1,mouseout:!1});const fe=C?{...C}:{escape:_||!1,scroll:E||!1,resize:R||!1,clickOutsideAnchor:ge||!1};x&&(Object.assign(me,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(pe,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(fe,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Ke((()=>(de.current=!0,()=>{de.current=!1})),[]);const ve=e=>{de.current&&(e&&ee(!0),setTimeout((()=>{de.current&&(null==T||T(e),void 0===F&&X(e))}),10))};(0,e.useEffect)((()=>{if(void 0===F)return()=>null;F&&ee(!0);const e=setTimeout((()=>{X(F)}),10);return()=>{clearTimeout(e)}}),[F]),(0,e.useEffect)((()=>{if($!==re.current)if(Qe(Q),re.current=$,$)null==P||P();else{const e=(e=>{const t=getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay").match(/^([\d.]+)(ms|s)$/);if(!t)return 0;const[,n,r]=t;return Number(n)*("ms"===r?1:1e3)})();Q.current=setTimeout((()=>{ee(!1),ne(null),null==I||I()}),e+25)}}),[$]);const he=e=>{Y((t=>We(t,e)?t:e))},ye=(e=f)=>{Qe(q),Z?ve(!0):q.current=setTimeout((()=>{ve(!0)}),e)},we=(e=v)=>{Qe(K),K.current=setTimeout((()=>{le.current||ve(!1)}),e)},be=e=>{var t;if(!e)return;const n=null!==(t=e.currentTarget)&&void 0!==t?t:e.target;if(!(null==n?void 0:n.isConnected))return L(null),void oe({current:null});f?ye():ve(!0),L(n),oe({current:n}),Qe(K)},_e=()=>{b?we(v||100):v?we():ve(!1),Qe(q)},Ee=({x:e,y:t})=>{var n;const r={getBoundingClientRect:()=>({x:e,y:t,width:0,height:0,top:t,left:e,right:e,bottom:t})};Ue({place:null!==(n=null==te?void 0:te.place)&&void 0!==n?n:c,offset:s,elementReference:r,tooltipReference:W.current,tooltipArrowReference:V.current,strategy:g,middlewares:m,border:M}).then((e=>{he(e)}))},Re=e=>{if(!e)return;const t=e,n={x:t.clientX,y:t.clientY};Ee(n),ie.current=n},Ne=e=>{var t;if(!$)return;const n=e.target;n.isConnected&&((null===(t=W.current)||void 0===t?void 0:t.contains(n))||[document.querySelector(`[id='${o}']`),...ce].some((e=>null==e?void 0:e.contains(n)))||(ve(!1),Qe(q)))},Se=Ge(be,50,!0),Ce=Ge(_e,50,!0),xe=e=>{Ce.cancel(),Se(e)},Oe=()=>{Se.cancel(),Ce()},Pe=(0,e.useCallback)((()=>{var e,t;const n=null!==(e=null==te?void 0:te.position)&&void 0!==e?e:A;n?Ee(n):h?ie.current&&Ee(ie.current):(null==B?void 0:B.isConnected)&&Ue({place:null!==(t=null==te?void 0:te.place)&&void 0!==t?t:c,offset:s,elementReference:B,tooltipReference:W.current,tooltipArrowReference:V.current,strategy:g,middlewares:m,border:M}).then((e=>{de.current&&he(e)}))}),[$,B,D,O,c,null==te?void 0:te.place,s,g,A,null==te?void 0:te.position,h]);(0,e.useEffect)((()=>{var e,t;const n=new Set(ae);ce.forEach((e=>{n.add({current:e})}));const r=document.querySelector(`[id='${o}']`);r&&n.add({current:r});const i=()=>{ve(!1)},a=qe(B),l=qe(W.current);fe.scroll&&(window.addEventListener("scroll",i),null==a||a.addEventListener("scroll",i),null==l||l.addEventListener("scroll",i));let c=null;fe.resize?window.addEventListener("resize",i):B&&W.current&&(c=Ae(B,W.current,Pe,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const s=e=>{"Escape"===e.key&&ve(!1)};fe.escape&&window.addEventListener("keydown",s),fe.clickOutsideAnchor&&window.addEventListener("click",Ne);const d=[],u=e=>{$&&(null==e?void 0:e.target)===B||be(e)},g=e=>{$&&(null==e?void 0:e.target)===B&&_e()},m=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],p=["click","dblclick","mousedown","mouseup"];Object.entries(me).forEach((([e,t])=>{t&&(m.includes(e)?d.push({event:e,listener:xe}):p.includes(e)&&d.push({event:e,listener:u}))})),Object.entries(pe).forEach((([e,t])=>{t&&(m.includes(e)?d.push({event:e,listener:Oe}):p.includes(e)&&d.push({event:e,listener:g}))})),h&&d.push({event:"pointermove",listener:Re});const f=()=>{le.current=!0},v=()=>{le.current=!1,_e()};return b&&!ge&&(null===(e=W.current)||void 0===e||e.addEventListener("mouseenter",f),null===(t=W.current)||void 0===t||t.addEventListener("mouseleave",v)),d.forEach((({event:e,listener:t})=>{n.forEach((n=>{var r;null===(r=n.current)||void 0===r||r.addEventListener(e,t)}))})),()=>{var e,t;fe.scroll&&(window.removeEventListener("scroll",i),null==a||a.removeEventListener("scroll",i),null==l||l.removeEventListener("scroll",i)),fe.resize?window.removeEventListener("resize",i):null==c||c(),fe.clickOutsideAnchor&&window.removeEventListener("click",Ne),fe.escape&&window.removeEventListener("keydown",s),b&&!ge&&(null===(e=W.current)||void 0===e||e.removeEventListener("mouseenter",f),null===(t=W.current)||void 0===t||t.removeEventListener("mouseleave",v)),d.forEach((({event:e,listener:t})=>{n.forEach((n=>{var r;null===(r=n.current)||void 0===r||r.removeEventListener(e,t)}))}))}}),[B,Pe,Z,ae,ce,N,S,C,ue,f,v]),(0,e.useEffect)((()=>{var e,t;let r=null!==(t=null!==(e=null==te?void 0:te.anchorSelect)&&void 0!==e?e:l)&&void 0!==t?t:"";!r&&n&&(r=`[data-tooltip-id='${n.replace(/'/g,"\\'")}']`);const i=new MutationObserver((e=>{const t=[],i=[];e.forEach((e=>{if("attributes"===e.type&&"data-tooltip-id"===e.attributeName&&(e.target.getAttribute("data-tooltip-id")===n?t.push(e.target):e.oldValue===n&&i.push(e.target)),"childList"===e.type){if(B){const t=[...e.removedNodes].filter((e=>1===e.nodeType));if(r)try{i.push(...t.filter((e=>e.matches(r)))),i.push(...t.flatMap((e=>[...e.querySelectorAll(r)])))}catch(e){}t.some((e=>{var t;return!!(null===(t=null==e?void 0:e.contains)||void 0===t?void 0:t.call(e,B))&&(ee(!1),ve(!1),L(null),Qe(q),Qe(K),!0)}))}if(r)try{const n=[...e.addedNodes].filter((e=>1===e.nodeType));t.push(...n.filter((e=>e.matches(r)))),t.push(...n.flatMap((e=>[...e.querySelectorAll(r)])))}catch(e){}}})),(t.length||i.length)&&se((e=>[...e.filter((e=>!i.includes(e))),...t]))}));return i.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{i.disconnect()}}),[n,l,null==te?void 0:te.anchorSelect,B]),(0,e.useEffect)((()=>{Pe()}),[Pe]),(0,e.useEffect)((()=>{if(!(null==k?void 0:k.current))return()=>null;const e=new ResizeObserver((()=>{setTimeout((()=>Pe()))}));return e.observe(k.current),()=>{e.disconnect()}}),[D,null==k?void 0:k.current]),(0,e.useEffect)((()=>{var e;const t=document.querySelector(`[id='${o}']`),n=[...ce,t];B&&n.includes(B)||L(null!==(e=ce[0])&&void 0!==e?e:t)}),[o,ce,B]),(0,e.useEffect)((()=>(j&&ve(!0),()=>{Qe(q),Qe(K)})),[]),(0,e.useEffect)((()=>{var e;let t=null!==(e=null==te?void 0:te.anchorSelect)&&void 0!==e?e:l;if(!t&&n&&(t=`[data-tooltip-id='${n.replace(/'/g,"\\'")}']`),t)try{const e=Array.from(document.querySelectorAll(t));se(e)}catch(e){se([])}}),[n,l,null==te?void 0:te.anchorSelect]),(0,e.useEffect)((()=>{q.current&&(Qe(q),ye(f))}),[f]);const Ie=null!==(H=null==te?void 0:te.content)&&void 0!==H?H:D,De=$&&Object.keys(J.tooltipStyles).length>0;return(0,e.useImperativeHandle)(t,(()=>({open:e=>{if(null==e?void 0:e.anchorSelect)try{document.querySelector(e.anchorSelect)}catch(t){return void console.warn(`[react-tooltip] "${e.anchorSelect}" is not a valid CSS selector`)}ne(null!=e?e:null),(null==e?void 0:e.delay)?ye(e.delay):ve(!0)},close:e=>{(null==e?void 0:e.delay)?we(e.delay):ve(!1)},activeAnchor:B,place:J.place,isOpen:Boolean(Z&&!y&&Ie&&De)}))),Z&&!y&&Ie?e.createElement(p,{id:n,role:G,className:Fe("react-tooltip",Ze.tooltip,et.tooltip,et[a],r,`react-tooltip__place-${J.place}`,Ze[De?"show":"closing"],De?"react-tooltip__show":"react-tooltip__closing","fixed"===g&&Ze.fixed,b&&Ze.clickable),onTransitionEnd:e=>{Qe(Q),$||"opacity"!==e.propertyName||(ee(!1),ne(null),null==I||I())},style:{...O,...J.tooltipStyles,opacity:void 0!==U&&De?U:void 0},ref:W},Ie,e.createElement(p,{className:Fe("react-tooltip-arrow",Ze.arrow,et.arrow,i,w&&Ze.noArrow),style:{...J.tooltipArrowStyles,background:z?`linear-gradient(to right bottom, transparent 50%, ${z} 50%)`:void 0},ref:V})):null},nt=({content:t})=>e.createElement("span",{dangerouslySetInnerHTML:{__html:t}}),rt=e.forwardRef((({id:t,anchorId:n,anchorSelect:r,content:i,html:a,render:o,className:l,classNameArrow:c,variant:s="dark",place:d="top",offset:u=10,wrapper:g="div",children:m=null,events:p=["hover"],openOnClick:f=!1,positionStrategy:v="absolute",middlewares:h,delayShow:y=0,delayHide:w=0,float:b=!1,hidden:_=!1,noArrow:E=!1,clickable:R=!1,closeOnEsc:N=!1,closeOnScroll:S=!1,closeOnResize:C=!1,openEvents:x,closeEvents:O,globalCloseEvents:A,imperativeModeOnly:P=!1,style:I,position:D,isOpen:k,defaultIsOpen:F=!1,disableStyleInjection:j=!1,border:T,opacity:B,arrowColor:L,setIsOpen:M,afterShow:U,afterHide:z,role:G="tooltip"},H)=>{const[W,V]=(0,e.useState)(i),[q,K]=(0,e.useState)(a),[Q,J]=(0,e.useState)(d),[Y,$]=(0,e.useState)(s),[X,Z]=(0,e.useState)(u),[ee,te]=(0,e.useState)(y),[ne,re]=(0,e.useState)(w),[ie,ae]=(0,e.useState)(b),[oe,le]=(0,e.useState)(_),[ce,se]=(0,e.useState)(g),[de,ue]=(0,e.useState)(p),[ge,me]=(0,e.useState)(v),[pe,fe]=(0,e.useState)(null),[ve,he]=(0,e.useState)(null),ye=(0,e.useRef)(j),{anchorRefs:we,activeAnchor:be}=Xe(t),_e=e=>null==e?void 0:e.getAttributeNames().reduce(((t,n)=>{var r;return n.startsWith("data-tooltip-")&&(t[n.replace(/^data-tooltip-/,"")]=null!==(r=null==e?void 0:e.getAttribute(n))&&void 0!==r?r:null),t}),{}),Ee=e=>{const t={place:e=>{var t;J(null!==(t=e)&&void 0!==t?t:d)},content:e=>{V(null!=e?e:i)},html:e=>{K(null!=e?e:a)},variant:e=>{var t;$(null!==(t=e)&&void 0!==t?t:s)},offset:e=>{Z(null===e?u:Number(e))},wrapper:e=>{var t;se(null!==(t=e)&&void 0!==t?t:g)},events:e=>{const t=null==e?void 0:e.split(" ");ue(null!=t?t:p)},"position-strategy":e=>{var t;me(null!==(t=e)&&void 0!==t?t:v)},"delay-show":e=>{te(null===e?y:Number(e))},"delay-hide":e=>{re(null===e?w:Number(e))},float:e=>{ae(null===e?b:"true"===e)},hidden:e=>{le(null===e?_:"true"===e)},"class-name":e=>{fe(e)}};Object.values(t).forEach((e=>e(null))),Object.entries(e).forEach((([e,n])=>{var r;null===(r=t[e])||void 0===r||r.call(t,n)}))};(0,e.useEffect)((()=>{V(i)}),[i]),(0,e.useEffect)((()=>{K(a)}),[a]),(0,e.useEffect)((()=>{J(d)}),[d]),(0,e.useEffect)((()=>{$(s)}),[s]),(0,e.useEffect)((()=>{Z(u)}),[u]),(0,e.useEffect)((()=>{te(y)}),[y]),(0,e.useEffect)((()=>{re(w)}),[w]),(0,e.useEffect)((()=>{ae(b)}),[b]),(0,e.useEffect)((()=>{le(_)}),[_]),(0,e.useEffect)((()=>{me(v)}),[v]),(0,e.useEffect)((()=>{ye.current!==j&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[j]),(0,e.useEffect)((()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:"core"===j,disableBase:j}}))}),[]),(0,e.useEffect)((()=>{var e;const i=new Set(we);let a=r;if(!a&&t&&(a=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),a)try{document.querySelectorAll(a).forEach((e=>{i.add({current:e})}))}catch(e){console.warn(`[react-tooltip] "${a}" is not a valid CSS selector`)}const o=document.querySelector(`[id='${n}']`);if(o&&i.add({current:o}),!i.size)return()=>null;const l=null!==(e=null!=ve?ve:o)&&void 0!==e?e:be.current,c=new MutationObserver((e=>{e.forEach((e=>{var t;if(!l||"attributes"!==e.type||!(null===(t=e.attributeName)||void 0===t?void 0:t.startsWith("data-tooltip-")))return;const n=_e(l);Ee(n)}))})),s={attributes:!0,childList:!1,subtree:!1};if(l){const e=_e(l);Ee(e),c.observe(l,s)}return()=>{c.disconnect()}}),[we,be,ve,n,r]),(0,e.useEffect)((()=>{(null==I?void 0:I.border)&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),T&&!ze("border",`${T}`)&&console.warn(`[react-tooltip] "${T}" is not a valid \`border\`.`),(null==I?void 0:I.opacity)&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),B&&!ze("opacity",`${B}`)&&console.warn(`[react-tooltip] "${B}" is not a valid \`opacity\`.`)}),[]);let Re=m;const Ne=(0,e.useRef)(null);if(o){const t=o({content:(null==ve?void 0:ve.getAttribute("data-tooltip-content"))||W||null,activeAnchor:ve});Re=t?e.createElement("div",{ref:Ne,className:"react-tooltip-content-wrapper"},t):null}else W&&(Re=W);q&&(Re=e.createElement(nt,{content:q}));const Se={forwardRef:H,id:t,anchorId:n,anchorSelect:r,className:Fe(l,pe),classNameArrow:c,content:Re,contentWrapperRef:Ne,place:Q,variant:Y,offset:X,wrapper:ce,events:de,openOnClick:f,positionStrategy:ge,middlewares:h,delayShow:ee,delayHide:ne,float:ie,hidden:oe,noArrow:E,clickable:R,closeOnEsc:N,closeOnScroll:S,closeOnResize:C,openEvents:x,closeEvents:O,globalCloseEvents:A,imperativeModeOnly:P,style:I,position:D,isOpen:k,defaultIsOpen:F,border:T,opacity:B,arrowColor:L,setIsOpen:M,afterShow:U,afterHide:z,activeAnchor:ve,setActiveAnchor:e=>he(e),role:G};return e.createElement(tt,{...Se})}));function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}"undefined"!=typeof window&&window.addEventListener("react-tooltip-inject-styles",(e=>{e.detail.disableCore||Me({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||Me({css:"\n.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}",type:"base"})}));var ot=wp.components||{},lt=ot.ButtonGroup,ct=ot.Button,st=React,dt=st.useState,ut=st.useEffect,gt=igd.settings.channels,mt=void 0===gt?["shareLink","embedCode","email"]:gt;function pt(e){var t=e.file,n=t.id,r=t.name,i=t.accountId;function a(e){var t=jQuery(e.target).parents("#igd-share-modal").find(".share-link input").val();function n(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.focus(),t.select(),document.execCommand("Copy"),t.remove()}function r(){Swal.fire({title:wp.i18n.__("Copied","integrate-google-drive"),text:wp.i18n.__("Link copied to clipboard","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})}navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(t).then((function(){r()})).catch((function(){n(t),r()})):(n(t),r())}var o=it(dt("preview"),2),l=o[0],c=o[1],s=zt(JSON.stringify({id:n,accountId:i})),d=it(dt("".concat(igd.homeUrl,"/?direct_file=").concat(s)),2),u=d[0],g=d[1],m=it(dt("link"),2),p=m[0],f=m[1];return ut((function(){if("download"===l){var e=Rt(t)?"file_ids=".concat(zt(JSON.stringify([n]))):"id=".concat(n,"&accountId=").concat(i),r="".concat(igd.homeUrl,"?igd_download=1&").concat(e);Ct(t)?r="".concat(igd.homeUrl,"/?igd_stream=1&id=").concat(n,"&account_id=").concat(i,"&ignore_limit=1"):At(t)&&(r=jt(t,"full")),g(r)}else g("".concat(igd.homeUrl,"/?direct_file=").concat(s))}),[l]),u&&React.createElement(React.Fragment,null,!!lt&&!!ct&&React.createElement("div",{className:"link-types-wrap"},React.createElement("h4",null,wp.i18n.__("Link Type","integrate-google-drive")),React.createElement(lt,null,React.createElement(ct,{variant:"preview"===l?"primary":"secondary",size:"default",onClick:function(){return c("preview")}},React.createElement("i",{className:"dashicons dashicons-visibility"}),wp.i18n.__("Preview Link","integrate-google-drive")),React.createElement(ct,{variant:"download"===l?"primary":"secondary",size:"default",onClick:function(){return c("download")}},React.createElement("i",{className:"dashicons dashicons-download"}),wp.i18n.__("Download Link","integrate-google-drive"))),React.createElement("p",{className:"description"},"preview"===l?wp.i18n.__("Choose the type of link you want to share.","integrate-google-drive"):wp.i18n.__("Choose the type of link you want to generate.","integrate-google-drive"))),React.createElement("div",{className:"share-link"},"link"===p?React.createElement("input",{type:"text",value:u,readOnly:!0,onClick:a}):React.createElement("textarea",{readOnly:!0,onClick:function(){document.querySelector(".share-link textarea").select(),document.execCommand("copy"),setTimeout((function(){Swal.fire({title:wp.i18n.__("Copied!","integrate-google-drive"),text:wp.i18n.__("Embed code copied to clipboard.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})}),500)}},'<iframe src="'.concat(u,'&embed=1" width="100%" height="480" frameBorder="0" allowTransparency="true" allow="encrypted-media" frameborder="0" allowfullscreen="allowfullscreen" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>'))),React.createElement("div",{className:"share-links"},"download"===l?React.createElement("div",{className:"share-item link",onClick:function(e){f("link"),a(e)}},React.createElement("i",{className:"dashicons dashicons-admin-links"}),React.createElement("span",null,wp.i18n.__("Copy Link","integrate-google-drive"))):React.createElement(React.Fragment,null,mt.includes("shareLink")&&React.createElement("div",{className:"share-item link",onClick:function(e){f("link"),a(e)}},React.createElement("i",{className:"dashicons dashicons-admin-links"}),React.createElement("span",null,wp.i18n.__("Copy Link","integrate-google-drive"))),mt.includes("embedCode")&&React.createElement("div",{className:"share-item embed",onClick:function(){return f("embed")}},React.createElement("i",{className:"dashicons dashicons-editor-code"}),React.createElement("span",null,wp.i18n.__("Embed","integrate-google-drive"))),mt.includes("email")&&React.createElement("a",{className:"share-item email",href:"mailto:?subject=".concat(r,"&body=").concat(u),onClick:function(){return f("link")}},React.createElement("i",{className:"dashicons dashicons-email"}),React.createElement("span",null,wp.i18n.__("Email","integrate-google-drive"))),mt.includes("facebook")&&React.createElement("a",{className:"share-item facebook",href:"https://www.facebook.com/sharer/sharer.php?u=".concat(u),target:"_blank",onClick:function(){return f("link")}},React.createElement("i",{className:"dashicons dashicons-facebook"}),React.createElement("span",null,wp.i18n.__("Facebook","integrate-google-drive"))),mt.includes("twitter")&&React.createElement("a",{className:"share-item twitter",href:"https://twitter.com/intent/tweet?text=".concat(r,"&url=").concat(u),target:"_blank",onClick:function(){return f("link")}},React.createElement("i",{className:"dashicons dashicons-twitter"}),React.createElement("span",null,wp.i18n.__("Twitter","integrate-google-drive"))),mt.includes("whatsapp")&&React.createElement("a",{className:"share-item whatsapp",href:"https://wa.me/?text=".concat(u),target:"_blank",onClick:function(){return f("link")}},React.createElement("i",{className:"dashicons dashicons-whatsapp"}),React.createElement("span",null,wp.i18n.__("WhatsApp","integrate-google-drive"))))))}function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ft(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ft(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _t(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={text:{"application/vnd.oasis.opendocument.text":"Text","text/plain":"Text"},file:{"text/html":"HTML","text/php":"PHP","x-httpd-php":"PHP","text/css":"CSS","text/js":"JavaScript","application/javascript":"JavaScript","application/json":"JSON","application/xml":"XML","application/x-shockwave-flash":"SWF","video/x-flv":"FLV","application/vnd.google-apps.file":"File"},image:{"application/vnd.google-apps.photo":"Photo","image/png":"PNG","image/jpeg":"JPEG","image/jpg":"JPG","image/gif":"GIF","image/bmp":"BMP","image/vnd.microsoft.icon":"ICO","image/tiff":"TIFF","image/tif":"TIF","image/svg+xml":"SVG"},zip:{"application/zip":"ZIP","application/x-rar-compressed":"RAR","application/x-msdownload":"EXE","application/vnd.ms-cab-compressed":"CAB"},audio:{"audio/mpeg":"MP3","video/quicktime":"QT","application/vnd.google-apps.audio":"Audio","audio/x-m4a":"Audio"},video:{"application/vnd.google-apps.video":"Video","video/x-flv":"Video","video/mp4":"Video","video/webm":"Video","video/ogg":"Video","application/x-mpegURL":"Video","video/MP2T":"Video","video/3gpp":"Video","video/quicktime":"Video","video/x-msvideo":"Video","video/x-ms-wmv":"Video"},pdf:{"application/pdf":"PDF"},word:{"application/msword":"MS Word"},doc:{"application/vnd.google-apps.document":"Google Docs"},excel:{"application/vnd.ms-excel":"Excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel"},presentation:{"application/vnd.google-apps.presentation":"Slide","application/vnd.oasis.opendocument.presentation":"Presentation"},powerpoint:{"application/vnd.ms-powerpoint":"Powerpoint"},form:{"application/vnd.google-apps.form":"Form"},folder:{"application/vnd.google-apps.folder":"Folder"},drawing:{"application/vnd.google-apps.drawing":"Drawing"},script:{"application/vnd.google-apps.script":"Script"},sites:{"application/vnd.google-apps.sites":"Sites"},spreadsheet:{"application/vnd.google-apps.spreadsheet":"Spreadsheet","application/vnd.oasis.opendocument.spreadsheet":"Spreadsheet"}},r="File",i="file";return Object.keys(n).map((function(a){t&&n[a][e]?i=a:n[a][e]&&(r=n[a][e])})),t?i:r}function Et(e){if(e<1)return 0;var t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(2)+" "+["Byte","KB","MB","GB","TB"][t]}function Rt(e){var t;return!e||!e.type||("application/vnd.google-apps.folder"===e.type||"application/vnd.google-apps.folder"===(null===(t=e.shortcutDetails)||void 0===t?void 0:t.targetMimeType))}function Nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:JSON.parse(Gt(igd.activeAccount))).id,n=[{accountId:t,id:"root",name:wp.i18n.__("My Drive","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/my-drive.svg")},{accountId:t,id:"shared-drives",name:wp.i18n.__("Shared Drives","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/shared-drives.svg")},{accountId:t,id:"computers",name:wp.i18n.__("Computers","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/computers.svg")},{accountId:t,id:"shared",name:wp.i18n.__("Shared with me","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/shared.svg")},{accountId:t,id:"starred",name:wp.i18n.__("Starred","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/starred.svg")}];return e?n.find((function(t){return t.id===e})):n}function St(e){var t,n=null==e||null===(t=e.getSource)||void 0===t||null===(t=t.call(e))||void 0===t||null===(t=t.relativePath)||void 0===t?void 0:t.replace(/^\//,"");return null!=n?n:""}function Ct(e){return Ot(e)||xt(e)}function xt(e){var t,n;return!(null==e||null===(t=e.type)||void 0===t||!t.includes("video/"))||!(null===(n=e.shortcutDetails)||void 0===n||!n.targetMimeType.includes("video/"))}function Ot(e){var t,n;return!(null===(t=e.type)||void 0===t||!t.includes("audio/"))||!(null===(n=e.shortcutDetails)||void 0===n||!n.targetMimeType.includes("audio/"))}function At(e){var t,n;return!(null===(t=e.type)||void 0===t||!t.includes("image/"))||!(null===(n=e.shortcutDetails)||void 0===n||!n.targetMimeType.includes("image/"))}function Pt(e,t){return Nt(e,t)}function It(e,t){var n=wt(React.useState(t?"igd-item-col-1":"igd-item-col-4"),2),r=n[0],i=n[1],a=React.useMemo((function(){return[{class:"igd-item-col-1",width:320},{class:"igd-item-col-2",width:480},{class:"igd-item-col-3",width:768},{class:"igd-item-col-4",width:992},{class:"igd-item-col-5",width:1200},{class:"igd-item-col-6",width:1440},{class:"igd-item-col-7",width:1680},{class:"igd-item-col-8",width:1920},{class:"igd-item-col-9",width:1/0}]}),[]);function o(e){var n;if(t)i("igd-item-col-1");else{var r=null===(n=e[0])||void 0===n||null===(n=n.contentRect)||void 0===n?void 0:n.width;if(r){var o=a.find((function(e){return r<e.width}))||a[a.length-1];i(o.class)}}}return React.useEffect((function(){if(null!=e&&e.current){var t=new ResizeObserver(o);return t.observe(e.current),function(){t.disconnect()}}}),[e,t,a]),r}function Dt(){return{browser:{title:wp.i18n.__("File Browser","integrate-google-drive"),description:wp.i18n.__("Let your users browse the selected specific Google Drive files and folders.","integrate-google-drive"),isPro:!0},uploader:{title:wp.i18n.__("File Uploader","integrate-google-drive"),description:wp.i18n.__("Let your users upload files to the specific selected Google Drive folder.","integrate-google-drive"),isPro:!0},media:{title:wp.i18n.__("Media Player","integrate-google-drive"),description:wp.i18n.__("Play audio and video files in a media player.","integrate-google-drive"),isPro:!0},search:{title:wp.i18n.__("Search Box","integrate-google-drive"),description:wp.i18n.__("Let your users search for contents and files via a search box.","integrate-google-drive"),isPro:!0},slider:{title:wp.i18n.__("Slider Carousel","integrate-google-drive"),description:wp.i18n.__("Display images, videos and documents in a slider carousel.","integrate-google-drive"),isPro:!0},gallery:{title:wp.i18n.__("Gallery","integrate-google-drive"),description:wp.i18n.__("Display images and videos in a masonry grid layout with lightbox preview.","integrate-google-drive")},embed:{title:wp.i18n.__("Embed Documents","integrate-google-drive"),description:wp.i18n.__("Embed Google Drive documents.","integrate-google-drive")},download:{title:wp.i18n.__("Download Links","integrate-google-drive"),description:wp.i18n.__("Insert Google Drive files download links.","integrate-google-drive")},view:{title:wp.i18n.__("View Links","integrate-google-drive"),description:wp.i18n.__("Insert Google Drive files view links.","integrate-google-drive")}}}function kt(e){var t=e.target.parentNode.querySelector("code");window.getSelection().selectAllChildren(t);var n=t.innerHTML;if(window.isSecureContext)navigator.clipboard.writeText(n);else{var r=document.createElement("textarea");r.value=n,document.body.appendChild(r),r.select(),document.execCommand("Copy"),r.remove()}window.getSelection().selectAllChildren(t),Swal.fire({title:wp.i18n.__("Copied","integrate-google-drive"),text:wp.i18n.__("Shortcode copied to clipboard","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})}function Ft(e,t){e.onerror=null;var n="https://www.gravatar.com/avatar/"+t+"?s=200&d=mm";e.src===n?e.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAyADIAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+t6KMUtACZooxRQAUZpaSgAozRiloASijFGKADNFLRigBM0UUtACUUtJigAopaKAE5oopaAEo5paKAEoopaAE5opaKAEooooAWkoooAMUUUUAFFFFABRRRQAUUUUAGKKKKACiiigApaSigAooooAWkoooAKWkooAKKKKAClpKWgBKKKKACiiloASiiigAop8UTzyLHGrSOxwqqMkmvTPCnwpXYl1rJJY8i0Q8D/eP9B+dAHnVjpl3qcvl2ltLcv6RoWx9fSumsvhXr10AZI4bUH/AJ7Sc/kua9ltLO3sIRDbQxwRDokahR+QqagDyL/hTmp7f+P20z6Zb/CqV58KddtgTGkF0PSKTB/8exXtVFAHzff6Re6VJsvLWW2bt5ikA/Q96qV9LXNrDeRGKeJJ426pIoYH8DXnvir4UxTK9zox8qXqbVj8p/3T2+h/SgDyujFSTwSWszwzRtHKh2sjDBBqOgApaSigAoo7UUAFFFFAC0UlFABRRiigAooooAKKKKAClUFmAAJJ4AApK7r4V+GxqmqNqE6hoLQjaD/FIen5dfyoA634f+B00G2W9vEDajIMgN/yxB7D39fyrtKKSgApaKKACkopaACikxRQByXjzwTF4jtGubdAmpRD5WHHmD+6f6GvFJEeJ2R1KOpwVYYIPpX0zXkvxY8NLZXseqwKFiuDslAHR8dfxA/T3oA8+oxR0ooAKKMUYoAMUUUYoAKKMUUAFGaKM0AFFFFABR3oooAK978CaUNJ8L2MW3bJIgmf/ebn9BgfhXhFtF59zFGP43C/ma+lY0EaKi8KoAFADqKKKAEpaSloAKSlpKACloooASsjxdpY1nw5fW23LmMsn+8OR+orXpTyKAPmSlqzq1uLTVLyAcCKZ0GfZiKq0AFHNFFABS0mKKACiiigAoopaAEo60UUAFFFHegCxp8giv7Zz0SVSfzFfSdfMoPOa+ivD+oDVdEsbsHPmxKT7HHI/PNAGhSUtFABRRRQAlFLRQAlFGaWgBKKWqup3y6bp1zdv92GNnP4DNAHz74gkEuvalIOjXMpH4uaoU53MjszcliSTSUAJRS0lABRS0UAJiiiigAooxRQAUUUfpQAUUUUAFerfCLXlms59KlceZEfMhB7qeoH0PP415TirekapPouowXts22WJsj0I7g+xFAH0hSdqzvD+u2/iLTYry2PDDDoTyjdwa0aAClpOlFAC0lLSUALRSUv4UAJXBfFrXls9Jj02Jx51yQzgdRGP8Tj8jXYa1rFtoWnS3l022NBwO7HsB714Drusz6/qk97cH55DwoPCr2AoAodaKMUUAFFFFABRRRQAUUdaKACiiigAo6UUUAFFFFABiiiigDY8M+J7vwvfefbNujbiWFj8rj/AB969q8O+KrDxNbCS1l2ygfPA5w6fh3HvXkfhz4f6p4hCyiMWtqf+W8wxkf7I6n+XvXpnh74d6X4fkjnCvc3aciaQ4wfYDgfrQB1FFFLQAn50UtJQAtZWv8AiWw8N2pmu5sMR8kSnLv9B/WtWuY8R/D3TPEUjzsJLe7brNG2cn3B4/lQB5P4q8WXfiq88yb93bpnyoFPCj+p96w66bxH8P8AVPDwaUoLq0H/AC3hGcf7w6j+XvXMmgAooooAMUUGjNABRiiigAoozRQAUUUUAFFFFABRRUkEEl1OkMKNJK7BVRRkkntQAW9vLdzJDDG0srkKqKMkmvWPB3wyg00Jd6qq3F31WA8pH9fU/pWl4G8DxeGrYT3CrJqTj5n6iMf3V/qa6ygAAAAAHFHaiigA6UUUUALSUUtACUClpM0ABGRgjg1wPjH4ZQ6isl3pSrb3fVoOiSfT0P6V39FAHzRcW8tpO8M0bRSodrIwwQajr27xz4Hh8S2xnt1WPUox8r9BIP7rf0NeKzwSWs8kMyNHKjFWRhggjtQBHRRRQAUUUUAFFFFABRRRQAUUUdaACvWvhh4PFjbrq12n+kSr+4Vh9xD/ABfU/wAvrXF+AfDX/CR64gkUmzt8STeh9F/E/pmvdAAowOAOMUAKaSiloAKKTNHagApaSjNAC0lAooAMUtJmgUAFGMUUZ4oAWvPvif4PF9bPq9omLiEfv0UffQfxfUfy+legZoIDAg8g8YoA+ZaK6Xx94a/4RzW3Ea4s7jMkJ7D1X8D+mK5qgAooooAKKKKACiiigAoorZ8IaR/bniKytSu6Ivvk/wB0cn+WPxoA9c+HugjQ/DkO9dtzcDzpT9eg/AY/WumpOg7YooAXrSUtJQAUtJS0AJRRRQAuaKKSgBaKSloAKKSigBc0UUlAHNfELQRrvhyfYu64tx50R+nUfiM/jivCq+miOtfP3i/SP7D8RXtqBtjD74/91uR/PH4UAY1FFFABRRRQAUUUd6ACvSPg3p2+6v74j7irCp+pyf5D8683r2n4UWf2bwmsuMGeZ5Py+X/2WgDsqDQaKACij8KSgBaO1JS/hQAUUlFACikpfwooAM0Cij8KAEpe1FFABRRRQAV5Z8ZNO2XWn3yj76GFj9OR/M/lXqdcb8VrMXPhN5MZMEySD8fl/wDZqAPFqKKKACiiigAooooAK9+8DweR4R0tfWEP+fP9aKKAN2iiigApKKKACloooASloooAKSiigApaKKAEooooAXFJRRQAVh+OYPtHhLVF64hL/wDfPP8ASiigDwGiiigAooooA//Z":e.src=n}function jt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.id,i=e.iconLink,a=e.thumbnailLink;e.accountId;e.shortcutDetails&&(r=e.shortcutDetails.targetId);var o=n.w,l=n.h;o||(o=64),l||(l=64);var c=null==i?void 0:i.replace("/16/","/".concat(o,"/"));return a&&(c=Bt(e)?"custom"===t?"https://drive.google.com/thumbnail?id=".concat(r,"&sz=w").concat(o,"-h").concat(l):"https://drive.google.com/thumbnail?id=".concat(r,"small"===t?"&sz=w300-h300":"medium"===t?"&sz=w600-h400":"large"===t?"&sz=w1024-h768":"full"===t?"&sz=w2048":"&sz=w300-h300"):a.includes("google.com")?"custom"===t?a.replace("=s220","=w".concat(o,"-h").concat(l)):"small"===t?a.replace("=s220","=w300-h300"):"medium"===t?a.replace("=s220","=h600-nu"):"large"===t?a.replace("=s220","=w1024-h768-p-k-nu"):"full"===t?a.replace("=s220",""):a.replace("=s220","=w200-h190-p-k-nu"):Tt(e,t,o,l)),c}function Tt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,i={id:e.id,accountId:e.accountId,size:t};"custom"===t&&(i.w=n,i.h=r);var a=zt(JSON.stringify(i));return"".concat(igd.homeUrl,"/?igd_preview_image=").concat(a)}function Bt(e){var t,n;return"reader"===(null===(t=e.permissions)||void 0===t||null===(t=t.users)||void 0===t||null===(t=t.anyoneWithLink)||void 0===t?void 0:t.role)||"writer"===(null===(n=e.permissions)||void 0===n||null===(n=n.users)||void 0===n||null===(n=n.anyoneWithLink)||void 0===n?void 0:n.role)}function Lt(){var e=wt(React.useState(!1),2),t=e[0],n=e[1];return React.useEffect((function(){n(!0)}),[]),t}function Mt(e,t,n,r,i){var a,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:igd.nonce;if(!r||r.preview){n=n.filter((function(e){return!Rt(e)}));var s=!r||!1!==r.inlinePreview,d=n.find((function(e){return e.id===t}));if(!s&&d&&d.webViewLink)window.open(d.webViewLink,"_blank");else{var u=!r||!!r.download,g=!r||r.allowPreviewPopout,m=!!r&&r.comment,p=n.map((function(e){var t=e.id,n=e.name,i=e.iconLink,a=e.accountId,s=e.exportAs,d=e.exportLinks,g=e.webContentLink,p=e.description,f=Ct(e),v=At(e),h="";if(s&&u&&(d||g)){h="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(e.id,"&accountId=").concat(e.accountId,"&shortcodeId=").concat(l,"&nonce=").concat(c);var y=Object.keys(s);if(y.length){var w=s[y[0]].mimetype;h+="&mimetype=".concat(w)}}var b={thumb:jt(e,"small"),downloadUrl:h,subHtml:o?"<h4>".concat(n.replace(/\.[^/.]+$/,""),"</h4>").concat(p?"<p>".concat(p,"</p>"):""):'<div class="item-name">\n                      <img src="'.concat(null==i?void 0:i.replace("/16/","/32/"),'" alt="').concat(n,'" />\n                      <span>').concat(n,"</span>\n                  </div>")};if(m){var _="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname),E="".concat(_,"?id=").concat(t);"disqus"===r.commentMethod?(b.disqusIdentifier=t,b.disqusUrl=E):b.fbHtml='<div class="fb-comments" data-href="'.concat(E,'" data-width="400" data-numposts="5"></div>')}if(f)if(Bt(e))b.iframe=!0,b.iframeTitle=n,b.src="https://drive.google.com/file/d/".concat(t,"/preview");else{b.poster=jt(e,"large");var R=xt(e)?"video/mp4":"audio/mp3",N="".concat(igd.ajaxUrl,"?action=igd_stream&id=").concat(t,"&account_id=").concat(a,"&shortcodeId=").concat(l,"&nonce=").concat(c);b.video='{"source": [{"src":"'.concat(N,'", "type":"').concat(R,'"}], "attributes": {"preload": "auto","playsinline": true, "autoplay": true, "controls": true, "referrerpolicy": "no-referrer"}}')}else v?b.src=jt(e,"full"):(b.iframe=!0,b.iframeTitle=n,b.src="".concat(igd.ajaxUrl,"?action=igd_preview&file_id=").concat(t,"&account_id=").concat(a,"&shortcodeId=").concat(l,"&popout=").concat(!r||!!r.allowPreviewPopout,"&nonce=").concat(c));return b})),f=function(){document.body.style.overflow="hidden"},v=function t(){document.body.style.overflow="",e.target.removeEventListener("lgBeforeOpen",f),e.target.removeEventListener("lgAfterClose",t),e.target.removeEventListener("lgSlideItemLoad",_)};window.dynamicGallery&&(e.target.removeEventListener("lgBeforeOpen",f),e.target.removeEventListener("lgAfterClose",v),e.target.removeEventListener("lgSlideItemLoad",_),window.dynamicGallery.destroy(!0));var h=window.innerWidth<768,y=[lgZoom,lgVideo];m&&y.push(lgComment),h||y.push(lgFullscreen),null!==(a=igd.settings)&&void 0!==a&&a.hidePreviewThumbnails||y.push(lgThumbnail);var w={dynamic:!0,dynamicEl:p,plugins:y,addClass:"igd-lightbox ".concat(u?"":"no-download"," ").concat(o?"gallery-lightbox":""," "),counter:o,autoplayVideoOnSlide:!0,preload:3,mobileSettings:{showCloseIcon:!0,thumbWidth:60,thumbHeight:60,download:!0,controls:!0}};o?w.allowMediaOverlap=!0:w.appendSubHtmlTo=".lg-outer",m&&(w.commentBox=!0,"disqus"===r.commentMethod?w.disqusComments=!0:w.fbComments=!0),window.dynamicGallery=lightGallery(e.target,w),e.target.addEventListener("lgBeforeOpen",f),e.target.addEventListener("lgAfterClose",v),e.target.addEventListener("lgSlideItemLoad",_),i&&i.downloadNotification&&document.addEventListener("click",(function(e){e.target.classList.contains("lg-download")&&wp.ajax.post("igd_notification",{files:[d],notifications:i,type:"download",nonce:igd.nonce})}),!1);var b=n.findIndex((function(e){return e.id===t}));dynamicGallery.openGallery(b)}}function _(){var e=document.querySelector(".lg-current");if(e){var t=e.querySelector(".igd-hidepopout");g||t||e.insertAdjacentHTML("beforeend",'<div class="igd-hidepopout">&nbsp;</div>')}}}function Ut(){var e=window.IgdShortcode;Array.from(document.querySelectorAll(".igd")).forEach((function(t){var n=t.dataset.shortcodeData;if(n)try{var r=JSON.parse(Gt(n));ReactDOM.render(React.createElement(e,{data:r}),t)}catch(e){console.error("Could not parse the shortcode data",e)}}))}function zt(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}function Gt(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function Ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JSON.parse(Gt(igd.activeAccount));return"root"!==e&&Pt(e,t)}function Wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"970",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"700",n=window.screenLeft||window.screenX,r=window.screenTop||window.screenY,i=n+(window.innerWidth||document.documentElement.clientWidth||screen.width)/2-e/2,a=r+(window.innerHeight||document.documentElement.clientHeight||screen.height)/2-t/2,o=window.open(igd.authUrl,"newwindow","width=".concat(e,",height=").concat(t,",left=").concat(i,",top=").concat(a));o.focus&&o.focus(),Object.keys(sessionStorage).forEach((function(e){e.includes("igd_last_folder_")&&sessionStorage.removeItem(e)}))}function Vt(e,t){localStorage.setItem("igd_listing_view_".concat(e||"admin"),t)}function qt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"admin";e&&sessionStorage.setItem("igd_last_folder_".concat(t),JSON.stringify(ht(ht({},e),{},{pageNumber:0})))}function Kt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"admin";sessionStorage.removeItem("igd_last_folder_".concat(e))}function Qt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(e=new Date(e)).getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),i=("0"+e.getDate()).slice(-2);if(t){var a=e.getHours(),o=a<12?"AM":"PM",l=0===a?12:a>12?a-12:a,c=("0"+e.getMinutes()).slice(-2);return"".concat(n,"-").concat(r,"-").concat(i," ").concat(("0"+l).slice(-2),":").concat(c," ").concat(o)}return"".concat(n,"-").concat(r,"-").concat(i)}function Jt(){var e=new URL(window.location.href);e.searchParams.delete("id"),window.history.pushState({},"",e)}function Yt(){return new URLSearchParams(window.location.search).get("id")}function $t(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function Xt(e){var t=e.files,n=e.activeFiles,r=e.setFiles,i=e.setAllFiles,a=e.activeFolder,o=e.setActiveFiles,l=e.activeFile,c=e.notifications,s=e.shortcodeId,d=e.nonce,u=void 0===d?igd.nonce:d,g=n.length?n.map((function(e){return e.id})):[l.id],m=n.length?n[0].accountId:l.accountId;Swal.fire({title:wp.i18n.__("Are you sure?","integrate-google-drive"),text:wp.i18n.sprintf(wp.i18n._n("You are about to delete the file.","You are about to delete %s files.",g.length,"integrate-google-drive"),g.length),icon:"warning",showCancelButton:!0,customClass:{container:"igd-swal igd-swal-reverse"},confirmButtonText:wp.i18n.__("Yes, delete it!","integrate-google-drive"),cancelButtonText:wp.i18n.__("No, cancel!","integrate-google-drive"),reverseButtons:!0,showLoaderOnConfirm:!0,preConfirm:function(){return wp.ajax.post("igd_delete_files",{shortcodeId:s,file_ids:g,account_id:m,nonce:u})}}).then((function(e){if(e.isConfirmed){c&&c.deleteNotification&&wp.ajax.post("igd_notification",{files:n,notifications:c,type:"delete",nonce:u});var l=t.filter((function(e){return!g.includes(e.id)}));r(l),i((function(e){return ht(ht({},e),{},yt({},a.id,l))})),o([]),Swal.fire({title:wp.i18n.__("Deleted!","integrate-google-drive"),text:wp.i18n.sprintf(wp.i18n._n("File has been deleted.","%d files have been deleted.",g.length,"integrate-google-drive"),g.length),icon:"success",showConfirmButton:!1,timer:1500,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"}})}}))}function Zt(e){e.preventDefault();var t=jQuery(this),n=t.find('input[name="shortcode_id"]').val(),r=t.find('input[name="password"]').val(),i=t.find("button img");i.show(),wp.ajax.post("igd_module_login",{shortcodeId:n,password:r,nonce:igd.nonce}).done((function(e){t.parent().replaceWith(e),Ut()})).fail((function(e){console.log(e),t.parent().find(".igd-password-error").text(wp.i18n.__("Invalid password.","integrate-google-drive"))})).always((function(){i.hide()}))}function en(e,t,n,r,i,a){var o=(new Date).getTime(),l=e?t.filter((function(e){return!r||!Rt(e)||r.folderDownload})).map((function(e){return e.id})):[null==n?void 0:n.id],c=e?t[0].accountId:n.accountId,s="".concat(igd.ajaxUrl,"?action=igd_download&file_ids=").concat(zt(JSON.stringify(l)),"&request_id=").concat(o,"&accountId=").concat(c,"&shortcodeId=").concat(i,"&nonce=").concat(a||igd.nonce);Swal.fire({title:wp.i18n.__("Download","integrate-google-drive"),html:'<div class="igd-download-wrap"><div id="igd-download-status"></div><div id="igd-download-progress"></div><iframe id="igd-hidden-download" class="igd-hidden" src="'.concat(s,'" ></iframe></div>'),showCancelButton:!1,showConfirmButton:!1,showCloseButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,customClass:{container:"igd-swal igd-download-popup"},didOpen:function(){Swal.showLoading();var e=jQuery("#igd-download-status"),t=jQuery("#igd-download-progress");window.downloadStatusInterval=setInterval((function(){wp.ajax.post("igd_download_status",{id:o,nonce:a||igd.nonce}).done((function(n){if(!document.getElementById("igd-hidden-download"))return clearInterval(window.downloadStatusInterval),void Swal.close();if(!n)return clearInterval(window.downloadStatusInterval),Swal.close(),void Swal.fire({title:wp.i18n.__("Completed!","integrate-google-drive"),text:wp.i18n.__("Download completed","integrate-google-drive"),icon:"success",showConfirmButton:!1,toast:!0,timer:2e3,timerProgressBar:!0,customClass:{container:"igd-swal"}});var r=n.status,i=n.total,a=n.downloaded,o=n.action;"failed"===o?(clearInterval(window.downloadStatusInterval),Swal.close(),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:r,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})):(e.html(r),"downloading"===o&&t.html("".concat(Et(a)," of ").concat(Et(i)," - ").concat(Math.round(a/i*100),"%")))})).fail((function(e){clearInterval(window.downloadStatusInterval),Swal.close(),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})}))}),1e3)},willClose:function(){clearInterval(window.downloadStatusInterval)}})}function tn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?wp.i18n.__("Direct Link","integrate-google-drive"):wp.i18n.__("Share","integrate-google-drive");Swal.fire({title:t,html:'<div id="igd-share-modal"></div>',didOpen:function(){var t=document.getElementById("igd-share-modal");ReactDOM.render(React.createElement(pt,{file:e}),t)},showCloseButton:!0,showConfirmButton:!1,showCancelButton:!1,customClass:{container:"igd-swal share-modal"}})}function nn(){return window.innerWidth<768}function rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return an(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return an(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var on=React,ln=on.useState,cn=on.useRef,sn=on.useEffect,dn=on.useContext;function un(){var e=dn(x),t=e.isSearch,n=e.searchFiles,r=e.setFiles,i=e.listFiles,a=e.activeFolder,o=e.setActiveFolder,l=e.setIsSearchResults,c=e.initFolders,s=e.searchKeyword,d=e.setSearchKeyword,u=e.initialSearchTerm,g=e.isMobile,m=cn(null),p=rn(ln(!1),2),f=p[0],v=p[1],h=cn(),y=rn(ln(t||u),2),w=y[0],b=y[1],_=function(e){if(e&&e.preventDefault(),v(!1),l(!1),!s)return Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Please enter a keyword to search","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",showCloseButton:!0,customClass:{container:"igd-swal"}}),void v(!0);n(s)},E=Lt();return sn((function(){if(E&&s&&!(s.length<5))return m.current=setTimeout((function(){_()}),1500),function(){clearTimeout(m.current)}}),[s]),React.createElement("form",{ref:h,className:"igd-search-bar ".concat(w?"active":""," ").concat(f?"error":""),onSubmit:_},(t||!!s||g&&w)&&React.createElement("div",{className:"search-dismiss",onClick:function(){t||b(!w),d(""),v(!1),l(!1),a?t?(l(!1),o(null),r([])):i(a):r(c&&!t?c:[])}},React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M1.5 1.5L10.5 10.5M1.5 10.5L10.5 1.5L1.5 10.5Z",stroke:"#BABABA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),React.createElement("input",{type:"text",placeholder:wp.i18n.__("Enter a keyword to search","integrate-google-drive"),value:s,onChange:function(e){d(e.target.value)}}),React.createElement("button",{type:"submit",className:"header-action-item action-search search-submit",onClick:function(e){var t;(e.preventDefault(),!w&&g)?(b(!0),null===(t=h.current)||void 0===t||t.querySelector("input").focus()):_(e)}},React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("circle",{cx:"9.7659",cy:"9.76639",r:"8.98856",stroke:"#3D3D3D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),React.createElement("path",{d:"M16.0176 16.4849L19.5416 19.9997",stroke:"#3D3D3D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))))}function gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pn=React,fn=pn.useContext,vn=pn.useState,hn=pn.useEffect,yn=pn.useRef,wn=igd.settings.rememberLastFolder,bn=void 0===wn||wn;function _n(){var e=fn(x),t=e.breadcrumbs,n=e.setBreadcrumbs,r=e.initFolders,i=e.setFiles,a=e.activeFolder,o=e.setActiveFolder,l=e.setActiveFile,c=e.listFiles,s=e.initParentFolder,d=e.show,u=e.isShortcodeBuilder,g=e.activeAccount,m=e.setIsOptions,p=e.setActiveFiles,f=e.shortcodeId,v=yn(null),h=gn(vn({rootItem:"",collapsedItems:[],lastItems:[]}),2),y=h[0],w=h[1];hn((function(){var e=t?Object.keys(t):[];w({rootItem:e.length>2?e[0]:"",collapsedItems:e.length>3?e.slice(1,-2):[],lastItems:e.length?e.slice(-2):[]});var n=function(){var e=v.current.offsetWidth,n=Array.from(v.current.children).map((function(e){return e.offsetWidth})).reduce((function(e,t){return e+t}),0),r=!!t&&Object.keys(t);if(n>e){var i=r.slice(0,-1),a=[r[r.length-1]];w({rootItem:"",collapsedItems:i,lastItems:a})}};return setTimeout((function(){n(),window.addEventListener("resize",n)})),function(){return window.removeEventListener("resize",n)}}),[t]);var b=function(e){e.preventDefault(),e.stopPropagation(),m(!1),p([]),l(a),d(e)},_=gn(vn(!1),2),E=_[0],R=_[1];console.log(y);var N=y.rootItem,S=y.collapsedItems,C=y.lastItems;return React.createElement("div",{className:"igd-breadcrumb",ref:v},React.createElement("button",{type:"button",className:"breadcrumb-item",onClick:function(e){r?s?(o(s),c(s)):(o(null),i(r)):(o(null),i([])),n({}),bn&&Kt(f)}},React.createElement("i",{className:"dashicons dashicons-admin-home"}),React.createElement("span",null,wp.i18n.__("Home","integrate-google-drive"))),!!a&&React.createElement(React.Fragment,null,!!N&&React.createElement("button",{type:"button",className:"breadcrumb-item ".concat(u||a.id!==N?"":"active"),onClick:function(e){a.id===N?b(e):c({id:N,name:t[N],accountId:a.accountId})}},React.createElement("span",null,$t(t[N]))),!!S.length&&React.createElement(React.Fragment,null,React.createElement("button",{type:"button",className:"breadcrumb-item breadcrumb-options",onClick:function(){return R(!E)}},React.createElement("i",{className:"dashicons dashicons-ellipsis"}),React.createElement("i",{className:"dashicons dashicons-arrow-right-alt2"})),React.createElement(rt,{anchorSelect:".breadcrumb-options",isOpen:E,setIsOpen:R,place:"bottom",variant:"light",openEvents:["click"],clickable:!0,className:"collapsed-breadcrumbs igd-tooltip",content:function(){return S.map((function(e){return React.createElement("div",{key:e,className:"collapsed-breadcrumbs-item",onClick:function(n){c({id:e,name:t[e],accountId:a.accountId})}},React.createElement("span",null,t[e]))}))},afterShow:function(){v.current.parentElement.style.zIndex=9},afterHide:function(){v.current.parentElement.style.zIndex=2}})),C.map((function(e){return React.createElement("button",{type:"button",key:e,className:"breadcrumb-item ".concat(Ht(a.id,g)||u||a.id!==e?"":"active"),onClick:function(n){Ht(a.id,g)||(a.id===e?b(n):c({id:e,name:t[e],accountId:a.accountId}))}},React.createElement("span",null,$t(t[e])))}))))}function En(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nn=React,Sn=Nn.useEffect,Cn=Nn.useState;function xn(e){var t=e.text,n=e.isDismissable,r=void 0===n||n,i=En(Cn(!0),2),a=i[0],o=i[1];return Sn((function(){a||ReactDOM.unmountComponentAtNode(document.getElementById("igd-pro-modal"))}),[a]),Sn((function(){var e=jQuery;function t(){var e=(new Date).getTime()+2.3*24*60*60*1e3;localStorage.setItem("igd_offer_time",e),n=e}r&&e(document).on("click",".igd-pro-modal-wrap",(function(t){e(t.target).hasClass("igd-pro-modal-wrap")&&o(!1)}));var n=localStorage.getItem("igd_offer_time");!n||isNaN(n)?t():n=parseInt(n),setInterval((function(){var r=(new Date).getTime(),i=n-r;i<0&&(t(),i=n-r);var a=Math.floor(i/864e5),o=Math.floor(i%864e5/36e5),l=Math.floor(i%36e5/6e4),c=Math.floor(i%6e4/1e3);e(".timer .days span:first").text(a),e(".timer .hours span:first").text(o),e(".timer .minutes span:first").text(l),e(".timer .seconds span:first").text(c)}),1e3)}),[]),a?React.createElement("div",{className:"igd-pro-modal-wrap"},React.createElement("div",{className:"igd-pro-modal"},React.createElement("span",{className:"igd-pro-modal-close",onClick:function(){return o(!1)}},"×"),React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/offer.svg"),alt:"Upgrade to Pro"}),React.createElement("h3",null,wp.i18n.__("Unlock PRO Features","integrate-google-drive")),React.createElement("p",null,t),React.createElement("div",{className:"discount"},React.createElement("span",{className:"discount-special"},wp.i18n.__("Special","igd-dark-mode")),React.createElement("span",{className:"discount-text"},wp.i18n.__("30% OFF","igd-dark-mode"))),React.createElement("div",{className:"timer"},React.createElement("div",{className:"days"},React.createElement("span",null,"0"),React.createElement("span",null,"DAYS")),React.createElement("div",{className:"hours"},React.createElement("span",null,"0"),React.createElement("span",null,"HOURS")),React.createElement("div",{className:"minutes"},React.createElement("span",null,"0"),React.createElement("span",null,"MINUTES")),React.createElement("div",{className:"seconds"},React.createElement("span",null,"0"),React.createElement("span",null,"SECONDS"))),React.createElement("div",{className:"igd-pro-modal-actions"},React.createElement("a",{href:igd.upgradeUrl,className:"igd-btn btn-primary"},wp.i18n.__("Claim Discount","integrate-google-drive"))))):null}function On(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wp.i18n.__("Upgrade to PRO to use this feature.","integrate-google-drive"),t=document.getElementById("igd-pro-modal");t||((t=document.createElement("div")).id="igd-pro-modal",document.body.appendChild(t)),ReactDOM.render(React.createElement(xn,{text:e}),t)}function An(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var In=React,Dn=In.useContext,kn=In.useState;function Fn(){var e=Dn(x),t=e.activeAccount,n=e.setActiveAccount,r=e.initFolders,i=e.allFolders,a=e.isShortcodeBuilder,o=e.filters,l=e.activeFolder,c=e.isSearch,s=e.setShowSidebar,d=e.permissions,u=e.showBreadcrumbs,g=e.breadcrumbs,m=igd.isPro,p=JSON.parse(Gt(igd.accounts)),f=An(kn(!1),2),v=f[0],h=f[1];return React.createElement("div",{className:"igd-file-browser-header"},!r&&React.createElement("button",{type:"button",className:"header-action-item action-sidebar-toggle",onClick:function(){return s((function(e){return!e}))},title:wp.i18n.__("Sidebar Toggle","integrate-google-drive"),"aria-label":wp.i18n.__("Sidebar Toggle","integrate-google-drive")},React.createElement("i",{className:"dashicons dashicons-menu-alt3"})),(!c||a)&&u&&Object.keys(g).length>0&&React.createElement(_n,null),(o||l)&&(!d||d.allowSearch||c)&&React.createElement(un,null),(!o||i)&&React.createElement(React.Fragment,null,React.createElement("button",{type:"button",className:"header-action-item action-accounts user-box",onClick:function(){return h(!v)},title:wp.i18n.__("Switch Account","integrate-google-drive"),"aria-label":wp.i18n.__("Switch Account","integrate-google-drive")},React.createElement("img",{referrerPolicy:"no-referrer",className:"user-image",src:t.photo,onError:function(e){return Ft(e.currentTarget,t.email)}}),React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/arrow-down.svg"),className:"user-arrow"})),React.createElement(rt,{anchorSelect:".user-box",isOpen:v,setIsOpen:h,openEvents:["click"],place:"bottom",variant:"light",clickable:!0,border:"1px solid #ddd",resizeHide:!1,className:"user-box-modal-wrap igd-tooltip"},React.createElement("div",{className:"user-box-modal"},React.createElement("span",{className:"user-box-modal-title"},wp.i18n.__("Switch Account","integrate-google-drive")),Object.keys(p).map((function(e){var r=p[e],i=r.id,a=r.name,o=r.photo,l=r.email,c=t.id===i;return React.createElement("div",{key:e,className:"user-box-account ".concat(c?"active":""),onClick:function(){n(p[e])}},React.createElement("img",{referrerPolicy:"no-referrer",onError:function(e){return Ft(e.currentTarget,l)},src:o}),React.createElement("div",{className:"account-info"},React.createElement("span",{className:"account-name"},a),React.createElement("span",{className:"account-email"},l)),c&&React.createElement("i",{className:"dashicons dashicons-saved active-badge"}))})),!a&&!o&&React.createElement(React.Fragment,null,React.createElement("button",{"data-tooltip-content":"Multiple Accounts - PRO","data-tooltip-id":"addAccountPromo",className:"igd-btn btn-primary",onClick:function(){m||!Object.keys(p).length?igd.authUrl?Wt():window.location=igd.adminUrl+"/admin.php?page=integrate-google-drive-settings":On(wp.i18n.__("Upgrade to PRO to add multiple accounts.","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-plus"}),React.createElement("span",null,wp.i18n.__("Add account","integrate-google-drive"))),!m&&!!Object.keys(p).length&&React.createElement(rt,{id:"addAccountPromo",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"}))))))}function jn(e){return function(e){if(Array.isArray(e))return Tn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bn(e){var t=e.folders,n=e.childFolders,r=e.getChildFolders,i=e.openFolders,a=e.setOpenFolders,o=e.activeFolder,l=e.isLoading,c=e.listFiles;return React.createElement("div",{className:"sub-item"},null==t?void 0:t.map((function(e){var t=e.id,s=e.name,d=e.iconLink,u=t===(null==o?void 0:o.id),g=i.includes(t);return React.createElement("div",{className:"tree-item-wrap"},React.createElement("div",{key:t,className:"".concat(u?"active":""," tree-item folder-item"),onClick:function(){c(e)}},l!==t&&React.createElement("i",{className:"dashicons ".concat(g?"dashicons-arrow-down-alt2":"dashicons-arrow-right-alt2"),onClick:function(t){t.stopPropagation(),function(e){var t=e.id;n[t]||r(e),a(i.includes(t)?i.filter((function(e){return e!==t})):[].concat(jn(i),[t]))}(e)}}),l===t&&React.createElement("div",{className:"igd-spinner"}),React.createElement("img",{src:d,alt:s}),React.createElement("span",null,s)),g&&React.createElement(Bn,{folders:n[t],childFolders:n,getChildFolders:r,openFolders:i,setOpenFolders:a,activeFolder:o,isLoading:l,listFiles:c}))})))}function Ln(e){return Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(e)}function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){zn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ln(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ln(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gn(e){return function(e){if(Array.isArray(e))return Vn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Wn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||Wn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wn(e,t){if(e){if("string"==typeof e)return Vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vn(e,t):void 0}}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qn=React,Kn=qn.useContext,Qn=qn.useState,Jn=qn.useEffect;function Yn(e){var t=e.isSidebar,n=Kn(x),r=n.activeAccount,i=n.initFolders,a=n.activeFolder,o=n.setActiveFolder,l=n.selectedFolders,c=n.shortcodeBuilderType,s=n.listFiles,d=n.setSelectedFolders,u=n.selectionType,g="uploader"===c,m="embed"===c,p="view"===c,f="download"===c,v="slider"===c,h=Nt(!1,r);i&&(h=h.filter((function(e){return i.includes(e.id)})));var y=c&&!p&&!f&&!m&&!v;g?y=!l.length||"root"===l[0].id:"parent"===u&&(y=!0);var w=Hn(Qn({}),2),b=w[0],_=w[1],E=Hn(Qn([]),2),R=E[0],N=E[1],S=Hn(Qn(null),2),C=S[0],O=S[1],A=function(e){if(e)return N((function(t){return[].concat(Gn(t),[e.id])})),O(e.id),wp.ajax.post("igd_get_files",{data:{folder:e},nonce:igd.nonce}).done((function(t){var n=t.files.filter((function(e){return Rt(e)}));_((function(t){return Un(Un({},t),{},zn({},e.id,n||[]))}))})).fail((function(e){console.log(e)})).always((function(){O(null)}))};return Jn((function(){var e;a&&(O((e=a).id),wp.ajax.post("igd_get_parent_folders",{folder:e,nonce:igd.nonce}).done((function(e){0!==Object.keys(e).length&&Object.keys(e).forEach((function(t){N((function(e){return[].concat(Gn(e),[t])}));var n=e[t].children,r=(null==n?void 0:n.filter((function(e){return Rt(e)})))||[];_((function(e){return Un(Un({},e),{},zn({},t,r))}))}))})).fail((function(e){console.log(e)})).always((function(){O(null)})))}),[]),Jn((function(){a&&A(a)}),[a]),h.map((function(e){var n=e.id,r=e.name,i=e.iconLink,c=l&&!!l.find((function(e){return e.id===n})),u=R.includes(n);return React.createElement(React.Fragment,null,React.createElement("div",{key:n,className:"".concat(n===(null==a?void 0:a.id)?"active":""," file-item root-item folder-item"),onClick:function(t){t.stopPropagation(),o(e),s(e)}},t&&["root","shared-drives","computers"].includes(n)&&C!==n&&React.createElement("i",{className:"dashicons ".concat(u?"dashicons-arrow-down-alt2":"dashicons-arrow-right-alt2"),onClick:function(t){t.stopPropagation(),b[n]||A(e),N((function(e){return e.includes(n)?e.filter((function(e){return e!==n})):[].concat(Gn(e),[n])}))}}),C===n&&React.createElement("div",{className:"igd-spinner"}),!t&&y&&"root"===n&&React.createElement("div",{className:"file-item-checkbox ".concat(l.find((function(e){return e.id===n}))?"checked":""),onClick:function(t){t.stopPropagation(),d(c?Gn(l.filter((function(e){return e.id!==n}))):[].concat(Gn(l),[e]))}},React.createElement("span",{className:"box"})),React.createElement("img",{src:i,alt:r}),React.createElement("span",null,r)),t&&u&&React.createElement(Bn,{folders:b[n],childFolders:b,getChildFolders:A,openFolders:R,setOpenFolders:N,activeFolder:a,isLoading:C,listFiles:s}))}))}function $n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zn=window.React,er=Zn.useRef,tr=Zn.useContext,nr=Zn.useState;function rr(){var e=tr(x),t=e.isMobile,n=e.isShortcodeBuilder,r=er(null),i=localStorage.getItem("igd_file_browser_sidebar_collapsed")?"true"===localStorage.getItem("igd_file_browser_sidebar_collapsed"):n,a=$n(nr(i),2),o=a[0],l=a[1];return React.createElement("div",{ref:r,className:"igd-sidebar-wrap ".concat(!t&&o?"sidebar-collapsed":"")},React.createElement("div",{className:"igd-sidebar"},!t&&React.createElement("button",{type:"button",className:"sidebar-collapser",onClick:function(){l(!o),localStorage.setItem("igd_file_browser_sidebar_collapsed",!o)}},React.createElement("img",{src:igd.pluginUrl+"/assets/images/shortcode-builder/arrow.svg"})),React.createElement("div",{className:"sidebar-folders"},React.createElement(Yn,{isSidebar:!0}))))}function ir(e){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(e)}function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach((function(t){lr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ir(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ir(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cr(e){return function(e){if(Array.isArray(e))return ur(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||dr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(e,t){if(e){if("string"==typeof e)return ur(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ur(e,t):void 0}}function ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gr=React,mr=gr.useState,pr=gr.useEffect,fr=gr.useRef,vr=gr.useContext,hr=(gr.useCallback,igd.settings),yr=hr.wcUploadFolderSelection,wr=hr.wcUploadFolders,br=hr.wcFolderSelectionLabel,_r=void 0===br?wp.i18n.__("Choose Upload Location","integrate-google-drive"):br;function Er(){var e=vr(x),t=e.shortcodeId,n=e.activeAccount,r=void 0===n?JSON.parse(Gt(igd.activeAccount)):n,i=(e.setActiveAccount,e.notifications),a=e.folders,o=e.filters,l=e.maxFiles,c=e.maxFileSize,s=e.minFileSize,d=e.activeFolder,u=e.isUpload,g=e.setIsUpload,m=e.isFormUploader,p=e.isRequired,f=e.showUploadLabel,v=e.uploadLabelText,h=e.uploadFileName,y=e.isWooCommerceUploader,w=e.wcItemId,b=e.wcOrderId,_=e.wcProductId,E=e.initUploadedFiles,R=void 0===E?[]:E,N=e.setFiles,S=e.setAllFiles,C=e.enableFolderUpload,O=void 0===C?!!d:C,A=e.uploadImmediately,P=void 0===A?!!d||y:A,I=e.overwrite,D=e.showUploadConfirmation,k=e.uploadConfirmationMessage,F=e.nonce,j=e.enableUploadDescription,T=void 0===j?!a:j,B=e.uploadFolderSelection,L=e.uploadFolders,M=void 0===L?[]:L,U=e.folderSelectionLabel,z=e.privateFolders,G=o||{},H=G.allowExtensions,W=G.allowAllExtensions,V=G.allowExceptExtensions,q=fr(R),K=sr(mr(R),2),Q=K[0],J=K[1],Y=sr(mr([]),2),$=Y[0],X=Y[1],Z=sr(mr([]),2),ee=Z[0],te=Z[1],ne=sr(mr(0),2),re=ne[0],ie=ne[1],ae=sr(mr(!1),2),oe=ae[0],le=ae[1],ce=sr(mr([]),2),se=ce[0],de=ce[1],ue=fr(null),ge=fr(null),me=fr(null),pe=fr(null),fe=fr(d||(a.length?a[0]:null));if(!fe.current){var ve=a?a.filter((function(e){return Rt(e)})):[];fe.current=ve&&ve.length?ve[0]:{id:"root",accountId:r.id}}var he=function(e){if(e){var t=q.current,n=t.findIndex((function(t){return t.id===e.id}))+1;n<t.length&&_e(t[n])}},ye=function(e,t,n){if(!e)return n(!0);var r=t.name.split(".").pop();(W?!e.split(",").map((function(e){return e.trim()})).includes(r):e.split(",").map((function(e){return e.trim()})).includes(r))?n(!0):(this.trigger("Error",{code:"EXT_ERROR",file:t}),n(!1))},we=function(e,t,n){if(!(e=1024*e*1024))return n(!0);t.size<e?(this.trigger("Error",{code:"SIZE_MIN_ERROR",file:t}),n(!1)):n(!0)},be=function(e,t,n){if(!e)return n(!0);var r=this.files.length;R.length&&(r=ge.current.querySelectorAll(".file-list-item.uploaded").length),r>=e?(this.trigger("Error",{code:"FILES_MAX_ERROR",file:t}),n(!1)):n(!0)},_e=function(e){var n,r;if(e){ue.current.stop(),ie(0),X((function(t){return t.find((function(t){return t.id===e.id}))?t:[].concat(cr(t),[e])}));var i=St(e);wp.ajax.post("igd_get_upload_url",{shortcodeId:t,data:{name:e.name,queueIndex:q.current.findIndex((function(t){return t.id===e.id}))+1,size:e.size,type:e.type,fileId:e.id,description:e.description,uploadFileName:h,folderId:null===(n=fe.current)||void 0===n?void 0:n.id,accountId:null===(r=fe.current)||void 0===r?void 0:r.accountId,path:i&&i.substring(0,i.lastIndexOf("/")+1),overwrite:I,isWooCommerceUploader:y,wcProductId:_,wcOrderId:b,wcItemId:w},nonce:F||igd.nonce}).done((function(e){ue.current.setOption("url",e),ue.current.start()})).fail((function(t){var n;(console.log(t),he(e),te(ee.filter((function(t){return t.id!==e.id}))),X(ee.filter((function(t){return t.id!==e.id}))),ie(0),q.current=q.current.map((function(n){return n.id===e.id&&(n.error=(null==t?void 0:t.error)||t),n})),m)&&(1===ee.length&&null!==(n=me.current)&&void 0!==n&&n.length&&(me.current.is("input")?me.current.val(pe.current):me.current.text(pe.current)))}))}},Ee=function(){var e={browse_button:ge.current.querySelector(".browse-files"),drop_element:ge.current,multipart:!1,multi_selection:!l||l>1,filters:{max_files:l,file_ext:W?V:H,max_file_size:c?"".concat(parseInt(c),"mb"):0,min_file_size:s},init:{FilesAdded:function(e,t){le(!1),t=t.map((function(e){return e.folder=fe.current,e})),te((function(e){return[].concat(cr(e),cr(t))})),q.current=[].concat(cr(q.current),cr(t)),X((function(e){var n=cr(e);return P&&!e.length&&(_e(t[0]),n=[].concat(cr(e),[t[0]])),n}))},FilesRemoved:function(e,t){te((function(e){return e.filter((function(e){return!t.find((function(t){return t.id===e.id}))}))})),q.current=q.current.filter((function(e){return!t.find((function(t){return t.id===e.id}))}))},FileUploaded:function(e,n,r){!function(e,n){var r;X((function(t){return t.filter((function(t){return t.id!==e.id}))})),he(e);var i=JSON.parse(n.response);if(i){var a={file:i=or(or({},i),{},{type:i.mimeType,accountId:null===(r=fe.current)||void 0===r?void 0:r.accountId,pluploadId:e.id,path:O&&St(e)})};y&&(a.wcItemId=w,a.wcOrderId=b,a.wcProductId=_),J((function(e){return[].concat(cr(e),[i])})),te((function(t){return t.filter((function(t){return t.id!==e.id}))})),wp.ajax.post("igd_file_uploaded",or(or({shortcodeId:t},a),{},{nonce:F||igd.nonce})).done((function(e){N&&(N((function(t){return[e].concat(cr(t))})),S((function(t){return or(or({},t),{},lr({},null==fe?void 0:fe.current.id,[e].concat(cr(t[null==fe?void 0:fe.current.id]||[]))))})))}))}}(n,r)},UploadProgress:function(e,t){ie(t.percent)},UploadComplete:function(){X([]),te([]),setTimeout((function(){le(!0)}),!m&&D?1e3:0)},Error:function(e,t){return function(e,t){var n;switch(e){case-600:n=wp.i18n.__("File size exceeds the maximum upload size.","integrate-google-drive")+"(".concat(c?"".concat(parseInt(c),"mb"):0,")");break;case"SIZE_MIN_ERROR":n=wp.i18n.__("File size is less than the minimum upload size.","integrate-google-drive")+"(".concat(s,"mb)");break;case"EXT_ERROR":n=wp.i18n.__("This file type is not allowed","integrate-google-drive");break;case"FILES_MAX_ERROR":n=wp.i18n.__("You can not upload more than","integrate-google-drive")+" ".concat(l," ").concat(wp.i18n.__("files","integrate-google-drive"));break;default:n=t.error}if(t.error=n,q.current.find((function(e){return e.id===t.id}))){var r=q.current.findIndex((function(e){return e.id===t.id}));q.current[r]=t}else q.current=[].concat(cr(q.current),[t]);X(cr($))}(t.code,t.file)}}};return!W&&H&&(e.filters.mime_types=[{title:"Allowed files",extensions:H}]),e},Re=function(){if(plupload.buildUrl=function(e){return e},plupload.addFileFilter("file_ext",ye),plupload.addFileFilter("min_file_size",we),plupload.addFileFilter("max_files",be),ue.current=new plupload.Uploader(Ee()),ue.current.init(),O){var e=new mOxie.FileInput({browse_button:ge.current.querySelector(".browse-folder"),directory:!0});e.init(),e.onchange=function(){ue.current.addFile(e.files)}}};pr((function(){return Re(),function(){ue.current&&ue.current.destroy()}}),[]);var Ne=function(){if(jQuery){var e=jQuery,t=e(ge.current).closest("form");if(t.length){var n,r=e(ge.current).parent().next(".upload-file-list"),i=function(e){return e.map((function(e){return{id:e.id,accountId:e.accountId,name:e.name,iconLink:e.iconLink,thumbnailLink:e.thumbnailLink,size:e.size,parents:e.parents,path:O&&e.path}}))}(Q);if(["metform","elementor","ninjaforms","cf7","wpforms"].includes(m)){var a=i.map((function(e){var t="https://drive.google.com/file/d/".concat(e.id,"/view");return"".concat(e.name," — ( ").concat(t," )")})).join(", \n\n");r.val(a).change()}else r.val(JSON.stringify(i)).change();if(t.trigger("change"),!P&&!t.find(".file-list-item.active").length)me.current=t.find(":submit"),null!==(n=me.current)&&void 0!==n&&n.length?(me.current.is("input")?me.current.val(pe.current):me.current.text(pe.current),me.current.trigger("click")):t.submit()}}};pr((function(){oe&&Q.length&&(i&&i.uploadNotification&&wp.ajax.post("igd_notification",{files:Q,notifications:i,type:"upload",nonce:F||igd.nonce}),m&&Ne())}),[oe]),pr((function(){if(ee.length&&!$.length&&m&&!P&&ge.current){var e=jQuery(ge.current).closest("form");if(e.length&&(me.current=jQuery(e).find(":submit"),me.current.length)){var t=me.current.parent();me.current.addClass("igd-disabled");var n=function(e){e.preventDefault();var t=me.current.is("input");pe.current=t?me.current.val():me.current.text(),t?me.current.val(wp.i18n.__("Uploading Files...","integrate-google-drive")):me.current.text(wp.i18n.__("Uploading Files...","integrate-google-drive")),_e(ee[0])};return t.on("click",n),function(){me.current&&(t.off("click",n),me.current.removeClass("igd-disabled"))}}}}),[ee]),pr((function(){if(m){var e=jQuery(ge.current).closest("form"),t=function(e){te([]),X([]),J([]),q.current=[]};return e.on("reset",t),function(){return e.off("reset",t)}}}),[]);var Se=!m&&!y&&!P&&D&&Q.length&&oe,Ce=ee.length||q.current.filter((function(e){return!e.error})).length,xe=ee.length?P||$.length?wp.i18n.__("Item(s) Uploading...","integrate-google-drive"):wp.i18n.__("Item(s) Selected","integrate-google-drive"):wp.i18n.__("Item(s) Uploaded","integrate-google-drive"),Oe=function(e,n){var r=n.description,i=n.descriptionUpdated;if(e&&r&&n.hasOwnProperty("descriptionUpdated")&&!i){var a=Q.find((function(e){return e.pluploadId===n.id||e.id===n.id}));Swal.fire({title:!1,text:wp.i18n.__("Description has been updated.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal save-settings-toast"},position:"top-end"});var o={shortcodeId:t,id:a.id,accountId:a.accountId,description:r,nonce:F||igd.nonce};y&&(o.wcItemId=w,o.wcOrderId=b,o.wcProductId=_),wp.ajax.post("igd_update_description",o).done((function(e){q.current=q.current.map((function(e){return e.id===n.id&&(e.descriptionUpdated=!0),e}))})).fail((function(e){console.log(e)}))}};return React.createElement("div",{onDragEnter:function(){return ge.current.classList.add("drag-active")},onDragLeave:function(){return ge.current.classList.remove("drag-active")},onDrop:function(){return ge.current.classList.remove("drag-active")},ref:ge,className:"igd-file-uploader igd-module-uploader ".concat(m?" igd-form-uploader":""," ").concat(!p||ee.length||q.current.length?"":"required-error","  ").concat(Se?"show-confirmation":""," ")},React.createElement("div",{className:"igd-file-uploader-body"},!!Se&&React.createElement("div",{className:"upload-confirmation"},React.createElement("div",{className:"upload-confirmation-message",dangerouslySetInnerHTML:{__html:k}}),(!l||l>Q.length)&&React.createElement("button",{type:"button",className:"igd-btn btn-primary",onClick:function(){return le(!1)}},wp.i18n.__("Upload More Files","integrate-google-drive"))),React.createElement("div",{className:"igd-file-uploader-inner"},f&&React.createElement("h4",{className:"igd-file-uploader-label"},v),(!z&&B||y&&yr)&&React.createElement("div",{className:"upload-folder-selection"},React.createElement("span",{className:"upload-folder-selection-text"},y?_r:U),React.createElement("select",{onChange:function(e){var t=e.target.value;fe.current={id:t,accountId:r.id}}},(y?wr:M).map((function(e){return React.createElement("option",{key:e.id,value:e.id,selected:e.id===fe.current.id},e.name)})))),React.createElement("i",{className:"dashicons dashicons-cloud-upload"}),React.createElement("p",null,wp.i18n.__("Drag and drop files here","integrate-google-drive")),React.createElement("p",{className:"or"},wp.i18n.__("OR","integrate-google-drive")),React.createElement("div",{className:"igd-file-uploader-buttons"},React.createElement("button",{type:"button",className:"browse-files",onMouseOver:function(){navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&ue.current.refresh()}},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M842.24 355.413333l-232.106667-256a42.666667 42.666667 0 0 0-31.573333-14.08h-298.666667A107.946667 107.946667 0 0 0 170.666667 192v640A107.946667 107.946667 0 0 0 279.893333 938.666667h464.213334A107.946667 107.946667 0 0 0 853.333333 832V384a42.666667 42.666667 0 0 0-11.093333-28.586667zM597.333333 213.333333l116.906667 128h-85.333333a33.706667 33.706667 0 0 1-31.573334-36.266666z m146.773334 640H279.893333a22.613333 22.613333 0 0 1-23.893333-21.333333v-640a22.613333 22.613333 0 0 1 23.893333-21.333333H512v134.4A119.04 119.04 0 0 0 627.626667 426.666667H768v405.333333a22.613333 22.613333 0 0 1-23.893333 21.333333z",fill:"currentColor"}),React.createElement("path",{d:"M597.333333 554.666667h-42.666666v-42.666667a42.666667 42.666667 0 0 0-85.333334 0v42.666667h-42.666666a42.666667 42.666667 0 0 0 0 85.333333h42.666666v42.666667a42.666667 42.666667 0 0 0 85.333334 0v-42.666667h42.666666a42.666667 42.666667 0 0 0 0-85.333333z",fill:"currentColor"})),React.createElement("span",null,wp.i18n.__("Browse Files","integrate-google-drive"))),O&&React.createElement("button",{type:"button",className:"browse-folder",onMouseOver:function(){navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&ue.current.refresh()}},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M597.333333 554.666667h-42.666666v-42.666667a42.666667 42.666667 0 0 0-85.333334 0v42.666667h-42.666666a42.666667 42.666667 0 0 0 0 85.333333h42.666666v42.666667a42.666667 42.666667 0 0 0 85.333334 0v-42.666667h42.666666a42.666667 42.666667 0 0 0 0-85.333333z",fill:"currentColor"}),React.createElement("path",{d:"M832 300.8h-298.666667L421.12 165.12a42.666667 42.666667 0 0 0-32.853333-15.786667H192A105.386667 105.386667 0 0 0 85.333333 253.013333v517.973334a105.386667 105.386667 0 0 0 106.666667 103.68h640a105.386667 105.386667 0 0 0 106.666667-103.68V404.48a105.386667 105.386667 0 0 0-106.666667-103.68z m21.333333 469.333333a19.626667 19.626667 0 0 1-21.333333 18.346667h-640a19.626667 19.626667 0 0 1-21.333333-18.346667V253.013333a19.626667 19.626667 0 0 1 21.333333-18.346666h176.213333l110.933334 135.68a42.666667 42.666667 0 0 0 32.853333 15.786666h320a19.626667 19.626667 0 0 1 21.333333 18.346667z",fill:"currentColor"})),React.createElement("span",null,wp.i18n.__("Browse Folder","integrate-google-drive")))),u&&React.createElement("i",{className:"cancel-upload dashicons dashicons-no",onClick:function(){return g(!1)}}),React.createElement("div",{className:"upload-info"},!!s&&React.createElement("span",{className:"max-size-label"},wp.i18n.__("Min File Size:","integrate-google-drive")," ",s,"MB"),!!c&&React.createElement("span",{className:"max-size-label"},wp.i18n.__("Max File Size:","integrate-google-drive")," ",c,"MB")))),!!q.current.length&&!Se&&React.createElement("div",{className:"file-list-wrapper"},React.createElement("div",{className:"file-list-header"},React.createElement("span",{className:"file-count"},Ce),React.createElement("span",{className:"file-status-text"},xe)),React.createElement("div",{className:"file-list"},cr(new Set(q.current)).map((function(e){var n=e.id,r=e.name,i=e.size,a=e.type,o=e.error,l=e.description,c=$.find((function(e){return e.id===n})),s=Q.find((function(e){return e.id===n||e.pluploadId===n})),d=se.find((function(e){return e.id===n})),u=St(e);return React.createElement("div",{key:n,className:"file-list-item ".concat(c?"active":""," ").concat(s?"uploaded":""),id:n},function(e,t){var n=function(e){var t=_t(e,!0);return t=t||"file","".concat(igd.pluginUrl,"/assets/images/icons/").concat(t,".png")}(e);return t.id?t.thumbnailLink&&(n=t.thumbnailLink):null!=e&&e.startsWith("image/")&&(n=URL.createObjectURL(null==t?void 0:t.getNative())),React.createElement("img",{width:32,height:32,src:n})}(a,e),React.createElement("div",{className:"file-info"},React.createElement("div",{className:"upload-item"},React.createElement("span",{className:"upload-item-name"},u||r),React.createElement("span",{className:"upload-item-size"},"(",plupload.formatSize(i),")")),React.createElement("div",{className:"file-info-percentage"},!!s&&!o&&React.createElement("i",{className:"dashicons dashicons-saved"}),!s&&c&&!o&&!d&&React.createElement("div",{className:"igd-spinner"}),!s&&!!c&&!!re&&React.createElement("span",{className:"percentage"},re,"%"),!s&&c&&!d&&!o&&React.createElement("i",{className:"dashicons dashicons-controls-pause",onClick:function(){ue.current.stop(),de([].concat(cr(se),[e]))}}),!s&&d&&!o&&React.createElement("i",{className:"dashicons dashicons-controls-play",onClick:function(){ue.current.start(),de(se.filter((function(e){return e.id!==n})))}}),React.createElement("i",{className:"remove-file dashicons dashicons-no-alt",onClick:function(){if(ue.current.removeFile(e),te((function(e){return e.filter((function(e){return e.id!==n}))})),q.current=q.current.filter((function(e){return e.id!==n})),s){J((function(e){return e.filter((function(e){return e.id!==s.id}))}));var r={id:s.id,account_id:s.accountId,nonce:igd.nonce};y&&(r.isWooCommerceUploader=!0,r.wcProductId=_,r.wcOrderId=b,r.wcItemId=w),wp.ajax.post("igd_upload_remove_file",or(or({shortcodeId:t},r),{},{nonce:F||igd.nonce}))}else c&&(ue.current.stop(),ie(0),he(e)),ue.current.removeFile(e),ue.current.setOption("url",""),X((function(e){return e.filter((function(e){return e.id!==n}))}))}})),o?React.createElement("span",{className:"file-info-error"},o):React.createElement("div",{className:"file-info-progress",style:{"--percentage":c?"".concat(re||2,"%"):0}},React.createElement("span",{className:"file-info-progress-bar"})),T&&!o&&React.createElement("textarea",{className:"file-description",placeholder:wp.i18n.__("Add a description...","integrate-google-drive"),rows:2,disabled:c||d||o,onChange:function(e){var t=e.target.value;q.current=q.current.map((function(e){return e.id===n&&(e.description=t,e.descriptionUpdated=!1),e})),te((function(e){return e.map((function(e){return e.id===n?or(or({},e),{},{description:t,descriptionUpdated:!1}):e}))}))},autoFocus:!0,onBlur:function(){return Oe(s,e)},onKeyDown:function(t){"Enter"===t.key&&(t.preventDefault(),Oe(s,e))},value:l})))}))),!!ee.length&&!m&&!y&&!P&&React.createElement("button",{type:"button",className:"igd-btn start-upload",onClick:function(){_e(ee[0])}},React.createElement("i",{className:"dashicons dashicons-cloud-upload"}),$.length?wp.i18n.__("Uploading Files...","integrate-google-drive"):wp.i18n.__("Start Upload","integrate-google-drive"))))}var Rr=n(211),Nr=n.n(Rr),Sr=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),Cr="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,xr=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Or="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(xr):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var Ar=["top","right","bottom","left","width","height","size","weight"],Pr="undefined"!=typeof MutationObserver,Ir=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&l()}function o(){Or(a)}function l(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,t);i=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Cr&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Pr?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Cr&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;Ar.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Dr=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},kr=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||xr},Fr=Ur(0,0,0,0);function jr(e){return parseFloat(e)||0}function Tr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+jr(e["border-"+n+"-width"])}),0)}function Br(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Fr;var r=kr(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=jr(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,l=jr(r.width),c=jr(r.height);if("border-box"===r.boxSizing&&(Math.round(l+a)!==t&&(l-=Tr(r,"left","right")+a),Math.round(c+o)!==n&&(c-=Tr(r,"top","bottom")+o)),!function(e){return e===kr(e).document.documentElement}(e)){var s=Math.round(l+a)-t,d=Math.round(c+o)-n;1!==Math.abs(s)&&(l-=s),1!==Math.abs(d)&&(c-=d)}return Ur(i.left,i.top,l,c)}var Lr="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof kr(e).SVGGraphicsElement}:function(e){return e instanceof kr(e).SVGElement&&"function"==typeof e.getBBox};function Mr(e){return Cr?Lr(e)?function(e){var t=e.getBBox();return Ur(0,0,t.width,t.height)}(e):Br(e):Fr}function Ur(e,t,n,r){return{x:e,y:t,width:n,height:r}}var zr=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ur(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Mr(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Gr=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return Dr(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);Dr(this,{target:e,contentRect:n})},Hr=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Sr,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof kr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new zr(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof kr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Gr(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Wr="undefined"!=typeof WeakMap?new WeakMap:new Sr,Vr=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ir.getInstance(),r=new Hr(t,n,this);Wr.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Vr.prototype[e]=function(){var t;return(t=Wr.get(this))[e].apply(t,arguments)}}));const qr=void 0!==xr.ResizeObserver?xr.ResizeObserver:Vr;function Kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qr(){return Qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qr.apply(this,arguments)}function Jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Kr(e,t,n[t])}))}return e}function Yr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Xr={cursor:"pointer"},Zr=function(e){var n=e.index,r=e.onClick,i=e.photo,a=e.margin,o=e.direction,l=e.top,c=e.left,s=e.key,d={margin:a,display:"block"};"column"===o&&(d.position="absolute",d.left=c,d.top=l);return t().createElement("img",Qr({key:s,style:r?Jr({},d,Xr):d},i,{onClick:r?function(e){r(e,{photo:i,index:n})}:null}))},ei=Nr().shape({key:Nr().string,src:Nr().string.isRequired,width:Nr().number.isRequired,height:Nr().number.isRequired,alt:Nr().string,title:Nr().string,srcSet:Nr().oneOfType([Nr().string,Nr().array]),sizes:Nr().oneOfType([Nr().string,Nr().array])});Zr.propTypes={index:Nr().number.isRequired,onClick:Nr().func,photo:ei.isRequired,margin:Nr().number,top:function(e){if("column"===e.direction&&"number"!=typeof e.top)return new Error("top is a required number when direction is set to `column`")},left:function(e){if("column"===e.direction&&"number"!=typeof e.left)return new Error("left is a required number when direction is set to `column`")},direction:Nr().string};var ti=function(e,t){return t||(t=0),Number(Math.round(e+"e"+t)+"e-"+t)},ni=function(e){var t=e.width,n=e.height;return ti(t/n,2)};function ri(e){this.content=[],this.scoreFunction=e}ri.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},remove:function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]==e){var r=this.content.pop();if(n==t-1)break;this.content[n]=r,this.bubbleUp(n),this.sinkDown(n);break}},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e],n=this.scoreFunction(t);e>0;){var r=Math.floor((e+1)/2)-1,i=this.content[r];if(n>=this.scoreFunction(i))break;this.content[r]=t,this.content[e]=i,e=r}},sinkDown:function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var i=2*(e+1),a=i-1,o=null;if(a<t){var l=this.content[a],c=this.scoreFunction(l);c<r&&(o=a)}if(i<t){var s=this.content[i];this.scoreFunction(s)<(null==o?r:c)&&(o=i)}if(null==o)break;this.content[e]=this.content[o],this.content[o]=n,e=o}}};var ii=function(e,t,n){var r=function(e,t,n){var r={},i={},a={};a[t]=0;var o=new ri((function(e){return e.weight}));for(o.push({id:t,weight:0});o.size();){var l=o.pop(),c=l.id;if(!i[c]){var s=e(c)||{};for(var d in i[c]=1,s){var u=l.weight+s[d];(void 0===a[d]||a[d]>u)&&(a[d]=u,o.push({id:d,weight:u}),r[d]=c)}}}if(void 0===a[n])throw new Error("There is no path from ".concat(t," to ").concat(n));return r}(e,t,n);return function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse()}(r,n)},ai=function(e,t,n){return(t-e.length*(2*n))/e.reduce((function(e,t){return e+ni(t)}),0)},oi=function(e,t,n,r,i,a){var o=e.slice(t,n),l=ai(o,r,a);return Math.pow(Math.abs(l-i),2)},li=function(e){var t=e.containerWidth,n=e.limitNodeSearch,r=e.targetRowHeight,i=e.margin,a=e.photos,o=function(e,t,n,r,i){return function(a){var o={};o[+(a=+a)]=0;for(var l=a+1;l<n.length+1&&!(l-a>r);++l)o[l.toString()]=oi(n,a,l,t,e,i);return o}}(r,t,a,n,i),l=ii(o,"0",a.length);l=l.map((function(e){return+e}));for(var c=1;c<l.length;++c)for(var s=a.slice(l[c-1],l[c]),d=ai(s,t,i),u=l[c-1];u<l[c];++u)a[u].width=ti(d*ni(a[u]),1),a[u].height=d;return a},ci=t().memo((function(n){var r=n.photos,i=n.onClick,a=n.direction,o=n.margin,l=n.limitNodeSearch,c=n.targetRowHeight,s=n.columns,d=n.renderImage,u=$r((0,e.useState)(0),2),g=u[0],m=u[1],p=(0,e.useRef)(null);(0,e.useLayoutEffect)((function(){var e=null,t=new qr((function(t){var n=t[0].contentRect.width;g!==n&&(e=window.requestAnimationFrame((function(){m(Math.floor(n))})))}));return t.observe(p.current),function(){t.disconnect(),window.cancelAnimationFrame(e)}}));var f=function(e,t){var n=t.index;i(e,{index:n,photo:r[n],previous:r[n-1]||null,next:r[n+1]||null})};if(!g)return t().createElement("div",{ref:p}," ");var v,h,y=g-1;"row"===a&&("function"==typeof l&&(l=l(g)),"function"==typeof c&&(c=c(g)),void 0===l&&(l=2,g>=450&&(l=function(e){var t=e.targetRowHeight,n=e.containerWidth;return ti(n/t/1.5)+8}({containerWidth:g,targetRowHeight:c}))),v={display:"flex",flexWrap:"wrap",flexDirection:"row"},h=li({containerWidth:y,limitNodeSearch:l,targetRowHeight:c,margin:o,photos:r})),"column"===a&&("function"==typeof s&&(s=s(g)),void 0===s&&(s=1,g>=500&&(s=2),g>=900&&(s=3),g>=1500&&(s=4)),v={position:"relative"},h=function(e){for(var t=e.photos,n=e.columns,r=e.containerWidth,i=e.margin,a=(r-2*i*n)/n,o=t.map((function(e){var t=e.height/e.width*a;return Jr({},e,{width:ti(a,1),height:ti(t,1)})})),l=[],c=[],s=0;s<n;s++)l[s]=ti(s*(a+2*i),1),c[s]=0;var d=o.map((function(e){var t=c.reduce((function(e,t,n){return t<c[e]?n:e}),0);e.top=c[t],e.left=l[t],c[t]=c[t]+e.height+2*i;var n=c.reduce((function(e,t,n){return t>c[e]?n:e}),0);return e.containerHeight=c[n],e}));return d}({containerWidth:y,columns:s,margin:o,photos:r}),v.height=h[h.length-1].containerHeight);var w=d||Zr;return t().createElement("div",{className:"react-photo-gallery--gallery"},t().createElement("div",{ref:p,style:v},h.map((function(e,t){var n=e.left,r=e.top,l=e.containerHeight,c=Yr(e,["left","top","containerHeight"]);return w({left:n,top:r,key:e.key||e.src,containerHeight:l,index:t,margin:o,direction:a,onClick:i?f:null,photo:c})}))))}));ci.propTypes={photos:Nr().arrayOf(ei).isRequired,direction:Nr().string,onClick:Nr().func,columns:Nr().oneOfType([Nr().func,Nr().number]),targetRowHeight:Nr().oneOfType([Nr().func,Nr().number]),limitNodeSearch:Nr().oneOfType([Nr().func,Nr().number]),margin:Nr().number,renderImage:Nr().func},ci.defaultProps={margin:2,direction:"row",targetRowHeight:300};const si=ci;var di=React.useContext;function ui(){var e=di(x),t=e.isUpload,n=e.permissions,r=e.setIsUpload,i=e.isShortcodeBuilder,a=e.shortcodeBuilderType,o=e.files,l=!i&&(!a||"browser"===a)&&(!n||n.upload),c=wp.i18n.__("There are no items here.","integrate-google-drive"),s=wp.i18n.__("The folder is empty.","integrate-google-drive");return i&&!o.length&&(c=wp.i18n.__("No items available for selection.","integrate-google-drive"),s="gallery"===a?wp.i18n.__("This folder doesn't contain any images or videos.","integrate-google-drive"):"media"===a?wp.i18n.__("This folder doesn't contain any media files.","integrate-google-drive"):wp.i18n.__("This folder doesn't contain any selectable items.","integrate-google-drive")),React.createElement("div",{className:"igd-root-placeholder empty-folder-placeholder ".concat(t?"igd-hidden":"")},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/empty-folder-placeholder.svg"),alt:"Empty Folder"}),React.createElement("span",{className:"igd-root-placeholder-title"},c),React.createElement("span",{className:"igd-root-placeholder-text"},s),l&&React.createElement("button",{type:"button",className:"igd-btn btn-primary uploader-btn",onClick:function(){return r(!0)}},React.createElement("i",{className:"dashicons dashicons-cloud-upload"}),wp.i18n.__("Upload Files","integrate-google-drive")))}function gi(e){return gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gi(e)}function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=gi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||yi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hi(e){return function(e){if(Array.isArray(e))return wi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yi(e,t){if(e){if("string"==typeof e)return wi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wi(e,t):void 0}}function wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bi=React,_i=bi.useEffect,Ei=bi.useState,Ri=bi.useContext,Ni=igd.settings.rememberLastFolder,Si=void 0===Ni||Ni,Ci=function(e){var t=e.id,n=e.activeFiles,r=e.setActiveFiles,i=e.files.find((function(e){return e.id===t})),a=n.find((function(e){return e.id===t}));return React.createElement("span",{className:"file-item-checkbox ".concat(a?"checked":""),onClick:function(e){e.stopPropagation(),r(a?function(e){return e.filter((function(e){return e.id!==i.id}))}:[].concat(hi(n),[i]))}},React.createElement("span",{className:"box"}))};function xi(){var e=Ri(x),t=e.shortcodeId,n=e.galleryLayout,r=e.galleryColumns,i=e.galleryAspectRatio,a=e.galleryHeight,o=e.galleryMargin,l=e.galleryView,c=e.galleryFolderView,s=e.galleryOverlay,d=e.overlayDisplayType,u=e.galleryOverlayTitle,g=e.galleryOverlayDescription,m=e.galleryOverlaySize,p=e.galleryImageSize,f=e.galleryCustomSizeWidth,v=e.galleryCustomSizeHeight,h=e.activeAccount,y=e.files,w=e.listFiles,b=e.breadcrumbs,_=e.initFolders,E=e.setFiles,R=e.activeFolder,N=e.setActiveFolder,S=e.permissions,C=e.setActiveFiles,O=e.activeFiles,A=e.selectAll,P=e.isLoading,I=(e.initParentFolder,e.notifications),D=e.nonce,k=vi(Ei({}),2),F=k[0],j=k[1],T=!!b&&Object.keys(b),B=vi(Ei([]),2),L=B[0],M=B[1],U=vi(Ei([]),2),z=U[0],G=U[1];_i((function(){if(!y.length)return M([]),void G([]);var e=y.filter((function(e){return Rt(e)||["root","shared","computers","starred","shared-drives"].includes(e.id)}));M(e);var t=y.filter((function(e){return At(e)||xt(e)})).map((function(e){var t=e.id,r=e.accountId,i=e.type,a=e.description,o=e.name,l=e.size,c=e.metaData,s=void 0===c?{}:c,d={id:t,accountId:r,type:i,name:o,description:a,size:l,src:jt(e,p,{w:f,h:v})};return"grid"!==n&&(s.width&&!xt(e)||(s.width=600),s.height&&!xt(e)||(s.height=400),d.width=s.width,d.height=s.height),d}));G(t)}),[y]),_i((function(){L.length&&"title"!==c&&L.forEach((function(e){Pt(e.id,h)||H(e)}))}),[L,h]);var H=function(e){function t(e,t){var n=jQuery(e);setTimeout((function(){e.dataset.intervalId&&clearInterval(e.dataset.intervalId),e.dataset.intervalId=setInterval((function(){var e=n.find("img"),t=e.filter(".active").length?e.filter(".active"):e.first();if(t.length){var r=t.next().length?t.next():e.first();e.removeClass("active"),r.addClass("active")}}),3e3)}),1500*t)}wp.ajax.post("igd_get_files",{data:{folder:e},nonce:D||igd.nonce}).done((function(n){var r=n.files,i=n.error;if(i)Swal.fire({html:i,icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}});else{var a=r.filter((function(e){return At(e)||xt(e)}));a=a.slice(0,10),j((function(t){return pi(pi({},t),{},fi({},e.id,a))})),document.querySelectorAll(".igd-gallery-folder-images").forEach(t)}})).fail((function(e){return console.log(e)}))},W=Lt();_i((function(){if(W)if(A){C(A?y.filter((function(e){return!(Rt(e)&&!S.folderDownload)})):[]);var e=z.map((function(e){return pi(pi({},e),{},{isSelected:!0})}));G(e)}else{C([]);var t=z.map((function(e){return pi(pi({},e),{},{isSelected:!1})}));G(t)}}),[A]);var V=function(){var e=window.innerWidth;return e<768?r.xs:e<992?r.sm:e<1200?r.md:e<1600?r.lg:e>=1920?r.xl:r.md},q=vi(Ei(V()),2),K=q[0],Q=q[1];return _i((function(){var e=function(){Q(V())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),React.createElement(React.Fragment,null,React.createElement("div",{className:"igd-module-gallery gallery-view-".concat(l," gallery-layout-").concat(n),style:{"--column-width":"calc(".concat(100/K,"% - ").concat(2*o,"px)"),"--aspect-ratio":"".concat(i)}},React.createElement("div",{className:"file-list"},!!T.length&&!!R&&React.createElement("div",{className:"go-prev file-item folder-item",style:{margin:"".concat(o,"px")},onClick:function(e){if(T.length>1){var n=T[T.length-2],r={id:n,name:b[n],accountId:h.id};w(r)}else N(""),E(_),Si&&Kt(t)}},React.createElement("i",{className:"dashicons dashicons-arrow-left-alt"}),React.createElement("span",null,wp.i18n.__("Previous folder","integrate-google-drive"))),!!L.length&&L.map((function(e){var t=e.id,n=e.name,r=e.iconLink,i=O.find((function(e){return e.id===t})),a=null==r?void 0:r.replace("/16/","/64/");return React.createElement("div",{key:t,className:"file-item ".concat(i?"active":""," ").concat("title"===c?"folder-item":""),style:{margin:"".concat(o,"px")},onClick:function(){return w(e)}},"thumbnail"===c&&React.createElement("div",{className:"igd-gallery-folder-images"},F[t]&&F[t].length>0?F[t].map((function(e,t){var n=e.id,r=e.name,i=jt(e,p,{w:f,h:v});return React.createElement("img",{key:n,className:"".concat(0===t?"active":""),onError:function(e){e.target.src=a},src:i,alt:r,referrerPolicy:"no-referrer"})})):React.createElement("img",{className:"active",src:a,alt:n,referrerPolicy:"no-referrer"})),React.createElement("div",{className:"file-item-footer"},React.createElement("div",{className:"file-icon-wrap"},Pt(t,h)?React.createElement("i",{className:"file-icon dashicons ".concat(a," footer-icon")}):React.createElement("img",{className:"file-icon",src:a,alt:n,referrerPolicy:"no-referrer"}),(S.download&&S.zipDownload&&S.folderDownload||S.photoProof)&&React.createElement(Ci,{id:t,activeFiles:O,setActiveFiles:C,files:y})),React.createElement("span",null,n)))}))),!!z.length&&React.createElement(si,{photos:z,margin:parseInt(o),targetRowHeight:"justified"===n&&a,columns:K,direction:"masonry"===n?"column":"row",renderImage:function(e){var n=e.photo,r=e.margin,i=e.direction,a=e.top,o=e.left,l=n.name,c=n.description,p=n.src,f=n.size,v=n.id,h=n.accountId,w=n.width,b=n.height,_={display:"block",margin:"".concat(r,"px"),width:"".concat(w,"px"),height:"".concat(b,"px")};"column"===i&&(_.position="absolute",_.left="".concat(o,"px"),_.top="".concat(a,"px"));var E=O.find((function(e){return e.id===v}));return React.createElement("div",{className:"igd-gallery-item ".concat(E?"active":""),style:_,onClick:function(e){return function(e,n){Mt(e,n,y.filter((function(e){return At(e)||xt(e)})),S,I,!0,t,D)}(e,v)}},(S.download&&S.zipDownload||S.photoProof)&&React.createElement(Ci,{id:v,activeFiles:O,setActiveFiles:C,files:y}),React.createElement("img",{src:p,alt:l,referrerPolicy:"no-referrer",onError:function(e){var t=e.currentTarget,n=t.src,r=Tt({id:v,accountId:h},"medium");n!==r&&(t.src=r)}}),xt(n)&&React.createElement("i",{className:"dashicons dashicons-controls-play file-playback-icon"}),!!s&&React.createElement("div",{className:"igd-gallery-item-overlay type-".concat(d)},!!u&&React.createElement("div",{className:"overlay-title"},l.replace(/\.[^/.]+$/,"")),!!g&&!!c&&React.createElement("p",{className:"overlay-description"},c),!!m&&React.createElement("span",{className:"overlay-size"},Et(f))))}})),W&&!P&&!L.length&&!z.length&&React.createElement(ui,null))}function Oi(){return React.createElement("div",{className:"igd-root-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/computers-placeholder.svg"),alt:"Computers"}),React.createElement("span",{className:"igd-root-placeholder-title"},wp.i18n.__("No Computers Syncing","integrate-google-drive")),React.createElement("span",{className:"igd-root-placeholder-text"},wp.i18n.__("The files synced with computers will display here.","integrate-google-drive")))}function Ai(){return React.createElement("div",{className:"igd-root-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/shared-placeholder.svg"),alt:"Shared Files"}),React.createElement("span",{className:"igd-root-placeholder-title"},wp.i18n.__("Shared With Me","integrate-google-drive")),React.createElement("span",{className:"igd-root-placeholder-text"},wp.i18n.__("Files and folders others have shared with you.","integrate-google-drive")))}function Pi(){return React.createElement("div",{className:"igd-root-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/starred-placeholder.svg"),alt:"Starred Files"}),React.createElement("span",{className:"igd-root-placeholder-title"},wp.i18n.__("Nothing is starred","integrate-google-drive")),React.createElement("span",{className:"igd-root-placeholder-text"},wp.i18n.__("Adds star to files and folders that you want to find easily later.","integrate-google-drive")))}function Ii(){return React.createElement("div",{className:"igd-root-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/shared-drives-placeholder.svg"),alt:"Shared Drives"}),React.createElement("span",{className:"igd-root-placeholder-title"},wp.i18n.__("No Shared Drives","integrate-google-drive")),React.createElement("span",{className:"igd-root-placeholder-text"},wp.i18n.__("The Drives others have shared with you.","integrate-google-drive")))}function Di(e){var t=e.activeFolder.id;return React.createElement(React.Fragment,null,"computers"===t&&React.createElement(Oi,null),"shared-drives"===t&&React.createElement(Ii,null),"shared"===t&&React.createElement(Ai,null),"starred"===t&&React.createElement(Pi,null))}function ki(e){var t=e.isSearchResults,n=e.searchBoxText;return React.createElement("div",{className:"igd-root-placeholder search-placeholder ".concat(t?"empty-placeholder":"")},t&&React.createElement("svg",{width:100,height:100,className:"igd-placeholder-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 259 223",fill:"none"},React.createElement("g",{clipPath:"url(#clip0_1110_10155)"},React.createElement("path",{d:"M127.836 80.9443C127.836 103.828 127.836 126.64 127.836 149.523C127.836 157.696 124.072 161.391 115.905 161.391C81.2469 161.391 46.5181 161.391 11.8603 161.391C3.97712 161.391 0.07102 157.553 0.07102 149.665C0.07102 116.264 0.14204 82.8631 0 49.462C0 46.4062 1.0653 46.0509 3.62202 46.1219C12.4995 46.2641 21.377 46.193 30.2545 46.193C40.4104 46.193 46.092 40.4367 46.163 30.4164C46.163 21.3199 46.234 12.1524 46.092 3.05595C46.092 0.923972 46.3761 0.000114277 48.8618 0.0711803C71.5882 0.213312 94.3146 0.142246 117.041 0.142246C123.788 0.142246 127.836 4.19301 127.836 11.0153C127.907 34.2539 127.836 57.6346 127.836 80.9443ZM65.6935 103.046C76.9147 103.046 88.2069 103.046 99.428 103.046C103.689 103.046 105.891 101.34 105.891 98.2133C105.891 95.2285 103.689 93.4519 99.6411 93.4519C77.2698 93.4519 54.8985 93.4519 32.5272 93.4519C28.479 93.4519 26.2774 95.1575 26.2064 98.1423C26.1354 101.198 28.479 103.046 32.5982 103.046C43.6773 103.046 54.6854 103.046 65.6935 103.046ZM66.1196 67.6549C55.0405 67.6549 43.8904 67.6549 32.8112 67.6549C28.6211 67.6549 26.2774 69.3605 26.2774 72.4164C26.2774 75.4722 28.55 77.3199 32.7402 77.3199C54.9695 77.3199 77.1277 77.3199 99.357 77.3199C103.618 77.3199 105.891 75.6143 105.891 72.5585C105.891 69.4316 103.618 67.726 99.428 67.726C88.2779 67.6549 77.1988 67.6549 66.1196 67.6549ZM48.6487 117.756C43.1091 117.756 37.5696 117.685 32.03 117.756C28.266 117.756 26.2064 119.533 26.2774 122.518C26.2774 125.361 28.55 127.208 32.101 127.208C43.0381 127.208 54.0462 127.208 64.9833 127.208C68.5343 127.208 70.807 125.218 70.807 122.447C70.807 119.604 68.5343 117.828 64.9123 117.756C59.5148 117.756 54.0462 117.756 48.6487 117.756Z",fill:"#C1E9C9"}),React.createElement("path",{d:"M148.999 101.482C148.999 124.081 148.999 146.751 148.999 169.35C148.999 178.376 145.377 182 136.287 182C101.984 182 67.6104 182 33.3077 182C24.6433 182 20.4531 177.452 21.1633 168.924C21.3053 167.574 21.5894 166.934 23.0098 167.076C23.72 167.147 24.4302 167.076 25.1404 167.076C55.3239 167.076 85.5074 167.076 115.691 167.076C127.409 167.076 133.588 160.894 133.588 149.097C133.588 107.523 133.659 65.9494 133.517 24.3758C133.517 21.2489 134.298 20.4672 137.352 20.5383C145.164 20.8225 148.999 24.518 148.999 32.4774C148.999 55.5027 148.999 78.5281 148.999 101.482Z",fill:"#C1E9C9"}),React.createElement("path",{d:"M40.4817 18.6906C40.4817 22.9545 40.5527 27.2185 40.4817 31.4825C40.4106 36.9545 37.0727 40.4368 31.6752 40.5078C22.9397 40.5789 14.1332 40.5078 5.39776 40.5078C3.19614 40.5078 1.42064 39.8682 0.568403 37.6652C-0.212817 35.6043 0.710443 34.0408 2.13084 32.5484C12.2157 22.4571 22.3005 12.3657 32.4564 2.27433C33.9478 0.781945 35.5813 -0.355111 37.7829 0.639812C39.9135 1.56367 40.4817 3.34032 40.4817 5.54337C40.4106 9.87839 40.4817 14.2845 40.4817 18.6906Z",fill:"#C1E9C9"})),React.createElement("g",{clipPath:"url(#clip1_1110_10155)"},React.createElement("path",{d:"M148.9 79.6302C120.227 79.6302 91.6528 79.6302 62.9789 79.6302C51.4894 79.6302 46.8936 84.6083 48.4922 96.058C53.3877 132.199 58.4831 168.241 63.5784 204.382C64.5775 211.252 69.1733 214.935 76.9662 214.935C99.4456 215.035 121.925 214.935 144.405 214.935C169.382 214.935 194.359 214.935 219.336 214.935C221.035 214.935 222.633 214.935 224.332 215.234C226.33 215.632 227.529 217.026 227.529 219.117C227.429 221.208 226.23 222.502 224.232 222.801C222.733 223 221.234 222.9 219.736 222.9C172.779 222.9 125.822 222.9 78.8644 222.9C64.2778 222.9 57.484 217.126 55.4858 202.789C50.1906 166.747 45.1952 130.606 40.1997 94.5646C38.801 84.3096 44.4958 75.5482 54.5866 72.4617C56.2851 71.9639 57.2841 71.6652 57.7837 69.5744C59.682 62.3064 63.6783 59.6182 71.7709 59.5186C95.2495 59.5186 118.728 59.4191 142.207 59.6182C145.603 59.6182 147.801 58.8217 149.2 55.6357C150.199 53.2462 151.698 50.9563 153.097 48.7659C156.094 43.8873 160.49 41.0996 166.285 41.0996C187.465 41 208.546 40.9005 229.727 41.0996C236.62 41.1991 241.116 46.0777 241.416 52.8479C241.516 55.1379 241.516 57.5274 241.416 59.8173C241.216 66.3884 240.417 72.163 249.409 75.1499C256.902 77.639 259.799 85.7035 258.8 93.7681C255.203 121.347 251.207 148.926 247.411 176.504C247.011 179.292 245.912 181.582 242.915 181.283C239.418 180.985 239.018 178.197 239.418 175.31C241.916 157.588 244.413 139.865 246.811 122.143C248.21 112.486 249.609 102.828 250.807 93.0711C251.607 86.4005 247.411 80.9245 240.817 79.9289C238.818 79.6302 236.82 79.6302 234.822 79.6302C206.248 79.6302 177.574 79.6302 148.9 79.6302Z",fill:"#2FB44B"}),React.createElement("path",{d:"M225.431 149.025C225.331 153.904 223.632 161.072 219.536 167.444C218.037 169.834 218.237 171.228 220.235 173.219C230.126 182.777 239.818 192.634 249.509 202.391C253.205 206.074 253.705 209.659 251.007 212.347C248.31 215.035 244.813 214.537 241.116 210.853C231.525 201.395 222.034 191.937 212.542 182.379C210.444 180.188 209.046 179.491 206.048 181.383C190.962 191.14 171.48 190.144 157.593 179.292C143.605 168.34 138.11 150.22 143.506 133.394C148.901 116.667 164.486 105.118 182.57 104.521C205.549 103.724 225.431 123.039 225.431 149.025ZM183.569 176.106C200.254 176.007 213.542 162.566 213.342 145.939C213.242 129.71 199.454 116.269 183.269 116.468C166.684 116.568 153.297 130.208 153.496 146.735C153.596 163.063 167.084 176.206 183.569 176.106Z",fill:"#2FB44B"}),React.createElement("path",{d:"M107.738 171.427C112.933 171.427 118.029 171.228 123.224 171.427C128.519 171.626 131.316 174.613 131.516 179.89C131.616 182.18 131.616 184.569 131.516 186.859C131.316 191.937 128.519 195.023 123.524 195.222C112.933 195.421 102.243 195.421 91.6526 195.222C86.6572 195.123 83.8598 191.937 83.56 186.959C83.4601 184.967 83.56 182.976 83.56 180.985C83.6599 174.215 86.3575 171.526 93.3511 171.427C98.0468 171.327 102.842 171.327 107.738 171.427Z",fill:"#2FB44B"}),React.createElement("circle",{cx:"183",cy:"146",r:"30",fill:"white"}),React.createElement("rect",{width:"26.9682",height:"2.81029",transform:"matrix(0.708463 0.705748 0.708463 -0.705748 172.83 137.269)",fill:"#2FB44B"}),React.createElement("rect",{width:"27.6664",height:"2.81029",transform:"matrix(-0.708463 0.705748 0.708463 0.705748 191.885 135.286)",fill:"#2FB44B"})),React.createElement("defs",null,React.createElement("clipPath",{id:"clip0_1110_10155"},React.createElement("rect",{width:"149",height:"182",fill:"white"})),React.createElement("clipPath",{id:"clip1_1110_10155"},React.createElement("rect",{width:"219",height:"182",fill:"white",transform:"translate(40 41)"})))),t?React.createElement("h3",{className:"igd-root-placeholder-title"},wp.i18n.__("No results found!","integrate-google-drive")):React.createElement("h3",{className:"igd-root-placeholder-title"},n),!t&&React.createElement(un,null))}var Fi=React.useContext;function ji(){var e=Fi(x),t=e.files,n=e.searchKeywordRef,r=e.isSearch,i=e.activeFolder,a=t.length?t.length:wp.i18n.__("No","integrate-google-drive"),o=wp.i18n.sprintf(wp.i18n.__('Search results for "%s": %s items found.',"integrate-google-drive"),"<strong>".concat(n.current,"</strong>"),a);return React.createElement("div",{className:"search-result-info"},(!r||!i)&&React.createElement("span",{dangerouslySetInnerHTML:{__html:o}}),React.createElement("button",{onClick:function(e){var t=e.target.closest(".igd-file-browser").querySelector(".search-dismiss");t&&t.click()},className:"clear-button igd-btn btn-warning"},wp.i18n.__("Clear","integrate-google-drive")))}function Ti(e){return function(e){if(Array.isArray(e))return Bi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Li=React.useMemo,Mi="...",Ui=function(e,t){var n=t-e+1;return Array.from({length:n},(function(t,n){return n+e}))};const zi=function(e){var t=e.onPageChange,n=e.pageCount,r=e.siblingCount,i=void 0===r?1:r,a=e.currentPage,o=void 0===a?1:a,l=e.className,c=function(e){var t=e.pageCount,n=e.siblingCount,r=void 0===n?1:n,i=e.currentPage;return Li((function(){if(r+5>=t)return Ui(1,t);var e=Math.max(i-r,1),n=Math.min(i+r,t),a=e>2,o=n<t-2,l=1,c=t;if(!a&&o){var s=Ui(1,2+2*r);return[].concat(Ti(s),[Mi,t])}if(a&&!o){var d=Ui(t-(2+2*r)+1,t);return[l,Mi].concat(Ti(d))}if(a&&o){var u=Ui(e,n);return[l,Mi].concat(Ti(u),[Mi,c])}}),[t,r,i])}({pageCount:n,siblingCount:i,currentPage:o});if(0===o||(null==c?void 0:c.length)<2)return null;var s=c[(null==c?void 0:c.length)-1];return React.createElement("ul",{className:"pagination-container ".concat(l||"")},React.createElement("li",{className:"pagination-item ".concat(1===o?"disabled":""),onClick:function(){return 1!==o&&void t(o-1)}},React.createElement("svg",{height:"15px",width:"15px",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 490.787 490.787"},React.createElement("pat",{d:"M362.671,490.787c-2.831,0.005-5.548-1.115-7.552-3.115L120.452,253.006c-4.164-4.165-4.164-10.917,0-15.083L355.119,3.256c4.093-4.237,10.845-4.354,15.083-0.262c4.237,4.093,4.354,10.845,0.262,15.083c-0.086,0.089-0.173,0.176-0.262,0.262L143.087,245.454l227.136,227.115c4.171,4.16,4.179,10.914,0.019,15.085C368.236,489.664,365.511,490.792,362.671,490.787z"}),React.createElement("path",{d:"M362.671,490.787c-2.831,0.005-5.548-1.115-7.552-3.115L120.452,253.006c-4.164-4.165-4.164-10.917,0-15.083L355.119,3.256c4.093-4.237,10.845-4.354,15.083-0.262c4.237,4.093,4.354,10.845,0.262,15.083c-0.086,0.089-0.173,0.176-0.262,0.262L143.087,245.454l227.136,227.115c4.171,4.16,4.179,10.914,0.019,15.085C368.236,489.664,365.511,490.792,362.671,490.787z"}))),c.map((function(e){return e===Mi?React.createElement("li",{key:e,className:"pagination-item dots"},"…"):React.createElement("li",{key:e,className:"pagination-item ".concat(e===o?"selected":""),onClick:function(){return t(e)}},e)})),React.createElement("li",{className:"pagination-item ".concat(o===s?"disabled":""),onClick:function(){return o!==s&&void t(o+1)}},React.createElement("svg",{height:"15px",width:"15px",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 490.8 490.8"},React.createElement("path",{d:"M135.685,3.128c-4.237-4.093-10.99-3.975-15.083,0.262c-3.992,4.134-3.992,10.687,0,14.82l227.115,227.136L120.581,472.461c-4.237,4.093-4.354,10.845-0.262,15.083c4.093,4.237,10.845,4.354,15.083,0.262c0.089-0.086,0.176-0.173,0.262-0.262l234.667-234.667c4.164-4.165,4.164-10.917,0-15.083L135.685,3.128z"}),React.createElement("path",{d:"M128.133,490.68c-5.891,0.011-10.675-4.757-10.686-10.648c-0.005-2.84,1.123-5.565,3.134-7.571l227.136-227.115L120.581,18.232c-4.171-4.171-4.171-10.933,0-15.104c4.171-4.171,10.933-4.171,15.104,0l234.667,234.667c4.164,4.165,4.164,10.917,0,15.083L135.685,487.544C133.685,489.551,130.967,490.68,128.133,490.68z"}))))};function Gi(e){return Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gi(e)}function Hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hi(Object(n),!0).forEach((function(t){Vi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Gi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ki(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qi=React,Ji=Qi.useContext,Yi=Qi.useState;function $i(){var e=Ji(x),t=e.shortcodeId,n=e.nonce,r=(e.isLoading,e.activeAccount),i=e.files,a=void 0===i?[]:i,o=e.setFiles,l=e.activeFiles,c=e.setActiveFiles,s=e.activeFolder,d=(e.setActiveFolder,e.setAllFiles),u=e.isShortcodeBuilder,g=e.isList,m=e.shortcodeBuilderType,p=e.permissions,f=e.setIsOptions,v=e.show,h=e.hideAll,y=e.getFiles,w=e.notifications,b=e.sort,_=e.setSort,E=e.showSorting,R=e.setIsUpload,N=e.showRefresh,S=e.activeFile,C=e.setIsList,O=e.isBulkSelect,A=e.setIsBulkSelect,P=e.isOptions,I=e.showDetails,D=e.setShowDetails,k=e.setActiveAccount,F=e.photoProofBtnText,j=void 0===F?wp.i18n.__("Submit Selections","integrate-google-drive"):F,T="gallery"===m,B="search"===m,L={name:wp.i18n.__("Name","integrate-google-drive"),size:wp.i18n.__("Size","integrate-google-drive"),created:wp.i18n.__("Created","integrate-google-drive"),updated:wp.i18n.__("Modified","integrate-google-drive")},M={asc:wp.i18n.__("Ascending","integrate-google-drive"),desc:wp.i18n.__("Descending","integrate-google-drive")},U=qi(Yi(!1),2),z=U[0],G=U[1],H=!u&&(!p||p.upload)&&!!s&&(!Pt(s.id,r)||"root"===s.id),W=(!p||p.download)&&l.length>0,V=(!p||p.delete)&&!["shared","shared-drives","computers"].includes(null==s?void 0:s.id)&&l.length>0,q=N&&(!B||u)&&s,K=(!p||p.preview)&&l.filter((function(e){var t;return(null===(t=e.permissions)||void 0===t?void 0:t.canPreview)&&!Rt(e)})).length>0,Q=(!p||p.view)&&!T,J=!u&&(!p||p.details)&&!T,Y=!u&&(!p||p.download&&p.zipDownload),$=!u&&!p&&1===l.length;return React.createElement("div",{className:"body-action"},E&&(!B||u)&&React.createElement("button",{type:"button",className:"body-action-item action-sort",title:wp.i18n.__("Sort","integrate-google-drive"),"aria-label":wp.i18n.__("Sort","integrate-google-drive"),onClick:function(){return G(!z)}},React.createElement("img",{className:"action-item-icon",src:"".concat(igd.pluginUrl,"/assets/images/file-browser/sort.svg"),alt:"Sort"}),React.createElement("span",{className:"action-item-label"},L[b.sortBy]),React.createElement("i",{className:"dashicons dashicons-arrow-".concat("asc"===b.sortDirection?"down":"up")}),React.createElement(rt,{anchorSelect:".body-action-item.action-sort",isOpen:z,setIsOpen:G,openEvents:["click"],variant:"light",className:"igd-sort-modal igd-tooltip",place:"bottom",border:"1px solid #ddd",clickable:!0},React.createElement("div",{className:"igd-sort-modal-inner"},React.createElement("div",{className:"igd-sort-modal-inner-section"},React.createElement("span",{className:"igd-sort-modal-inner-section-title"},wp.i18n.__("SORT BY","integrate-google-drive")),Object.keys(L).map((function(e){return React.createElement("div",{key:e,className:"sort-item ".concat(b.sortBy===e?"active":""),onClick:function(){return _(Wi(Wi({},b),{},{sortBy:e}))}},React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,L[e]))}))),React.createElement("div",{className:"igd-sort-modal-inner-section"},React.createElement("span",{className:"igd-sort-modal-inner-section-title"},wp.i18n.__("SORT DIRECTION","integrate-google-drive")),Object.keys(M).map((function(e){return React.createElement("div",{key:e,className:"sort-item ".concat(b.sortDirection===e?"active":""),onClick:function(){return _((function(t){return Wi(Wi({},t),{},{sortDirection:e})}))}},React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,M[e]))})))))),Y&&React.createElement("button",{type:"button",className:"body-action-item action-bulk",onClick:function(){A((function(e){return!e}))},title:wp.i18n.__("Bulk Select","integrate-google-drive"),"aria-label":wp.i18n.__("Bulk Select","integrate-google-drive")},React.createElement("span",{className:"action-item-label"},O?"".concat(l.length," ").concat(wp.i18n.__("Selected","integrate-google-drive")):wp.i18n.__("Bulk Select","integrate-google-drive")),React.createElement("span",{className:"file-item-checkbox ".concat(O?"checked":"")},React.createElement("span",{className:"box"}))),K&&React.createElement("button",{type:"button",className:"body-action-item action-preview",onClick:function(e){var r=l.filter((function(e){var t;return(null===(t=e.permissions)||void 0===t?void 0:t.canPreview)&&!Rt(e)}));r.length&&Mt(e,r[0].id,r,p,w,!1,t,n)},title:wp.i18n.__("Preview","integrate-google-drive"),"aria-label":wp.i18n.__("Preview","integrate-google-drive")},React.createElement("i",{className:"action-item-icon dashicons dashicons-visibility"}),React.createElement("span",{className:"action-item-label"},wp.i18n.__("Preview","integrate-google-drive"))),!!T&&!!p&&!!p.photoProof&&React.createElement("button",{type:"button",className:"body-action-item action-photo-proof ".concat(l.length?"":"disabled"," photo-proofing-btn"),onClick:function(){l.length<1?Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Please select at least one file.","integrate-google-drive"),icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}}):p.photoProofMaxSelection>0&&l.length>p.photoProofMaxSelection?Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.sprintf(wp.i18n.__("You can not select more than %s files.","integrate-google-drive"),p.photoProofMaxSelection),icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}}):Swal.fire({title:wp.i18n.sprintf(wp.i18n.__("Approve Selection (%s selected)","integrate-google-drive"),l.length),text:wp.i18n.__("Are you sure you want to approve the selected files?","integrate-google-drive"),input:"textarea",inputValue:"",inputAttributes:{autocapitalize:"off",placeholder:wp.i18n.__("Enter a message to send to the author","integrate-google-drive")},showCancelButton:!1,confirmButtonText:wp.i18n.__("Approve","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,customClass:{container:"igd-swal"},preConfirm:function(e){return wp.ajax.post("igd_photo_proof",{shortcode_id:t,message:e,selected:l,email:p.photoProofEmail,nonce:n||igd.nonce}).done((function(){Swal.fire({title:wp.i18n.__("Sent!","integrate-google-drive"),text:wp.i18n.__("Your selected images have been sent to the author.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,toast:!0})})).fail((function(e){Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:(null==e?void 0:e.message)||wp.i18n.__("An error occurred while sending the files.","integrate-google-drive"),icon:"error",showConfirmButton:!0,confirmButtonText:"OK",customClass:{container:"igd-swal"}})}))}})},title:wp.i18n.__("Photo Proofing","integrate-google-drive"),"aria-label":wp.i18n.__("Photo Proofing","integrate-google-drive")},React.createElement("i",{className:"action-item-icon dashicons dashicons-images-alt2"}),React.createElement("span",{className:"action-item-label"},j),l.length>0&&React.createElement("span",{className:"selection-count"},"(",l.length,")")),W&&React.createElement("button",{type:"button",className:"body-action-item action-download",onClick:function(){1!==l.length||Rt(l[0])?en(!0,l,S,p,t,n):window.location.href="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(l[0].id,"&accountId=").concat(l[0].accountId,"&shortcodeId=").concat(t,"&nonce=").concat(n||igd.nonce)},title:wp.i18n.__("Download","integrate-google-drive"),"aria-label":wp.i18n.__("Download","integrate-google-drive")},React.createElement("i",{className:"dashicons dashicons-download action-item-icon"}),React.createElement("span",{className:"action-item-label"},wp.i18n.__("Download","integrate-google-drive"))),$&&React.createElement("button",{type:"button",className:"body-action-item action-direct-link",onClick:function(){return tn(l[0],!0)},title:wp.i18n.__("Generate Direct Link","integrate-google-drive"),"aria-label":wp.i18n.__("Generate Direct Link","integrate-google-drive")},React.createElement("i",{className:"action-item-icon dashicons dashicons-admin-links"}),React.createElement("span",{className:"action-item-label"},wp.i18n.__("Direct Link","integrate-google-drive"))),V&&React.createElement("button",{type:"button",className:"body-action-item action-delete",onClick:function(){return Xt({files:a,activeFiles:l,setFiles:o,setAllFiles:d,activeFolder:s,setActiveFiles:c,setActiveAccount:k,isOptions:P,activeFile:S,notifications:w,shortcodeId:t,nonce:n})},title:wp.i18n.__("Delete","integrate-google-drive"),"aria-label":wp.i18n.__("Delete","integrate-google-drive")},React.createElement("i",{className:"action-item-icon dashicons dashicons-trash"}),React.createElement("span",{className:"action-item-label"},wp.i18n.__("Delete","integrate-google-drive"))),H&&React.createElement("button",{type:"button",className:"body-action-item action-upload",onClick:function(){return R((function(e){return!e}))},title:wp.i18n.__("Upload","integrate-google-drive"),"aria-label":wp.i18n.__("Upload","integrate-google-drive")},React.createElement("i",{className:"action-item-icon dashicons dashicons-cloud-upload"}),React.createElement("span",{className:"action-item-label"},wp.i18n.__("Upload","integrate-google-drive"))),q&&React.createElement("button",{type:"button",className:"body-action-item action-update",onClick:function(){s&&y(s,"refresh")},title:wp.i18n.__("Refresh","integrate-google-drive"),"aria-label":wp.i18n.__("Refresh","integrate-google-drive")},React.createElement("i",{className:"action-item-icon dashicons dashicons-update"}),React.createElement("span",{className:"action-item-label"},wp.i18n.__("Refresh","integrate-google-drive"))),Q&&React.createElement("button",{type:"button",className:"body-action-item action-view",onClick:function(){C(!g),Vt(t,g?"grid":"list")},title:wp.i18n.__("Listing View","integrate-google-drive"),"aria-label":wp.i18n.__("Listing View","integrate-google-drive")},React.createElement("i",{className:"action-item-icon dashicons dashicons-".concat(g?"grid-view":"list-view")})),J&&React.createElement("button",{type:"button",className:"body-action-item action-details",onClick:function(){D((function(e){return!e})),localStorage.setItem("igd_show_details",I?1:0)},title:wp.i18n.__("Details","integrate-google-drive"),"aria-label":wp.i18n.__("Details","integrate-google-drive")},React.createElement("i",{className:"action-item-icon dashicons dashicons-info-outline"})),React.createElement("button",{type:"button",className:"body-action-item action-options",onClick:function(e){e.preventDefault(),f(!P),P?h():v(e)},title:wp.i18n.__("Options","integrate-google-drive"),"aria-label":wp.i18n.__("Options","integrate-google-drive")},React.createElement("i",{className:"action-item-icon dashicons dashicons-ellipsis"})))}function Xi(e){return Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xi(e)}function Zi(e){return function(e){if(Array.isArray(e))return ea(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ea(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(n),!0).forEach((function(t){ra(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ra(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Xi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ia=React,aa=ia.useEffect,oa=ia.useRef,la=ia.useContext,ca=igd.settings,sa=ca.preloader,da=void 0===sa?"default":sa,ua=ca.rememberLastFolder,ga=void 0===ua||ua,ma=ca.customPreloader;function pa(){var e=document.querySelector(".igd-tutor-attachment-modal"),t=la(x),n=t.shortcodeId,r=t.nonce,i=t.isLoading,a=t.activeAccount,o=t.initFolders,l=t.files,c=void 0===l?[]:l,s=t.setFiles,d=t.activeFiles,u=t.setActiveFiles,g=t.breadcrumbs,m=t.activeFolder,p=t.setActiveFolder,f=t.isShortcodeBuilder,v=t.selectedFolders,h=t.setSelectedFolders,y=t.isList,w=t.showLastModified,b=t.showFileSizeField,_=t.shortcodeBuilderType,E=t.isUpload,R=t.permissions,N=t.isSearchResults,S=t.isMobile,C=t.setIsOptions,O=t.listFiles,A=t.show,P=t.hideAll,I=t.isSelectFiles,D=t.selectionType,k=t.setActiveFile,F=t.isLMS,j=t.isWooCommerce,T=t.getFiles,B=t.notifications,L=t.lazyLoad,M=t.lazyLoadNumber,U=t.lazyLoadType,z=t.searchBoxText,G=t.isBulkSelect,H="browser"===_,W="uploader"===_,V="gallery"===_,q="embed"===_,K="search"===_,Q="media"===_,J="view"===_,Y="download"===_,$="slider"===_,X=W&&v.length;v&&v.length&&I&&["single","parent","template"].includes(D)&&(X=!0);var Z=[!!H,!!Q,!!$,!!V,!!q,!!J,!!Y,!!F,!!j,!!I&&!D].includes(!0),ee=!(!m||Pt(m.id,a)&&"root"!==m.id),te=oa(),ne=It(te,y);!L||"scroll"!==U||!f&&K||function(e,t,n,r,i,a,o){React.useEffect((function(){var o=e.current;if(o&&!n&&!i&&r&&r.pageNumber&&!(r.pageNumber<1)){var l=document.body.classList.contains("block-editor-page"),c=document.body.classList.contains("elementor-editor-active"),s=document.body.classList.contains("et-fb");if(!(l||c||s)||a){var d=function(e){for(var t=e.parentElement,n=null;t;)"div"===t.nodeName.toLowerCase()&&(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)&&(n=t),t=t.parentElement;return n}(o),u=d?d.scrollTop:window.pageYOffset,g=function(){var e=d?d.scrollTop:window.pageYOffset,n=e>u;if(u=e,n)if(d)d.scrollHeight-e<=d.clientHeight&&t(r,"lazy");else{var i=o.getBoundingClientRect(),a=window.innerHeight||document.documentElement.clientHeight;i.bottom<=a+5&&t(r,"lazy")}},m=d||window;return m.addEventListener("scroll",g),function(){m.removeEventListener("scroll",g)}}}}),[e,t,n,r])}(te,T,i,m,N,f),L&&"pagination"!==U&&(null==m?void 0:m.pageNumber)>0&&c.length<((null==m?void 0:m.pageNumber)-1)*M&&p(na(na({},m),{},{pageNumber:0}));var re=oa(!1);aa((function(){if(!("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&c.length&&"undefined"!=typeof DragSelect&&te.current){var e=new DragSelect({selectables:te.current.querySelectorAll(".file-item"),area:te.current.querySelector(".file-list"),draggability:!1});return e.subscribe("DS:update",(function(){re.current=!0})),e.subscribe("DS:end",(function(e){var t=e.items;setTimeout((function(){if(t.length&&re.current){var e=t.map((function(e){return c.find((function(t){return t.id===e.getAttribute("data-id")}))}));f?h([].concat(Zi(v),Zi(e.filter((function(e){return!v.find((function(t){return t.id===e.id}))}))))):u((function(t){return[].concat(Zi(t),Zi(e.filter((function(e){return!t.find((function(t){return t.id===e.id}))}))))}))}re.current=!1}),50)})),function(){e.unsubscribe("DS:update"),e.unsubscribe("DS:end"),e.stop()}}}),[c]);var ie=g?Object.keys(g):[],ae=!1;return React.createElement("div",{ref:te,className:"igd-body ".concat(i?"lazy"===i&&"pagination"!==U?"lazy-loading":"loading":""," ").concat(G?"bulk-select":""," ")},React.createElement($i,null),(N||K&&!f&&m)&&!i&&React.createElement(ji,null),(!V||f)&&React.createElement("div",{className:"file-list ".concat(y?"list-view":""," ").concat(ne," ").concat(c.length||Pt(m,a)?"":"empty"),onClick:function(){if(!re.current&&!G){var e=document.querySelector(".igd-context-menu")?300:0;setTimeout((function(){k(null),u([])}),e)}},onContextMenu:function(e){e.preventDefault(),C(!1),G||u([]),Pt(m.id,a)&&"root"!==m.id||(k(m),A(e))}},!V&&y&&!!c.length&&(w||b)&&React.createElement("div",{className:"list-view-header"},React.createElement("span",{className:"col-name"},wp.i18n.__("Name","integrate-google-drive")),b&&React.createElement("span",{className:"col-size"},wp.i18n.__("Size","integrate-google-drive")),w&&React.createElement("span",{className:"col-modified"},wp.i18n.__("Modified","integrate-google-drive"))),(!m||!m&&!!o)&&(!K||f)&&!N&&React.createElement(Yn,null),(!K||f)&&!!m&&!!ie.length&&React.createElement("div",{className:"go-prev file-item folder-item",onClick:function(e){if(k(null),o)if(ie.length>1){var t=ie[ie.length-2],r=[ie[ie.length-3]],i={id:t,name:g[t],accountId:a.id,parents:r};O(i)}else p(null),s(o),ga&&Kt(n);else if(ie.length>1){var l=ie[ie.length-2],c=[ie[ie.length-3]],d={id:l,name:g[l],accountId:a.id,parents:c};O(d)}else s([]),p(null)}},React.createElement("i",{className:"dashicons dashicons-arrow-left-alt2"}),React.createElement("span",null,wp.i18n.__("Previous folder","integrate-google-drive"))),!!c.length&&c.map((function(t,i){var a=t.id,o=t.name,l=t.type,s=t.iconLink,g=void 0===s?"":s,m=t.thumbnailLink,p=t.size,_=t.updated;if(a){var E=Rt(t),N=f?v.find((function(e){return e.id===a})):d.find((function(e){return(null==e?void 0:e.id)===a})),x=v&&!!v.find((function(e){return e.id===a})),I=f&&(Z||E)&&(!F||!E)&&(!e||!E);X&&(I=(v[0].id||v[0])===a);var D=null==g?void 0:g.replace("/16/","/64/"),j=jt(t,"small"),T=!ae&&E&&!c.slice(i+1).some(Rt);return T&&(ae=!0),React.createElement(React.Fragment,null,T&&!y&&React.createElement("div",{className:"folder-file-divider"}),React.createElement("div",{key:a,"data-id":a,className:"file-item ".concat(E?"folder-item":"","  ").concat(T?"folder-item-last":""," ").concat(N||x?"active":""),onClick:function(e){e.stopPropagation(),P(),S?E?O(t):f?h([].concat(Zi(v),[t])):(k(t),Mt(e,a,c,R,B,!1,n,r)):(e.detail&&1!=e.detail||f?E?O(t):f&&I&&h(x?Zi(v.filter((function(e){return e.id!=t.id}))):[].concat(Zi(v),[t])):(e.ctrlKey||e.shiftKey||e.metaKey)&&!W?u((function(e){return e.find((function(e){return e.id===t.id}))?e.filter((function(e){return e.id!==t.id})):[].concat(Zi(e),[t])})):E?O(t):(k(t),Mt(e,a,c,R,B,!1,n,r)),console.log(t))},onDoubleClick:function(e){e.stopPropagation(),f||(E?O(t):(k(t),Mt(e,a,c,R,B,!1,n,r)))},onContextMenu:function(e){e.preventDefault(),e.stopPropagation(),P(),C(!1),t["shared-drives"]||f||(k(t),A(e))},title:o},!E&&!y&&React.createElement("img",{src:j,alt:o,loading:"lazy",className:"igd-file-thumbnail ".concat(m?"has-thumbnail":""),referrerPolicy:"no-referrer",onError:function(e){var n=e.currentTarget,r=n.src,i=Tt(t,"medium");r!==i&&(n.src=i)}}),!y&&Ct(t)&&React.createElement("i",{className:"dashicons dashicons-controls-play file-playback-icon"}),React.createElement("div",{className:"file-item-footer"},React.createElement("div",{className:"file-icon-wrap"},React.createElement("img",{className:"file-icon",referrerPolicy:"no-referrer",src:D,alt:"icon"}),"application/vnd.google-apps.shortcut"===l&&React.createElement("svg",{className:"shortcut-icon",viewBox:"0 0 16 16",fill:"none",focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"16px"},React.createElement("circle",{cx:"8",cy:"8",r:"8",fill:"white"}),React.createElement("path",{d:"M10,3H6V4H8.15A5,5,0,0,0,10,13V12A4,4,0,0,1,9,4.65V7h1Z",fill:"#5F6368"})),(!f&&(!R||!E||R.folderDownload)||I)&&React.createElement("span",{className:"file-item-checkbox ".concat(N?"checked":""),onClick:function(e){e.stopPropagation(),f?h(x?Zi(v.filter((function(e){return e.id!==t.id}))):[].concat(Zi(v),[t])):(k(null),u(N?function(e){return e.filter((function(e){return e.id!==t.id}))}:[].concat(Zi(d),[t])))}},React.createElement("span",{className:"box"}))),React.createElement("span",{className:"file-item-name"},o),b&&(y?React.createElement("span",{className:"file-item-size"},p?Et(p):"—"):(!R||R.download)&&!E&&!!p&&React.createElement("span",{className:"file-item-size"},Et(p))),!f&&(!R||R.download&&(!E||R.folderDownload)||R.details||R.delete||R.rename||R.move||R.copy||R.edit||R.preview)&&React.createElement("span",{className:"file-item-options",onClick:function(e){e.stopPropagation(),C(!1),k(t),A(e)}},React.createElement("i",{className:"dashicons dashicons-ellipsis"}))),y&&w&&React.createElement("span",{className:"file-item-date"},Qt(_,!0))))}}))),!f&&V&&React.createElement(xi,null),!!c.length&&L&&"button"===U&&(null==m?void 0:m.pageNumber)>0&&React.createElement("button",{className:"igd-btn btn-primary igd-load-more ".concat(c.length?"":"igd-hidden"),onClick:function(e){e.stopPropagation(),T(m,"lazy")}},i&&React.createElement("span",{className:"igd-spinner"}),i?wp.i18n.__("Loading...","integrate-google-drive"):wp.i18n.__("Load more","integrate-google-drive")),!N&&!!c.length&&L&&"pagination"===U&&(null==m?void 0:m.count)>M&&React.createElement(zi,{className:"igd-pagination",pageCount:(null==m?void 0:m.pageNumber)<=1&&c.length<M?1:Math.ceil((null==m?void 0:m.count)/M),currentPage:(null==m?void 0:m.pageNumber)||1,onPageChange:function(e){p(na(na({},m),{},{pageNumber:e})),T(na(na({},m),{},{pageNumber:e}),"lazy");var t=te.current.closest(".igd-file-browser");t&&t.scrollIntoView({behavior:"smooth"})}}),!i&&(o||m&&(!Pt(m.id,a)||"root"===m.id))&&!c.length&&(f||!V)&&(f||!K)&&!N&&React.createElement(ui,null),!K&&!N&&!f&&!V&&ee&&E&&React.createElement(Er,null),!N&&!i&&!c.length&&m&&Pt(m.id,a)&&React.createElement(Di,{activeFolder:m}),!i&&(!f&&K||N)&&!c.length&&React.createElement(ki,{isSearchResults:N,searchBoxText:z}),i&&"none"!==da&&React.createElement("div",{className:"loading-wrap"},ma?React.createElement("img",{src:ma,alt:"Loading..."}):React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/preloader/").concat(da,".svg"),alt:"Loading..."})))}function fa(e){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fa(e)}function va(e){return function(e){if(Array.isArray(e))return Ea(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(n),!0).forEach((function(t){wa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wa(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=fa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fa(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ba(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||_a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _a(e,t){if(e){if("string"==typeof e)return Ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ea(e,t):void 0}}function Ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ra=React,Na=Ra.useContext,Sa=Ra.useState,Ca=Ra.useEffect;function xa(){var e,t,n,r,i=Na(x),a=i.shortcodeId,o=i.files,l=i.activeAccount,c=i.activeFile,s=i.setShowDetails,d=i.activeFolder,u=i.setFiles,g=i.listFiles,m=i.setAllFiles,p=i.initParentFolder,f=i.initFolders,v=i.nonce,h=i.activeFiles,y=ba(Sa(null),2),w=y[0],b=y[1],_=w||{},E=_.id,R=_.accountId,N=_.name,S=_.iconLink,C=_.type,O=_.size,A=_.owner,P=_.updated,I=_.created,D=_.description,k=_.parents,F=ba(Sa(null),2),j=F[0],T=F[1],B=ba(Sa(!1),2),L=B[0],M=B[1],U=ba(Sa(""),2),z=U[0],G=U[1];Ca((function(){b(null),c?b(c):h.length>0?b(h[0]):d&&!Pt(d.id,l)&&b(d)}),[c,h,d]),Ca((function(){if(null!=w&&w.parents){var e=w.parents[0];(null==d?void 0:d.id)!==e?(T("loading"),wp.ajax.post("igd_get_file",{shortcodeId:a,id:e,accountId:R,nonce:v||igd.nonce}).done((function(e){T(e)})).fail((function(e){console.log(e),T(null)}))):T(d)}else T(null)}),[w,d]);var H=null==S?void 0:S.replace("/16/","/64/"),W=[{key:"type",label:wp.i18n.__("Type","integrate-google-drive"),value:_t(C)},{key:"size",label:wp.i18n.__("Size","integrate-google-drive"),value:O&&Et(O)},{key:"owner",label:wp.i18n.__("Owner","integrate-google-drive"),value:A},{key:"updated",label:wp.i18n.__("Updated","integrate-google-drive"),value:P&&Qt(P)},{key:"created",label:wp.i18n.__("Created","integrate-google-drive"),value:I&&Qt(I)}];return Ca((function(){return function(){var e=jQuery(".igd-details-wrap"),t=e.outerWidth(),n=e.parents(".igd-file-browser").find(".igd-body"),r=e.parents(".igd-file-browser").find(".igd-sidebar-wrap"),i="calc(100% - ".concat(t,"px)");if(r.length>0){var a=r.outerWidth();i="calc(100% - ".concat(t+a,"px)")}return n.css("width",i),function(){n.css("width","100%")}}()}),[]),React.createElement("div",{className:"igd-details-wrap"},React.createElement("div",{className:"igd-details"},React.createElement("i",{className:"close-details dashicons dashicons-no",onClick:function(){s(!1),localStorage.removeItem("igd_show_details")}}),w&&!Pt(w.id,l)?React.createElement(React.Fragment,null,React.createElement("div",{className:"details-item name"},React.createElement("img",{src:H}),React.createElement("span",null,N)),W.map((function(e){var t=e.key,n=e.label,r=e.value;if(r)return React.createElement("div",{key:t,className:"details-item field-".concat(t)},React.createElement("span",{className:"details-item-label"},n),React.createElement("span",{className:"details-item-value"},r))})),(null==w||null===(e=w.imageMediaMetadata)||void 0===e?void 0:e.width)&&(null==w||null===(t=w.imageMediaMetadata)||void 0===t?void 0:t.height)&&React.createElement("div",{className:"details-item field-dimension"},React.createElement("span",{className:"details-item-label"},wp.i18n.__("Dimension","integrate-google-drive")),React.createElement("span",{className:"details-item-value"},null==w||null===(n=w.imageMediaMetadata)||void 0===n?void 0:n.width," x ",null==w||null===(r=w.imageMediaMetadata)||void 0===r?void 0:r.height)),!(null==k||!k.length)&&d&&d.id!==(null==p?void 0:p.id)&&React.createElement("div",{className:"details-item field-location"},React.createElement("span",{className:"details-item-label"},wp.i18n.__("Location","integrate-google-drive")),j&&React.createElement("div",{className:"details-item-value"},"loading"===j?React.createElement("span",{className:"igd-spinner"}):React.createElement("div",{className:"location-wrap",onClick:function(){g(j)}},React.createElement("img",{src:j.iconLink}),React.createElement("span",null,j.name)))),((null==w?void 0:w.description)||!f)&&React.createElement("div",{className:"details-item field-description"},React.createElement("span",{className:"details-item-label"},wp.i18n.__("Description","integrate-google-drive")),!f&&React.createElement("i",{className:"dashicons ".concat(L?"dashicons-saved":"dashicons-edit"),onClick:function(){L?(!function(){var e=o.map((function(e){return e.id===E?ya(ya({},e),{},{description:z}):e}));u(va(e)),b(ya(ya({},w),{},{description:z})),m((function(t){return ya(ya({},t),{},wa({},null==d?void 0:d.id,va(e)))})),wp.ajax.post("igd_update_description",{shortcodeId:a,id:E,accountId:R,description:z,nonce:v||igd.nonce}).done((function(){Swal.fire({title:wp.i18n.__("Updated!","integrate-google-drive"),text:wp.i18n.__("Description has been updated.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"},position:"top-end"})}))}(),M(!1)):(M(!0),G(D))}}),!L&&(D?React.createElement("span",{className:"details-item-value"},D):React.createElement("span",{className:"description-placeholder"},wp.i18n.__("Add description","integrate-google-drive"))),!f&&L&&React.createElement("textarea",{onChange:function(e){return G(e.target.value)},value:z,rows:4}))):React.createElement("div",{className:"details-placeholder"},React.createElement("i",{className:"dashicons dashicons-pressthis"}),React.createElement("span",null,wp.i18n.__("Select a file or folder to view its details.","integrate-google-drive")))))}function Oa(e){return Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(e)}function Aa(e){return function(e){if(Array.isArray(e))return ja(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pa(Object(n),!0).forEach((function(t){Da(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Da(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Oa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Oa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oa(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ka(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||Fa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fa(e,t){if(e){if("string"==typeof e)return ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ja(e,t):void 0}}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ta=React,Ba=Ta.useState,La=Ta.useEffect;function Ma(e){var t=e.files,n=e.setFiles,r=e.allFiles,i=e.setAllFiles,a=e.activeAccount,o=e.initFolders,l=ka(Ba(null),2),c=l[0],s=l[1],d=ka(Ba(null),2),u=d[0],g=d[1],m=ka(Ba(null),2),p=m[0],f=m[1],v=ka(Ba([]),2),h=v[0],y=v[1],w=ka(Ba(!1),2),b=w[0],_=w[1],E=t.map((function(e){return e.id})),R=t.map((function(e){return e.parents[0]}));function N(e){return s(e.id),wp.ajax.post("igd_get_files",{data:{folder:e},nonce:igd.nonce,user_key:igd.userKey}).done((function(t){var n=t.files;n=n.filter((function(e){return Rt(e)})),g((function(t){return Ia(Ia({},t),{},Da({},e.id,n))}))})).fail((function(e){console.log(e)})).always((function(){s(null)}))}La((function(){var e={id:"root",accountId:a.id};N(e).then((function(t){y([e])}))}),[]);var S=!!p&&(E.includes(p.id)||R.includes(p.id));p&&["computers","shared","starred","shared-drives"].includes(p.id)&&(S=!0),p&&"root"===p.id&&R.includes("root")&&(S=!0);var C=Nt(!1,a);return o&&(C=o.filter((function(e){return Rt(e)}))),React.createElement("div",{className:"move-folders-wrap"},React.createElement("div",{className:"move-folders"},C.map((function(e){var t=e.id,n=e.name,r=e.iconLink,i=h.find((function(e){return e.id===t})),a=!!p&&p.id===t;return React.createElement(React.Fragment,null,React.createElement("div",{key:t,className:"move-folder ".concat(a?"active":""),onClick:function(){f(a?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(i?"down":"right"),onClick:function(n){n.stopPropagation(),y((function(n){return i?n.filter((function(e){return e.id!==t})):[].concat(Aa(n),[e])})),i||u&&u[t]||N(e)}}),React.createElement("img",{src:r,alt:n}),React.createElement("div",{className:"file-item-checkbox ".concat(a?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,n),c===t&&React.createElement("div",{className:"igd-spinner"})),i&&React.createElement(Ua,{folders:u[t]?u[t]:[],childFolders:u,selectedFolder:p,setSelectedFolder:f,getFolders:N,openFolders:h,setOpenFolders:y,loading:c}))}))),React.createElement("button",{disabled:S,type:"button",className:"igd-btn ".concat(S?"disabled":"btn-primary"),onClick:function(){_(!0),wp.ajax.post("igd_move_file",{file_ids:E,folder_id:p.id,account_id:p.accountId,nonce:igd.nonce}).done((function(e){if(n((function(e){return e.filter((function(e){return!E.includes(e.id)}))})),r[p.id]){var a=[].concat(Aa(r[p.id]),Aa(t));i((function(e){return Ia(Ia({},e),{},Da({},p.id,a))}))}Swal.fire({title:wp.i18n.__("Success","integrate-google-drive"),text:wp.i18n._n("File moved successfully","Files moved successfully",E.length,"integrate-google-drive"),icon:"success",toast:!0,showConfirmButton:!1,timer:2e3,timerProgressBar:!0})})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Error moving file(s)","integrate-google-drive"),icon:"error",toast:!0,showConfirmButton:!1,timer:3e3,timerProgressBar:!0})})).always((function(){_(!1)}))}},b&&React.createElement("div",{className:"igd-spinner"}),b?wp.i18n.__("Moving...","integrate-google-drive"):wp.i18n.__("Move","integrate-google-drive")))}function Ua(e){var t=e.folders,n=e.childFolders,r=e.selectedFolder,i=e.setSelectedFolder,a=e.getFolders,o=e.openFolders,l=e.setOpenFolders,c=e.loading;return t.length?t.map((function(e){var t=o.find((function(t){return t.id===e.id})),s=!!r&&r.id===e.id;return React.createElement("div",{key:e.id,className:"move-folder-wrap"},React.createElement("div",{className:"move-folder ".concat(s?"active":""),onClick:function(){i(s?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(t?"down":"right"),onClick:function(r){r.stopPropagation(),l(t?function(t){return t.filter((function(t){return t.id!==e.id}))}:function(t){return[].concat(Aa(t),[e])}),t||n&&n[e.id]||a(e)}}," "),React.createElement("img",{src:e.iconLink,alt:e.name}),React.createElement("div",{className:"file-item-checkbox ".concat(s?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,e.name),c===e.id&&React.createElement("div",{className:"igd-spinner"})),t&&n[e.id]&&React.createElement(Ua,{folders:n[e.id],childFolders:n,getFolders:a,setSelectedFolder:i,selectedFolder:r,openFolders:o,setOpenFolders:l,loading:c}))})):!c&&React.createElement("div",{className:"move-folder-wrap empty"},React.createElement("i",{className:"dashicons dashicons-warning"}),React.createElement("span",null,wp.i18n.__("No folders found!","integrate-google-drive")))}function za(e){return za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(e)}function Ga(e){return function(e){if(Array.isArray(e))return Qa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ka(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ha(Object(n),!0).forEach((function(t){Va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Va(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=za(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=za(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==za(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||Ka(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ka(e,t){if(e){if("string"==typeof e)return Qa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qa(e,t):void 0}}function Qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ja=React,Ya=Ja.useState,$a=Ja.useEffect;Ja.useContext;function Xa(e){var t=e.context,n=t.shortcodeId,r=t.activeAccount,i=t.setAllFiles,a=t.allFiles,o=t.initFolders,l=t.activeFiles,c=t.activeFile,s=t.isOptions,d=t.nonce,u=s?l:[c],g=qa(Ya(null),2),m=g[0],p=g[1],f=qa(Ya(null),2),v=f[0],h=f[1],y=qa(Ya(null),2),w=y[0],b=y[1],_=qa(Ya([]),2),E=_[0],R=_[1],N=qa(Ya(!1),2),S=N[0],C=N[1];function x(e){return p(e.id),wp.ajax.post("igd_get_files",{shortcodeId:n,data:{folder:e},nonce:d||igd.nonce}).done((function(t){var n=t.files;n=n.filter((function(e){return Rt(e)})),h((function(t){return Wa(Wa({},t),{},Va({},e.id,n))}))})).fail((function(e){console.log(e)})).always((function(){p(null)}))}$a((function(){var e={id:"root",accountId:r.id};x(e).then((function(t){R([e])}))}),[]);var O=!1;w&&["computers","shared","starred","shared-drives"].includes(w.id)&&(O=!0);var A=Nt(!1,r);return o&&(A=o.filter((function(e){return Rt(e)}))),React.createElement("div",{className:"move-folders-wrap"},React.createElement("div",{className:"move-folders"},A.map((function(e){var t=e.id,n=e.name,r=e.iconLink,i=E.find((function(e){return e.id===t})),a=!!w&&w.id===t;return React.createElement(React.Fragment,null,React.createElement("div",{key:t,className:"move-folder ".concat(a?"active":""),onClick:function(){b(a?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(i?"down":"right"),onClick:function(n){n.stopPropagation(),R((function(n){return i?n.filter((function(e){return e.id!==t})):[].concat(Ga(n),[e])})),i||v&&v[t]||x(e)}}),React.createElement("img",{src:r,alt:n}),React.createElement("div",{className:"file-item-checkbox ".concat(a?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,n),m===t&&React.createElement("div",{className:"igd-spinner"})),i&&React.createElement(Za,{folders:v[t]?v[t]:[],childFolders:v,selectedFolder:w,setSelectedFolder:b,getFolders:x,openFolders:E,setOpenFolders:R,loading:m}))}))),React.createElement("button",{disabled:O,type:"button",className:"igd-btn ".concat(O?"disabled":"btn-primary"),onClick:function(){C(!0),wp.ajax.post("igd_copy_file",{shortcodeId:n,files:u,folder_id:w.id,nonce:d||igd.nonce}).done((function(e){if(Swal.fire({title:wp.i18n.__("Success","integrate-google-drive"),text:wp.i18n._n("File moved successfully","Files moved successfully",e.length,"integrate-google-drive"),icon:"success",toast:!0,showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),a[w.id]){var t=[].concat(Ga(a[w.id]),Ga(e));i((function(e){return Wa(Wa({},e),{},Va({},w.id,t))}))}})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Error copying file(s)","integrate-google-drive"),icon:"error",toast:!0,showConfirmButton:!1,timer:3e3,timerProgressBar:!0})})).always((function(){C(!1)}))}},S&&React.createElement("div",{className:"igd-spinner"}),S?wp.i18n.sprintf(wp.i18n.__("Copying %s files","integrate-google-drive"),u.length):wp.i18n.__("Copy","integrate-google-drive")))}function Za(e){var t=e.folders,n=e.childFolders,r=e.selectedFolder,i=e.setSelectedFolder,a=e.getFolders,o=e.openFolders,l=e.setOpenFolders,c=e.loading;return t.length?t.map((function(e){var t=o.find((function(t){return t.id===e.id})),s=!!r&&r.id===e.id;return React.createElement("div",{key:e.id,className:"move-folder-wrap"},React.createElement("div",{className:"move-folder ".concat(s?"active":""),onClick:function(){i(s?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(t?"down":"right"),onClick:function(r){r.stopPropagation(),l(t?function(t){return t.filter((function(t){return t.id!==e.id}))}:function(t){return[].concat(Ga(t),[e])}),t||n&&n[e.id]||a(e)}}," "),React.createElement("img",{src:e.iconLink,alt:e.name}),React.createElement("div",{className:"file-item-checkbox ".concat(s?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,e.name),c===e.id&&React.createElement("div",{className:"igd-spinner"})),t&&n[e.id]&&React.createElement(Za,{folders:n[e.id],childFolders:n,getFolders:a,setSelectedFolder:i,selectedFolder:r,openFolders:o,setOpenFolders:l,loading:c}))})):!c&&React.createElement("div",{className:"move-folder-wrap empty"},React.createElement("i",{className:"dashicons dashicons-warning"}),React.createElement("span",null,wp.i18n.__("No folders found!","integrate-google-drive")))}function eo(e){return eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eo(e)}function to(e){return function(e){if(Array.isArray(e))return no(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return no(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return no(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function no(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(n),!0).forEach((function(t){ao(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ao(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=eo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oo=React.useContext;function lo(){var e=oo(x),t=e.shortcodeId,n=e.activeAccount,r=e.getFiles,i=e.activeFiles,a=e.setActiveFiles,o=e.activeFile,l=e.activeFolder,c=e.permissions,s=e.notifications,d=e.shortcodeBuilderType,u=e.isOptions,g=e.setIsOptions,m=e.isList,p=e.setIsList,f=e.setShowDetails,h=e.setIsUpload,y=e.isShortcodeBuilder,w=e.contextMenuId,b=e.selectAll,_=e.setSelectAll,E=e.files,C=e.setFiles,O=e.setAllFiles,A=e.allFiles,P=e.initFolders,I=(e.initParentFolder,e.setActiveAccount),D=e.nonce,k="search"===d,F="gallery"===d,j="uploader"===d,T=o&&l&&o.id===l.id,B=(null==o?void 0:o.permissions)||{},L=!!B.canEdit,M=!!B.canPreview,U=!!B.canRename;c&&(c.refresh=!0,c.selectAll=c.download&&c.zipDownload);var z=[{key:"doc",title:wp.i18n.__("Google Doc","integrate-google-drive"),icon:"dashicons-media-document"},{key:"sheet",title:wp.i18n.__("Google Sheet","integrate-google-drive"),icon:"dashicons-media-spreadsheet"},{key:"slide",title:wp.i18n.__("Google Slide","integrate-google-drive"),icon:"dashicons-media-interactive"}],G=0;u&&(G=i.filter((function(e){return!c||!Rt(e)||c.folderDownload})).length);var H=[{key:"refresh",title:wp.i18n.__("Refresh","integrate-google-drive"),icon:"dashicons-update-alt"},{key:"newFolder",title:wp.i18n.__("New Folder","integrate-google-drive"),icon:"dashicons-open-folder"},{key:"createDoc",title:wp.i18n.__("Create Document","integrate-google-drive"),icon:"dashicons-welcome-add-page"},{key:"upload",title:wp.i18n.__("Upload Files","integrate-google-drive"),icon:"dashicons-cloud-upload"},{key:"preview",title:c&&!1===c.inlinePreview?wp.i18n.__("Preview in a new window","integrate-google-drive"):wp.i18n.__("Preview","integrate-google-drive"),icon:"dashicons-visibility"},{key:"drive",title:wp.i18n.__("Open in Google Drive","integrate-google-drive"),icon:"dashicons-migrate"},{key:"details",title:wp.i18n.__("View Details","integrate-google-drive"),icon:"dashicons-info-outline"},{key:"directLink",title:wp.i18n.__("Direct Link","integrate-google-drive"),icon:"dashicons-admin-links"},{key:"share",title:wp.i18n.__("Share","integrate-google-drive"),icon:"dashicons-share"},{key:"selectAll",title:b?wp.i18n.__("Deselect All","integrate-google-drive"):wp.i18n.__("Select All","integrate-google-drive"),icon:"dashicons-screenoptions"},{key:"edit",title:wp.i18n.__("Edit (New Window)","integrate-google-drive"),icon:"dashicons-edit-page"},{key:"download",title:wp.i18n.__("Download","integrate-google-drive")+"".concat(G>1?" (".concat(G,")"):""),icon:"dashicons-download"},{key:"import",title:wp.i18n.__("Import to Media Library","integrate-google-drive")+"".concat(u&&i.length>1?" (".concat(i.length,")"):""),icon:"dashicons-migrate"},{key:"move",title:wp.i18n.__("Move","integrate-google-drive")+"".concat(u&&i.length>1?" (".concat(i.length,")"):""),icon:"dashicons-editor-break"},{key:"rename",title:wp.i18n.__("Rename","integrate-google-drive"),icon:"dashicons-edit"},{key:"copy",title:wp.i18n.__("Copy","integrate-google-drive")+"".concat(u&&i.length>1?" (".concat(i.length,")"):""),icon:"dashicons-admin-page"},{key:"delete",title:wp.i18n.__("Delete","integrate-google-drive")+"".concat(u&&i.length>1?" (".concat(i.length,")"):""),icon:"dashicons-trash"},{key:"view",title:m?wp.i18n.__("Grid View","integrate-google-drive"):wp.i18n.__("List View","integrate-google-drive"),icon:m?"dashicons-grid-view":"dashicons-list-view"}].filter((function(e){var t=e.key;if((!y||["view","selectAll"].includes(t))&&(!k||["preview","download","view"].includes(t))&&("drive"!==t||!u&&!P)&&(!c||c[t])&&("view"!==t||(!F||y)&&u)&&("edit"!==t||L)&&(!["share","directLink","details"].includes(t)||o)&&("selectAll"!==t||E.length&&u&&!j)&&("preview"!==t||!(!o&&(1!==i.length||Rt(i[0]))||o&&(!M||Rt(o))||u&&(1!==i.length||Rt(i[0]))))&&("copy"!==t||!(u&&!i.length||!u&&o&&Rt(o)||u&&i.length&&i.some((function(e){return Rt(e)}))))&&("move"!==t||!u||i.length)&&("import"!==t||!(u&&(!i.length||i.some((function(e){return Rt(e)})))||o&&Rt(o)))&&("rename"!==t||!u||!(i.length>1)&&U)&&("delete"!==t||!(u&&!i.length||o&&!B.canDelete))&&("download"!==t||!(!o&&!i.length||o&&(!o.permissions||!Rt(o)&&!o.permissions.canDownload||Rt(o)&&c&&(null==c||!c.folderDownload))||u&&!G))&&(T||l&&u&&!o&&!i.length||!["refresh","newFolder","upload","createDoc"].includes(t))&&(!(u&&l&&["computers","shared-drives"].includes(l.id))||["view"].includes(t))&&!(u&&l&&"shared"===l.id&&["newFolder","upload","createDoc","move","delete"].includes(t))&&(!T||i.length||u||["refresh","newFolder","upload","createDoc"].includes(t)))return!0}));return H.length||!c||c.view||g(null),React.createElement(R,{id:w,className:"igd-context-menu",animation:v.fade,onHidden:function(){return g(!1)}},H.map((function(d){var v=d.key,y=d.title,w=d.icon;return React.createElement(N,{key:v,onClick:function(d){d.data;var y=d.event;d.triggerEvent;if(g(!1),"newFolder"===v)return a([]),void Swal.fire({title:wp.i18n.__("New Folder","integrate-google-drive"),text:wp.i18n.__("Enter new folder name","integrate-google-drive"),input:"text",inputValue:"",inputAttributes:{autocapitalize:"off"},showCancelButton:!1,confirmButtonText:wp.i18n.__("Create","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,customClass:{container:"igd-swal"},preConfirm:function(e){return e?wp.ajax.post("igd_new_folder",{shortcodeId:t,name:e,parent_id:l.id,account_id:l.accountId,nonce:D||igd.nonce}).done((function(e){var t=[].concat(to(E),[e]);C(t),O((function(e){return io(io({},e),{},ao({},l.id,t))})),Swal.close(),Swal.fire({title:"Created!",text:"Folder has been created.",icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})})).fail((function(e){Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:"OK",customClass:{container:"igd-swal"}})})):Swal.showValidationMessage(wp.i18n.__("Please enter a name","integrate-google-drive"))}});if("refresh"!==v)if("upload"!==v)if("edit"!==v)if("share"!==v)if("directLink"!==v)if("preview"!==v)if("drive"!==v){if("download"===v){if(o&&o.exportAs&&Object.keys(o.exportAs).length)return;return T||!o||Rt(o)?1!==i.length||Rt(i[0])?en(u,i,o,c,t,D):window.location.href="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(i[0].id,"&accountId=").concat(i[0].accountId,"&shortcodeId=").concat(t,"&nonce=").concat(D||igd.nonce):window.location.href="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(o.id,"&accountId=").concat(o.accountId,"&shortcodeId=").concat(t,"&nonce=").concat(D||igd.nonce),void(s&&s.downloadNotification&&wp.ajax.post("igd_notification",{files:T||!o||Rt(o)?1!==i.length||Rt(i[0])?u?i:[o]:[i[0]]:[o],notifications:s,type:"download",nonce:D||igd.nonce}))}if("rename"!==v)if("move"!==v)if("copy"!==v){if("import"===v)return igd.isPro?void function(){var e=u?i.filter((function(e){return!Rt(e)})):[o].filter((function(e){return!Rt(e)}));Swal.fire({title:wp.i18n.sprintf(wp.i18n._n("Importing %d file","Importing %d files",e.length,"integrate-google-drive"),e.length),text:wp.i18n.__("Please wait...","integrate-google-drive"),icon:"info",showConfirmButton:!1,allowEscapeKey:!1,allowEnterKey:!1,allowOutsideClick:!1,customClass:{container:"igd-swal"},didOpen:function(){Swal.showLoading(),wp.ajax.send("igd_import_media",{data:{files:e,nonce:D||igd.nonce},success:function(e){console.log(e)},error:function(e){console.log(e)},complete:function(){Swal.fire({title:wp.i18n.__("Imported!","integrate-google-drive"),text:wp.i18n.__("File(s) have been imported.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"}})}})}})}():void On(wp.i18n.__("Upgrade to PRO to import cloud files to the Media Library.","integrate-google-drive"));if("delete"!==v)return"view"===v?(p(!m),void Vt(t,m?"grid":"list")):"details"===v?(f(!0),void localStorage.setItem("igd_show_details",1)):void("selectAll"!==v||_((function(e){return!e})));Xt({files:E,activeFiles:i,setFiles:C,setAllFiles:O,activeFolder:l,setActiveFiles:a,setActiveAccount:I,isOptions:u,activeFile:o,notifications:s,shortcodeId:t,nonce:D})}else Swal.fire({title:wp.i18n.__("Copy","integrate-google-drive"),text:wp.i18n.__("Select destination","integrate-google-drive"),html:'<div id="igd-copy"></div>',showCancelButton:!1,showConfirmButton:!1,showCloseButton:!0,customClass:{container:"igd-swal igd-copy-swal"},didOpen:function(t){ReactDOM.render(React.createElement(Xa,{context:e}),document.getElementById("igd-copy"))},willClose:function(){ReactDOM.unmountComponentAtNode(document.getElementById("igd-copy"))}});else Swal.fire({title:wp.i18n.__("Move","integrate-google-drive"),text:wp.i18n.__("Select destination","integrate-google-drive"),html:'<div id="igd-move"></div>',showCancelButton:!1,showConfirmButton:!1,showCloseButton:!0,customClass:{container:"igd-swal igd-move-swal"},didOpen:function(e){var t=document.getElementById("igd-move");ReactDOM.render(React.createElement(Ma,{files:u?i:[o],setFiles:C,allFiles:A,setAllFiles:O,activeAccount:n,initFolders:P}),t)},willClose:function(){var e=document.getElementById("igd-move");ReactDOM.unmountComponentAtNode(e)}});else Swal.fire({title:wp.i18n.__("Rename","integrate-google-drive"),text:wp.i18n.__("Enter new name","integrate-google-drive"),input:"text",inputValue:o.name,inputAttributes:{autocapitalize:"off"},showCancelButton:!1,confirmButtonText:wp.i18n.__("Rename","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,customClass:{container:"igd-swal"},preConfirm:function(e){return e?wp.ajax.post("igd_rename_file",{shortcodeId:t,name:e,id:o.id,accountId:o.accountId,nonce:D||igd.nonce}).done((function(){var t=E.map((function(t){return t.id===o.id?io(io({},t),{},{name:e}):t}));C(t),O((function(e){return io(io({},e),{},ao({},l.id,t))})),Swal.close(),Swal.fire({title:wp.i18n.__("Renamed!","integrate-google-drive"),text:wp.i18n.__("File has been renamed.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"}})})).fail((function(e){Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})})):Swal.showValidationMessage(wp.i18n.__("Please enter a name","integrate-google-drive"))}})}else{var w=o||i[0];window.open(w.webViewLink,"_blank").focus()}else{var b=o||i[0];Mt(y,b.id,[b],c,s,!1,t,D)}else tn(o,!0);else tn(o);else window.open(o.webViewLink,"_blank").focus();else h(!0);else r(l,"refresh")},data:{action:v},className:"context-menu-item ".concat(v," ").concat(["import"].includes(v)&&!igd.isPro?"disabled":"")},"createDoc"===v?React.createElement(S,{className:"context-submenu",label:React.createElement("div",{className:"context-submenu-label"},React.createElement("i",{className:"dashicons ".concat(w)}),React.createElement("span",null,y)),arrow:React.createElement("i",{className:"dashicons dashicons-arrow-right"})},z.map((function(e){var n=e.key,r=e.title,i=e.icon;return React.createElement(N,{key:n,onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"doc",n=wp.i18n.__("New Document","integrate-google-drive"),r=wp.i18n.__("Enter document name","integrate-google-drive");"sheet"===e?(n=wp.i18n.__("New Spreadsheet","integrate-google-drive"),r=wp.i18n.__("Enter spreadsheet name","integrate-google-drive")):"slide"===e&&(n=wp.i18n.__("New Presentation","integrate-google-drive"),r=wp.i18n.__("Enter presentation name","integrate-google-drive")),Swal.fire({title:n,text:r,input:"text",inputValue:"",inputAttributes:{autocapitalize:"off"},showCancelButton:!1,confirmButtonText:wp.i18n.__("Create","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,customClass:{container:"igd-swal"},preConfirm:function(n){return n?wp.ajax.post("igd_create_doc",{shortcodeId:t,name:n,type:e,folder_id:l.id,account_id:l.accountId,nonce:D||igd.nonce}).done((function(t){var n=[].concat(to(E),[t]);C(n),O((function(e){return io(io({},e),{},ao({},l.id,n))})),Swal.close();var r=wp.i18n.__("Document created","integrate-google-drive"),i=wp.i18n.__("Document created successfully","integrate-google-drive");"sheet"===e?(r=wp.i18n.__("Spreadsheet created","integrate-google-drive"),i=wp.i18n.__("Spreadsheet created successfully","integrate-google-drive")):"slide"===e&&(r=wp.i18n.__("Presentation created","integrate-google-drive"),i=wp.i18n.__("Presentation created successfully","integrate-google-drive")),Swal.fire({title:r,text:i,icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})})):Swal.showValidationMessage(wp.i18n.__("Please enter a name","integrate-google-drive"))}})}(n)},className:"context-menu-item ".concat(n)},React.createElement("i",{className:"dashicons ".concat(i)}),React.createElement("span",null,r))}))):"download"===v&&o&&o.exportAs&&Object.keys(o.exportAs).length?React.createElement(S,{className:"context-submenu",label:React.createElement("div",{className:"context-submenu-label"},React.createElement("i",{className:"dashicons ".concat(w)}),React.createElement("span",null,wp.i18n.__("Download as","integrate-google-drive"))),arrow:React.createElement("i",{className:"dashicons dashicons-arrow-right"})},Object.keys(o.exportAs).map((function(e){return React.createElement(N,{key:e,className:"context-menu-item ".concat(e),onClick:function(){return function(e){var n=o.exportAs[e].mimetype;window.location.href="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(o.id,"&accountId=").concat(o.accountId,"&mimetype=").concat(n,"&shortcodeId=").concat(t,"&nonce=").concat(D||igd.nonce)}(e)}},React.createElement("i",{className:"dashicons dashicons-media-text"}),React.createElement("span",null,e))}))):React.createElement(React.Fragment,null,React.createElement("i",{className:"dashicons ".concat(w)}),React.createElement("span",null,y),["import"].includes(v)&&!igd.isPro&&React.createElement("div",{className:"pro-badge"},React.createElement("i",{className:"dashicons dashicons-lock"}),React.createElement("span",null,wp.i18n.__("PRO","integrate-google-drive")))))})))}function co(){return React.createElement("div",{className:"no-account-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/no-account-placeholder.svg"),alt:"No Accounts"}),React.createElement("span",{className:"placeholder-heading"},wp.i18n.__("You didn't link any account yet.","integrate-google-drive")),React.createElement("span",{className:"placeholder-description"},wp.i18n.__("Please link to a Google Drive account to continue.","integrate-google-drive")),React.createElement("button",{className:"igd-btn add-account-btn",onClick:function(){igd.authUrl?Wt():window.location=igd.adminUrl+"/admin.php?page=integrate-google-drive-settings&tab=accounts"}},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/google-icon.png")}),React.createElement("span",null,wp.i18n.__("Sign in with Google","integrate-google-drive"))))}function so(e){return so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},so(e)}function uo(e){return function(e){if(Array.isArray(e))return ho(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?go(Object(n),!0).forEach((function(t){po(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function po(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=so(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=so(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==so(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||vo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vo(e,t){if(e){if("string"==typeof e)return ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ho(e,t):void 0}}function ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yo=React,wo=yo.useState,bo=yo.useEffect,_o=yo.useMemo,Eo=yo.useRef,Ro=igd,No=Ro.settings,So=Ro.isAdmin,Co=Ro.isPro,xo=No.rememberLastFolder,Oo=void 0===xo||xo,Ao=No.adminLazyLoad,Po=void 0===Ao||Ao,Io=No.adminLazyLoadType,Do=void 0===Io?"pagination":Io,ko=No.adminLazyLoadNumber,Fo=void 0===ko?100:ko;function jo(e){var t=e.shortcodeId,n=e.nonce,r=e.initParentFolder,i=e.isShortcodeBuilder,a=e.selectedFolders,o=void 0===a?[]:a,l=e.setSelectedFolders,c=e.allFolders,s=e.privateFolders,d=e.initFolders,u=e.filters,g=e.shortcodeBuilderType,m=e.isList,f=e.showLastModified,v=void 0===f?!g:f,h=e.showFileSizeField,y=void 0===h||h,w=e.fileNumbers,b=e.sort,_=e.permissions,E=e.notifications,R=e.showHeader,N=void 0===R?i||!g:R,S=e.showRefresh,C=void 0===S||S,x=e.showSorting,A=void 0===x||x,P=e.showBreadcrumbs,I=void 0===P||P,D=e.searchBoxText,k=e.galleryLayout,F=e.galleryAspectRatio,j=e.galleryColumns,T=e.galleryHeight,B=e.galleryMargin,L=e.galleryView,M=e.galleryFolderView,U=e.thumbnailCaption,z=e.galleryOverlay,G=e.overlayDisplayType,H=e.galleryOverlayTitle,W=e.galleryOverlayDescription,V=e.galleryOverlaySize,q=e.galleryImageSize,K=e.galleryCustomSizeWidth,Q=e.galleryCustomSizeHeight,J=e.isSelectFiles,Y=e.selectionType,$=e.initialSearchTerm,X=e.isLMS,Z=e.isWooCommerce,ee=e.lazyLoad,te=void 0===ee?Po:ee,ne=e.lazyLoadNumber,re=void 0===ne?Fo:ne,ie=e.lazyLoadType,ae=void 0===ie?Do:ie,oe=e.account,le=void 0===oe?JSON.parse(Gt(igd.activeAccount)):oe,ce=JSON.parse(Gt(igd.accounts)),se=fo(wo(le),2),de=se[0],ue=se[1];d||(igd.userAccessData?(r=igd.userAccessData.initParentFolder,d=igd.userAccessData.initFolders):(c&&(d=Nt(null,de)),Co&&de.is_specific_folders&&(d=de.specific_folders)));var ge="search"===g&&!i,me="gallery"===g,pe="media"===g,fe="uploader"===g,ve=null;!ge&&Oo&&(ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"admin",t=arguments.length>1?arguments[1]:void 0,n=null,r=document.body.classList.contains("elementor-editor-active"),i=document.body.classList.contains("et-fb"),a=document.body.classList.contains("block-editor-page");if(r||i||a)return n;var o=sessionStorage.getItem("igd_last_folder_".concat(e));return o&&(n=JSON.parse(o)).id===(null==t?void 0:t.id)&&(n=null),n}(t,r));var he,ye=fo(wo(!ge&&d?d:[]),2),we=ye[0],be=ye[1],_e=[];!ge&&d&&(_e=po({},(null===(he=r)||void 0===he?void 0:he.id)||"",d));var Ee=fo(wo(_e),2),Re=Ee[0],Ne=Ee[1],Se=fo(wo([]),2),Ce=Se[0],xe=Se[1],Oe=fo(wo(null),2),Ae=Oe[0],Pe=Oe[1],Ie=fo(wo(!d&&!r&&!ge),2),De=Ie[0],ke=Ie[1],Fe=fo(wo({}),2),je=Fe[0],Te=Fe[1],Be=fo(wo(!1),2),Le=Be[0],Me=Be[1],Ue=fo(wo(!1),2),ze=Ue[0],Ge=Ue[1],He=fo(wo(window.innerWidth<=768),2),We=He[0],Ve=He[1],qe=fo(wo(!We&&!d),2),Ke=qe[0],Qe=qe[1],Je=fo(wo(!1),2),Ye=Je[0],$e=Je[1],Xe=fo(wo(!1),2),Ze=Xe[0],et=Xe[1],tt=fo(wo(!1),2),nt=tt[0],rt=tt[1],it=Eo($),at=fo(wo($),2),ot=at[0],lt=at[1],ct=!We&&"1"==localStorage.getItem("igd_show_details")&&!d,st=fo(wo(ct),2),dt=st[0],ut=st[1],gt=null;d?r&&(gt=r):gt=Nt("root",de),ve&&(gt=ve);var mt,pt=fo(wo(gt),2),ft=pt[0],vt=pt[1],yt=localStorage.getItem("igd_sort")?JSON.parse(localStorage.getItem("igd_sort")):{sortBy:"name",sortDirection:"asc"},wt=fo(wo(null!=b?b:yt),2),bt=wt[0],_t=wt[1],Et=(mt=t||"admin",localStorage.getItem("igd_listing_view_".concat(mt)));Et&&(m="list"===Et);var St=fo(wo(m),2),Ot=St[0],It=St[1],Dt=Lt();function kt(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(Pe(null),Ze||xe([]),Me(!1),ke(a||!0),d){if(!e)return ke(!1),vt(null),void be("sort"===a?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};0===Object.keys(t).length&&(t={sortBy:"name",sortDirection:"asc"});var n=t.sortBy,r="asc"===t.sortDirection?1:-1,i="random"===n,a=[],o=[];return e=e.map((function(e){var t=ht({},e);return t[n]?o.push(["created","updated"].includes(n)?new Date(t[n]).getTime():t[n]):(o.push(0),t[n]=""),t.isFolder=Rt(t),a.push(t.isFolder?1:0),t})),i?e.sort((function(){return Math.random()-.5})):e.sort((function(t,n){var i=a[e.indexOf(t)]-a[e.indexOf(n)];if(0!==i)return-i;var l=o[e.indexOf(t)],c=o[e.indexOf(n)];return l<c?-r:l>c?r:0})),e}(we,bt):d);s?e.isPrivate=!0:ge&&!d.find((function(t){return t.id===e.id}))&&(e.folders=d)}else e||ve&&ve.accountId===de.id&&(e=ve),e||(e=Nt("root",de));"lazy"!==a&&(e.pageNumber=1),(u||i)&&(i&&!u&&(u={}),me?u.isGallery=!0:pe?u.isMedia=!0:X?u.onlyVideo=!0:(fe||"folders"===Y)&&(u.onlyFolders=!0)),wp.ajax.post("igd_get_files",{shortcodeId:t,data:{folder:e,sort:bt,refresh:"refresh"===a,from_server:i||!!d&&!!r&&r.id===e.id,fileNumbers:w,limit:te?re:0,filters:u},nonce:n||igd.nonce}).done((function(n){var r=n.files,i=void 0===r?[]:r,o=n.breadcrumbs,l=n.error,c=n.nextPageNumber,s=void 0===c?0:c,d=n.count;if(l)"refresh"!==a&&(document.querySelector(".igd-swal")?Swal.showValidationMessage(l):Swal.fire({html:l,icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}}));else{i.length&&Oo&&qt(e,t),!i.length&&Oo&&Kt(t),"lazy"===a&&"pagination"!==ae&&ft&&ft.id===e.id&&(i=[].concat(uo(we),uo(i))),(fe||"folders"===Y)&&(i=i.filter((function(e){return Rt(e)}))),pe&&(i=i.filter((function(e){return Ct(e)||Rt(e)}))),X&&(i=i.filter((function(e){return xt(e)||Rt(e)}))),me&&(i=i.filter((function(e){return At(e)||xt(e)||Rt(e)}))),be(i);var u=te&&"pagination"!==ae,g=d>0&&d>i.length;if(u||g){var m=mo(mo(mo({},e),u&&{pageNumber:s}),g&&{count:d});e=m}Ne((function(t){return mo(mo({},t),{},po({},e.id,[].concat(uo(i),[e])))})),vt(e),o&&Te(mo({},o))}})).fail((function(t){console.log(t),vt(mo(mo({},e),{},{pageNumber:0})),console.log(document.querySelector(".igd-swal")),document.querySelector(".igd-swal")?Swal.showValidationMessage(t):Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:"string"==typeof t?t:wp.i18n.__("Something went wrong! Please try again later.","integrate-google-drive"),icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}})})).always((function(){return ke(!1)}))}function Ft(e){var n=e.id;if(Pe(null),Ze||xe([]),Me(!1),Re[n]){var r=Re[n];e=r.find((function(t){return t.id===e.id}))||e,vt(e),be(r.filter((function(e){return e.id!==n}))),Oo&&qt(ft,t),Te(mo({},function e(t){if(Pt(t,de)){var n=Nt(t,de);return po({},t,n.name)}var i=Object.keys(je),a=r.find((function(e){return e.id===t}));if(a){var o=po({},t,a.name),l=a.parents||[];return!l.length||d&&d.find((function(e){return e.id===t}))?o:mo(mo({},e(l[0])),o)}if(i.includes(t)){var c=i.indexOf(t);return Object.fromEntries(i.slice(0,c+1).map((function(e){return[e,je[e]]})))}return{}}(n)))}else kt(e)}function jt(e){Me(!0),it.current=e;var r=ft?[ft]:d;ke(!0),Pe(null),Ze||xe([]),Ge(!1),wp.ajax.post("igd_search_files",{shortcodeId:t,folders:r,sort:bt,fileNumbers:w,keyword:e,accountId:de.id,isPrivate:s,fullTextSearch:null==_?void 0:_.fullTextSearch,filters:u,nonce:n||igd.nonce}).done((function(t){var n=t.files,r=t.error;if(r)Swal.fire({html:r,icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}});else{if(d){var i=d.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));n=[].concat(uo(i),uo(n))}pe&&(n=n.filter((function(e){return Ct(e)||Rt(e)}))),X&&(n=n.filter((function(e){return xt(e)||Rt(e)}))),me&&(n=n.filter((function(e){return At(e)||xt(e)||Rt(e)})));var a=new Set;n=n.filter((function(e){return!a.has(e.id)&&(a.add(e.id),!0)})),be(n)}})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:"string"==typeof e?e:wp.i18n.__("Something went wrong! Please try again later.","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",customClass:{container:"igd-swal"}})})).always((function(){ke(!1)})),E&&E.searchNotification&&wp.ajax.post("igd_notification",{files:r,keyword:e,notifications:E,type:"search",nonce:n||igd.nonce})}bo((function(){Object.keys(ce).length&&(_&&_.allowSearch&&$?jt($):ge&&!i||(d||r?Oo&&ve&&kt(ve,"last"):kt()))}),[]),bo((function(){Dt&&(d?(Qe(!1),Ne(d),be(d),vt(null)):(ke("switch"),Ne({}),d||i||Qe(!0)),igd.activeAccount=zt(JSON.stringify(de)),wp.ajax.post("igd_switch_account",{shortcodeId:t,id:de.id,nonce:n||igd.nonce}).done((function(){d||kt({id:"root",accountId:de.id,name:wp.i18n.__("My Drive","integrate-google-drive")},"switch")})).fail((function(e){console.log(e)})))}),[de.id]),bo((function(){Dt&&(localStorage.setItem("igd_sort",JSON.stringify(bt)),kt(ft,"sort"))}),[bt]),bo((function(){var e=function(){Ve(window.innerWidth<768)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),bo((function(){Dt&&r.id&&r.id!==(null==ft?void 0:ft.id)&&Ft(r)}),[r]),bo((function(){var e;if(d&&je){var t=Object.keys(je);if(t.length){var n=(null==ft?void 0:ft.id)||ft,i=mo({},je);if(null!==(e=r)&&void 0!==e&&e.id&&(t.includes(r.id)&&delete i[r.id],t[t.length-1]===r.id))Te({});else{var a=t.findIndex((function(e){return e===n}));if(-1!==a)for(var o=function(e){if(d.some((function(n){return n.id===t[e]})))return 1;delete i[t[e]]},l=0;l<a&&!o(l);l++);JSON.stringify(i)!==JSON.stringify(je)&&Te(i)}}}}),[je,ft,d,r]),bo((function(){if(Dt)if(i){var e;if(nt){var t=[].concat(uo(o),uo(we)),n=new Set;e=t.filter((function(e){return!n.has(e.id)&&(n.add(e.id),!0)}))}else e=o.filter((function(e){return!we.some((function(t){return t.id===e.id}))}));l(e)}else me||xe(nt?_?we.filter((function(e){return!(Rt(e)&&!_.folderDownload)})):we:[])}),[nt]),bo((function(){Dt&&!Ze&&(rt(null),xe([]))}),[Ze]),bo((function(){Dt&&(rt(!1),Ze||xe([]),Me(!1))}),[ft]);var Tt,Bt=_o((function(){return"igd-context-menu-".concat(Date.now())}),[]),Mt=(Tt={id:Bt},{show:function(e,t){p.show({id:(null==t?void 0:t.id)||(null==Tt?void 0:Tt.id),props:(null==t?void 0:t.props)||(null==Tt?void 0:Tt.props),event:e,position:null==t?void 0:t.position})},hideAll:function(){p.hideAll()}}),Ut=Mt.show,Ht=Mt.hideAll;return bo((function(){var e=function(){Ht()},t=document.querySelector(".igd-shortcode-builder-form");return t&&t.addEventListener("scroll",e),function(){t&&t.removeEventListener("scroll",e)}}),[]),Object.keys(ce).length?React.createElement(O,{value:{shortcodeId:t,setActiveAccount:ue,activeAccount:de,activeFiles:Ce,setActiveFiles:xe,activeFile:Ae,setActiveFile:Pe,activeFolder:ft,setActiveFolder:vt,permissions:_,notifications:E,shortcodeBuilderType:g,isList:Ot,setIsList:It,showDetails:dt,setShowDetails:ut,setIsUpload:Ge,getFiles:kt,isShortcodeBuilder:i,isMobile:We,allFolders:c,initFolders:d,isSearch:ge,setShowSidebar:Qe,sort:bt,setSort:_t,setFiles:be,setAllFiles:Ne,breadcrumbs:je,setBreadcrumbs:Te,isSearchResults:Le,setIsSearchResults:Me,isOptions:Ye,setIsOptions:$e,listFiles:Ft,showBreadcrumbs:I,showRefresh:C,showSorting:A,initParentFolder:r,isUpload:ze,isLoading:De,files:we,allFiles:Re,selectedFolders:o,setSelectedFolders:l,filters:u,showLastModified:v,showFileSizeField:y,searchBoxText:D,galleryLayout:k,galleryAspectRatio:F,galleryColumns:j,galleryHeight:T,galleryMargin:B,galleryView:L,galleryFolderView:M,thumbnailCaption:U,galleryOverlay:z,overlayDisplayType:G,galleryOverlayTitle:H,galleryOverlayDescription:W,galleryOverlaySize:V,galleryImageSize:q,galleryCustomSizeWidth:K,galleryCustomSizeHeight:Q,show:Ut,hideAll:Ht,contextMenuId:Bt,isSelectFiles:J,selectionType:Y,isBulkSelect:Ze,setIsBulkSelect:et,selectAll:nt,setSelectAll:rt,searchFiles:jt,initialSearchTerm:$,searchKeywordRef:it,searchKeyword:ot,setSearchKeyword:lt,isLMS:X,isWooCommerce:Z,lazyLoad:te,lazyLoadNumber:re,lazyLoadType:ae,nonce:n}},React.createElement("div",{className:"igd-file-browser"},React.createElement(lo,null),(N&&!ge||ge&&(Le||!!we.length))&&React.createElement(Fn,null),React.createElement("div",{className:"igd-file-browser-body"},Ke&&React.createElement(rr,null),React.createElement(pa,null),!i&&dt&&React.createElement(xa,null)))):d?null:React.createElement(co,null)}Oo=Oo||So;var To=React.createContext();const Bo=To;var Lo=To.Provider,Mo=React,Uo=Mo.useRef,zo=Mo.useEffect;function Go(e){var t=e.file,n=e.isPlaying,r=e.playNext,i=e.playPrev,a=e.handleDownload,o=e.nextPrevious,l=e.rewindForward,c=e.download,s=e.playableItems,d=e.playlistAutoplay,u=e.showPlaylist,g=e.isLoop,m=e.isOpenPlaylist,p=e.setIsOpenPlaylist,f=e.isShuffle,v=e.setIsLoop,h=e.setIsShuffle,y=e.shortcodeId,w=e.nonce,b=Uo(null),_=Uo(null),E=t||{},R=E.id,N=E.accountId,S=t&&Ot(t),C="".concat(igd.ajaxUrl,"?action=igd_stream&id=").concat(R,"&account_id=").concat(N,"&shortcodeId=").concat(y,"&nonce=").concat(w),x=t&&jt(t,"large"),O={controls:["play-large",!!l&&"rewind","play",!!l&&"fast-forward","current-time","progress","duration","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["speed","loop","shuffle","playlist"],speed:{selected:1,options:[.5,.75,1,1.25,1.5,2]},i18n:{shuffle:wp.i18n.__("Shuffle","integrate-google-drive"),loop:wp.i18n.__("Loop","integrate-google-drive"),playlist:wp.i18n.__("Playlist","integrate-google-drive")},keyboard:{focused:!0,global:!0},disableContextMenu:!c};zo((function(){var e=jQuery,t=b.current,n=t.querySelector("video, audio");if(_.current=new Plyr(n,O),o&&s.length>1&&!e(t).find('[data-plyr="prev"]').length){var y=e('<button type="button" class="plyr__controls__item plyr__control" aria-label="Previous" data-plyr="prev"><svg width="18" height="18" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M64 468V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v176.4l195.5-181C352.1 22.3 384 36.6 384 64v384c0 27.4-31.9 41.7-52.5 24.6L136 292.7V468c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12z"/></svg></button>').on("click",(function(){return i()})),w=e('<button type="button"  class="plyr__controls__item plyr__control" aria-label="Next" data-plyr="next" tabindex="0"><svg width="18" height="18" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M384 44v424c0 6.6-5.4 12-12 12h-48c-6.6 0-12-5.4-12-12V291.6l-195.5 181C95.9 489.7 64 475.4 64 448V64c0-27.4 31.9-41.7 52.5-24.6L312 219.3V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12z"/></svg></button>').on("click",(function(){return r()})),E=e(t).find('.plyr__controls [data-plyr="play"]'),R=e(t).find('.plyr__controls [data-plyr="play"]');l&&(E=e(t).find('.plyr__controls [data-plyr="rewind"]'),R=e(t).find('.plyr__controls [data-plyr="fast-forward"]')),y.insertBefore(E),w.insertAfter(R)}var N=e(t).find('.plyr__menu__container > div > div:first-child [role="menu"]'),S=N.parent().attr("id").match(/(\d+)/)[0];if(!e(t).find('[data-plyr-menu="loop"]').length){var C=e('<button data-plyr="settings" type="button" class="plyr__control plyr__control--forward" role="menuitem" data-plyr-menu="loop" aria-haspopup="true"><span> '.concat(wp.i18n.__("Loop","integrate-google-drive"),'  <span class="plyr__menu__value">').concat(g?wp.i18n.__("Enable","integrate-google-drive"):wp.i18n.__("Disable","integrate-google-drive"),"</span> </span></button>")).on("click",(function(){e("#plyr-settings-".concat(S,"-home")).prop("hidden",!0),e("#plyr-settings-".concat(S,"-loop")).prop("hidden",!1)}));N.append(C);var x=e('<button data-plyr="loop" type="button" role="menuitemradio" class="plyr__control" aria-checked="'.concat(g?"true":"false",'" value="enable"><span>').concat(wp.i18n.__("Enable","integrate-google-drive"),"</span></button>")).on("click",(function(){v(!0),e(".plyr__control.plyr__control--back").click(),C.find(".plyr__menu__value").text(wp.i18n.__("Enable","integrate-google-drive")),e(this).attr("aria-checked","true"),e(this).siblings().attr("aria-checked","false")})),A=e('<button data-plyr="loop" type="button" role="menuitemradio" class="plyr__control" aria-checked="'.concat(g?"false":"true",'" value="disable"><span>').concat(wp.i18n.__("Disable","integrate-google-drive"),"</span></button>")).on("click",(function(){v(!1),e(".plyr__control.plyr__control--back").click(),C.find(".plyr__menu__value").text(wp.i18n.__("Disable","integrate-google-drive")),e(this).attr("aria-checked","true"),e(this).siblings().attr("aria-checked","false")}));e("#plyr-settings-".concat(S,'-loop [role="menu"]')).append(x).append(A)}if(!e(t).find('[data-plyr-menu="shuffle"]').length){var P=e('<button data-plyr="settings" type="button" class="plyr__control plyr__control--forward" role="menuitem" data-plyr-menu="shuffle" aria-haspopup="true"><span> '.concat(wp.i18n.__("Shuffle","integrate-google-drive"),' <span class="plyr__menu__value">').concat(f?wp.i18n.__("Enable","integrate-google-drive"):wp.i18n.__("Disable","integrate-google-drive"),"</span> </span></button>")).on("click",(function(){e("#plyr-settings-".concat(S,"-home")).prop("hidden",!0),e("#plyr-settings-".concat(S,"-shuffle")).prop("hidden",!1)}));N.append(P);var I=e('<button data-plyr="loop" type="button" role="menuitemradio" class="plyr__control" aria-checked="'.concat(f?"true":"false",'" value="enable"><span>').concat(wp.i18n.__("Enable","integrate-google-drive"),"</span></button>")).on("click",(function(){h(!0),e(".plyr__control.plyr__control--back").click(),P.find(".plyr__menu__value").text(wp.i18n.__("Enable","integrate-google-drive")),e(this).attr("aria-checked","true"),e(this).siblings().attr("aria-checked","false")})),D=e('<button data-plyr="loop" type="button" role="menuitemradio" class="plyr__control" aria-checked="'.concat(f?"false":"true",'" value="disable"><span>').concat(wp.i18n.__("Disable","integrate-google-drive"),"</span></button>")).on("click",(function(){h(!1),e(".plyr__control.plyr__control--back").click(),P.find(".plyr__menu__value").text(wp.i18n.__("Disable","integrate-google-drive")),e(this).attr("aria-checked","true"),e(this).siblings().attr("aria-checked","false")}));e("#plyr-settings-".concat(S,'-shuffle [role="menu"]')).append(I).append(D)}if(u&&!e(t).find('[data-plyr-menu="playlist"]').length){var k=e('<button data-plyr="settings" type="button" class="plyr__control plyr__control--forward" role="menuitem" data-plyr-menu="playlist" aria-haspopup="true"><span> '.concat(wp.i18n.__("Playlist","integrate-google-drive"),' <span class="plyr__menu__value">').concat(m?wp.i18n.__("Show","integrate-google-drive"):wp.i18n.__("Hide","integrate-google-drive"),"</span> </span> </span></button>")).on("click",(function(){e("#plyr-settings-".concat(S,"-home")).prop("hidden",!0),e("#plyr-settings-".concat(S,"-playlist")).prop("hidden",!1)}));N.append(k);var F=e('<button data-plyr="loop" type="button" role="menuitemradio" class="plyr__control" aria-checked="'.concat(m?"true":"false",'" value="enable"><span>').concat(wp.i18n.__("Show","integrate-google-drive"),"</span></button>")).on("click",(function(){e(t).find('.plyr__controls__item > [data-plyr="settings"]').click(),p(!0),k.find(".plyr__menu__value").text(wp.i18n.__("Show","integrate-google-drive")),e(this).attr("aria-checked","true"),e(this).siblings().attr("aria-checked","false")})),j=e('<button data-plyr="loop" type="button" role="menuitemradio" class="plyr__control" aria-checked="'.concat(m?"false":"true",'" value="disable"><span>').concat(wp.i18n.__("Hide","integrate-google-drive"),"</span></button>")).on("click",(function(){e(t).find('.plyr__controls__item > [data-plyr="settings"]').click(),p(!1),k.find(".plyr__menu__value").text(wp.i18n.__("Hide","integrate-google-drive")),e(this).attr("aria-checked","true"),e(this).siblings().attr("aria-checked","false")}));e("#plyr-settings-".concat(S,'-playlist [role="menu"]')).append(F).append(j)}if(c&&!e(t).find('[data-plyr-menu="download"]').length){var T=e('<button data-plyr="settings" type="button" class="plyr__control" role="menuitem" data-plyr-menu="download" aria-haspopup="true"><span> '.concat(wp.i18n.__("Download","integrate-google-drive")," </span></button>")).on("click",(function(){e(t).find('.plyr__controls__item > [data-plyr="settings"]').click(),a()}));N.append(T)}return _.current.on("ended",(function(){(g||d)&&r(!0)})),function(){_.current.destroy()}}),[t]);var A=Lt();zo((function(){A&&_.current&&(n?_.current.play():_.current.pause())}),[n,_.current]);var P=S?'<audio src="'.concat(C,'" controls preload="none"></audio>'):'<video class="igd-player-media-video" src="'.concat(C,'" width="100%" height="100%" controls  poster=').concat(x,' preload="none" ></video>');return React.createElement("div",{className:"igd-player-media-wrap",ref:b,dangerouslySetInnerHTML:{__html:P}})}function Ho(e){var t=e.files,n=e.searchKeywordRef,r=e.setIsActive,i=e.setKeyword,a=e.setError,o=e.setIsSearchResults,l=e.setFiles,c=e.isActive,s=e.initFolders,d=t.length?t.length:wp.i18n.__("No","integrate-google-drive"),u=wp.i18n.sprintf(wp.i18n.__('Search results for "%s": %s items found.',"integrate-google-drive"),"<strong>".concat(n.current,"</strong>"),d);return React.createElement("div",{className:"search-result-info"},React.createElement("span",{dangerouslySetInnerHTML:{__html:u}}),React.createElement("button",{onClick:function(e){r(!c),i(""),a(!1),o(!1),l(s)},className:"clear-button igd-btn btn-warning"},wp.i18n.__("Clear","integrate-google-drive")))}function Wo(e){return function(e){if(Array.isArray(e))return Vo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qo=React,Ko=qo.useRef,Qo=qo.useEffect;function Jo(e){var t=e.initFolders,n=e.initParentFolder,r=e.sort,i=e.filters,a=e.privateFolders,o=e.setFiles,l=e.fullTextSearch,c=e.initialSearchTerm,s=e.isSearchResults,d=e.setIsSearchResults,u=e.searchKeywordRef,g=e.notifications,m=e.isLoading,p=e.setIsLoading,f=e.keyword,v=e.setKeyword,h=e.error,y=e.setError,w=e.isActive,b=e.setIsActive,_=e.nonce,E=Ko(),R=Ko(null),N=function(e){var c;p(!0),d(!0),u.current=e;var s=n?[n]:t;wp.ajax.post("igd_search_files",{folders:s,sort:r,keyword:e,accountId:null===(c=s[0])||void 0===c?void 0:c.accountId,isPrivate:a,fullTextSearch:l,filters:i,nonce:_||igd.nonce}).done((function(t){var n=t.files,r=t.error;if(r)Swal.fire({html:r,icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}});else{var i=s.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));n=(n=[].concat(Wo(i),Wo(n))).filter((function(e){return Rt(e)||Ct(e)})),o(n)}})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:wp.i18n.__("Something went wrong! Please try again later.","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",customClass:{container:"igd-swal"}})})).always((function(){p(!1)})),g&&g.searchNotification&&wp.ajax.post("igd_notification",{files:s,keyword:e,notifications:g,type:"search",nonce:_||igd.nonce})},S=function(e){if(e&&e.preventDefault(),y(!1),!f)return Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Please enter a keyword to search","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",customClass:{container:"igd-swal"}}),void y(!0);N(f)},C=Lt();return Qo((function(){if(C&&f&&!(f.length<4))return R.current=setTimeout((function(){S()}),2e3),function(){clearTimeout(R.current)}}),[f]),Qo((function(){E.current.addEventListener("keydown",(function(e){" "===e.key&&e.stopPropagation()}),!0),c&&N(c)}),[]),React.createElement("form",{ref:E,className:"playlist-search ".concat(w?"active":""," ").concat(h?"error":""),onSubmit:S},m&&React.createElement("div",{className:"igd-spinner"}),s&&!m&&React.createElement("div",{className:"search-dismiss",onClick:function(){b(!w),v(""),y(!1),d(!1),o(t)}},React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M1.5 1.5L10.5 10.5M1.5 10.5L10.5 1.5L1.5 10.5Z",stroke:"#BABABA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),React.createElement("input",{type:"text",placeholder:wp.i18n.__("Enter a keyword to search in the playlist","integrate-google-drive"),value:f,onChange:function(e){v(e.target.value)}}),React.createElement("div",{className:"search-submit",onClick:function(){var e;w?S():(b(!0),null===(e=E.current)||void 0===e||e.querySelector("input").focus())}},React.createElement("svg",{width:"18",height:"18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},React.createElement("path",{d:"M508.5 468.9L387.1 347.5c-2.3-2.3-5.3-3.5-8.5-3.5h-13.2c31.5-36.5 50.6-84 50.6-136C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c52 0 99.5-19.1 136-50.6v13.2c0 3.2 1.3 6.2 3.5 8.5l121.4 121.4c4.7 4.7 12.3 4.7 17 0l22.6-22.6c4.7-4.7 4.7-12.3 0-17zM208 368c-88.4 0-160-71.6-160-160S119.6 48 208 48s160 71.6 160 160-71.6 160-160 160z"})),React.createElement(rt,{id:"search",place:"bottom",effect:"solid",className:"igd-tooltip"})))}function Yo(e){return function(e){if(Array.isArray(e))return Zo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||Xo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xo(e,t){if(e){if("string"==typeof e)return Zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zo(e,t):void 0}}function Zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var el=React,tl=el.useState,nl=el.useRef;function rl(e){var t=e.file,n=e.files,r=e.setFile,i=e.folderFiles,a=e.setFolderFiles,o=e.getFolderFiles,l=e.isSub,c=e.isPlaying,s=e.setIsPlaying,d=e.download,u=e.activeFolder,g=e.setActiveFolder,m=e.playlistThumbnail,p=e.playlistNumber,f=e.allowSearch,v=e.initParentFolder,h=e.initFolders,y=e.filters,w=e.privateFolders,b=e.fullTextSearch,_=e.initialSearchTerm,E=e.sort,R=e.setFiles,N=e.isSearchResults,S=e.setIsSearchResults,C=e.searchKeywordRef,x=e.notifications,O=e.nonce,A=e.playlistStyle,P=$o(tl([]),2),I=P[0],D=P[1],k=$o(tl(!1),2),F=k[0],j=k[1],T=$o(tl(_),2),B=T[0],L=T[1],M=$o(tl(!1),2),U=M[0],z=M[1],G=$o(tl(!!_),2),H=G[0],W=G[1],V="grid"===A&&n.length&&n.reduce((function(e,t,n){return Rt(t)&&(e=n),e})),q=nl(),K=It(q,"grid"!==A);return React.createElement("div",{className:"".concat(l?"sub-item":"igd-player-playlist"," ").concat(K),ref:q},!l&&f&&React.createElement(React.Fragment,null,React.createElement(Jo,{initFolders:h,initParentFolder:v,filters:y,sort:E,privateFolders:w,setFiles:R,fullTextSearch:b,initialSearchTerm:_,isSearchResults:N,setIsSearchResults:S,searchKeywordRef:C,isLoading:F,setIsLoading:j,notifications:x,keyword:B,setKeyword:L,error:U,setError:z,isActive:H,setIsActive:W,nonce:O}),N&&!F&&React.createElement(Ho,{files:n,searchKeywordRef:C,setIsActive:W,isActive:H,setKeyword:L,setError:z,setIsSearchResults:S,setFiles:R,initFolders:h})),"grid"===A&&!!u&&React.createElement("div",{className:"playlist-item-wrap folder-item-wrap",onClick:function(){var e=Object.keys(i),t=e.indexOf(u);if(t>0){var n=e[t-1];g(n),R(i[n])}else g(!1),R(h),a({})}},React.createElement("div",{className:"playlist-item folder-item"},React.createElement("i",{className:"dashicons dashicons-arrow-left-alt2"}),wp.i18n.__("Back","integrate-google-drive"))),n.length>0&&n.map((function(e,n){var a=e.id,l=e.name,O=e.size,P=e.metaData,k=jt(e,"custom","grid"===A?{w:256,h:256}:{w:64,h:64}),F=Rt(e);if(F||Ct(e)){var j,T,B,L,M,U,z,G,H=a===u,W=(null==t?void 0:t.id)===a,q=I.find((function(t){return t.id===e.id}));return React.createElement(React.Fragment,null,V===n-1&&React.createElement("div",{className:"playlist-item-wrap folder-item-break"}),React.createElement("div",{key:a,className:"playlist-item-wrap ".concat(F?"folder-item-wrap":"")},React.createElement("div",{className:"playlist-item ".concat(W?"active":""," ").concat(F?"folder-item":""),onClick:function(n){if(n.stopPropagation(),F){var l;if(g(H?null:a),"grid"!==A){if(D(q?function(t){return t.filter((function(t){return t.id!==e.id}))}:function(t){return[].concat(Yo(t),[e])}),q||i&&i[e.id])return}else if(null!==(l=i[a])&&void 0!==l&&l.length)return void R(i[a]);o(e)}else if(t&&t.id===a)s(!c||"pause"===c);else if(s(!0),r(e),xt(e)){var d=n.target.closest(".igd-player");d&&(d.classList.contains("playlist-bottom")||window.innerWidth<768)&&d.scrollIntoView({behavior:"smooth"})}}},p&&React.createElement("span",{className:"item-index"},String(n+1).padStart(2,"0"),"."),"grid"!==A&&F&&(!H||!!i[a])&&React.createElement("span",{className:"dashicons ".concat(q?"dashicons-arrow-down":"dashicons-arrow-right")}),H&&!i[a]&&React.createElement("div",{className:"igd-spinner"}),m&&React.createElement("img",{src:k,alt:l}),React.createElement("span",{className:"item-name"},l),React.createElement("div",{className:"item-meta"},!F&&!(null==P||!P.duration)&&React.createElement("span",{className:"item-duration"},React.createElement("i",{className:"dashicons dashicons-clock"}),(j=P.duration,T=Math.floor(j/1e3),B=Math.floor(T/3600),L=Math.floor(T%3600/60),M=Math.floor(T%60),U=B>0?String(B).padStart(2,"0")+":":"",z=String(L).padStart(2,"0"),G=String(M).padStart(2,"0"),"".concat(U).concat(z,":").concat(G))),!F&&d&&!!O&&React.createElement("span",{className:"item-size"},Et(O))),!F&&W&&c&&"pause"!==c&&React.createElement("span",{className:"dashicons dashicons-controls-pause"}),!F&&(!W||!c||"pause"===c)&&React.createElement("span",{className:"dashicons dashicons-controls-play"})),"grid"!==A&&q&&!!i[a]&&React.createElement(rl,{isSub:!0,files:i[a],file:t,setFile:r,folderFiles:i,getFolderFiles:o,isPlaying:c,setIsPlaying:s,download:d,activeFolder:u,setActiveFolder:g,playlistThumbnail:m,playlistNumber:p,allowSearch:f,initParentFolder:v,initFolders:h,filters:y,privateFolders:w,fullTextSearch:b,initialSearchTerm:_,sort:E,setFiles:R,isSearchResults:N,setIsSearchResults:S,searchKeywordRef:C,notifications:x})))}})),0===n.length&&!F&&React.createElement("div",{className:"playlist-no-items"},React.createElement("i",{className:"dashicons dashicons-".concat(N?"search":"open-folder")}),wp.i18n.__("No items found","integrate-google-drive")))}function il(e){return il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(e)}function al(e){return function(e){if(Array.isArray(e))return ul(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ol(Object(n),!0).forEach((function(t){cl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=il(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=il(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==il(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||dl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dl(e,t){if(e){if("string"==typeof e)return ul(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ul(e,t):void 0}}function ul(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gl=React,ml=gl.useRef,pl=gl.useEffect,fl=gl.useState;const vl=function(e){var t,n=e.initFolders,r=void 0===n?[]:n,i=e.nextPrevious,a=e.rewindForward,o=e.allowEmbedPlayer,l=e.playlistStyle,c=e.download,s=e.sort,d=e.allowSearch,u=e.initParentFolder,g=e.filters,m=e.privateFolders,p=e.fullTextSearch,f=void 0===p||p,v=e.initialSearchTerm,h=e.showPlaylist,y=void 0===h||h,w=e.openedPlaylist,b=void 0===w||w,_=e.playlistPosition,E=void 0===_?"bottom":_,R=e.notifications,N=e.playlistThumbnail,S=e.playlistAutoplay,C=e.playlistNumber,x=e.nonce,O=e.shortcodeId,A=e.showPlaylistToggle,P=sl(fl(r),2),I=P[0],D=P[1],k=sl(fl(r.filter((function(e){return Ct(e)}))),2),F=k[0],j=k[1],T=sl(fl(F.length?F[0]:null),2),B=T[0],L=T[1],M=sl(fl(null),2),U=M[0],z=M[1],G=sl(fl(y&&(b||"grid"===l)),2),H=G[0],W=G[1],V=ml(v),q=sl(fl(!1),2),K=q[0],Q=q[1];pl((function(){I.length&&j(r.filter((function(e){return!Rt(e)})))}),[I]);var J=sl(fl(!1),2),Y=J[0],$=J[1],X=sl(fl({}),2),Z=X[0],ee=X[1],te=B&&xt(B),ne=sl(fl("true"===localStorage.getItem("igd_is_loop")),2),re=ne[0],ie=ne[1],ae=sl(fl("true"===localStorage.getItem("igd_is_shuffle")),2),oe=ae[0],le=ae[1],ce=B?F.findIndex((function(e){return e.id===B.id})):0,se=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if($(!0),!e||!re){var t=ce+1<F.length?F[ce+1]:F[0];oe&&(t=F[Math.floor(Math.random()*F.length)]),L(t)}},de=function(){$(!0),L(ce-1>=0?F[ce-1]:F[F.length-1])},ue=ml(null),ge=Lt();pl((function(){ge&&localStorage.setItem("igd_is_loop",re?"true":"false")}),[re]),pl((function(){ge&&localStorage.setItem("igd_is_shuffle",oe?"true":"false")}),[oe]),pl((function(){ge&&R&&R.playNotification&&wp.ajax.post("igd_notification",{files:[B],notifications:R,type:"play",nonce:x||igd.nonce})}),[B]);var me=B&&Ot(B),pe=sl(fl("lg"),2),fe=pe[0],ve=pe[1];return pl((function(){if(ue.current){var e=480,t=768,n=992,r=new ResizeObserver((function(r){var i=r[0].contentRect.width;ve(i<=e?"xs":i<=t?"sm":i<=n?"md":"lg")}));return r.observe(ue.current),function(){r.disconnect()}}}),[ue]),pl((function(){var e;!o||!xt(B)||Bt(B)||null!==(e=igd.settings)&&void 0!==e&&e.secureVideoPlayback||wp.ajax.post("igd_update_file_permission",{shortcodeId:O,file_id:B.id,account_id:B.accountId,nonce:x||igd.nonce})}),[B]),React.createElement("div",{ref:ue,className:"\n                igd-player \n                playlist-".concat(E,"\n                playlist-").concat(l,"\n                ").concat(te?"type-video":"type-audio"," \n                ").concat(Y?"active":"paused"," \n                ").concat(re?"is-loop":"","\n                ").concat(H?"is-playlist":"","\n                ").concat(oe?"is-shuffle":"","\n                size-").concat(fe,"\n            ")},React.createElement("div",{className:"media-wrap"},me&&React.createElement("div",{className:"current-item"},React.createElement("img",{src:jt(B,"small"),alt:B.name}),React.createElement("div",{className:"item-caption"},React.createElement("span",{className:"item-title"},B.name),!!B.description&&React.createElement("span",{className:"item-description"},B.description))),!me&&!!o&&!!B&&React.createElement("iframe",{src:null!==(t=igd.settings)&&void 0!==t&&t.secureVideoPlayback?"".concat(igd.homeUrl,"/?secure_embed=1&id=").concat(B.id,"&account_id=").concat(B.accountId,"&nonce=").concat(igd.nonce):"https://drive.google.com/file/d/".concat(B.id,"/preview"),width:"100%",height:"100%",allowFullScreen:!0,allow:"autoplay",sandbox:"allow-scripts allow-same-origin"}),!!B&&(!o||me)&&React.createElement(Go,{file:B,isPlaying:Y,setIsPlaying:$,playNext:se,playPrev:de,download:c,showPlaylist:y,nextPrevious:i,rewindForward:a,playableItems:F,handleDownload:function(){var e="".concat(igd.ajaxUrl,"?action=igd_download&shortcodeId=").concat(O,"&id=").concat(B.id,"&accountId=").concat(B.accountId,"&nonce=").concat(x||igd.nonce);window.open(e,"_blank").focus(),R&&R.downloadNotification&&wp.ajax.post("igd_notification",{files:[B],notifications:R,type:"download",nonce:x||igd.nonce})},playlistAutoplay:S,isLoop:re,setIsLoop:ie,isOpenPlaylist:H,setIsOpenPlaylist:W,isShuffle:oe,setIsShuffle:le,shortcodeId:O,nonce:x||igd.nonce}),"grid"===l&&!me&&I.length>0&&React.createElement("div",{className:"igd-player-controls"},i&&React.createElement(React.Fragment,null,React.createElement("button",{className:"igd-play-prev",onClick:function(){return de()},title:wp.i18n.__("Previous","integrate-google-drive")},React.createElement("i",{className:"dashicons dashicons-controls-skipback"})),React.createElement("button",{className:"igd-play-next",onClick:function(){return se()},title:wp.i18n.__("Next","integrate-google-drive")},React.createElement("i",{className:"dashicons dashicons-controls-skipforward"}))),y&&A&&React.createElement("button",{className:"igd-toggle-playlist",onClick:function(){return W(!H)},title:wp.i18n.__("Toggle Playlist","integrate-google-drive")},React.createElement("i",{className:"dashicons dashicons-playlist-video"})))),H&&React.createElement(rl,{file:B,files:I,setFile:L,folderFiles:Z,setFolderFiles:ee,getFolderFiles:function(e){return wp.ajax.post("igd_get_files",{shortcodeId:O,data:{folder:e,sort:s,filters:g},nonce:x||igd.nonce}).done((function(t){var n=t.files;n=n.filter((function(e){return Ct(e)||Rt(e)})),ee((function(t){return ll(ll({},t),{},cl({},e.id?e.id:e,n))})),j((function(e){return[].concat(al(e),al(n.filter((function(e){return!Rt(e)}))))})),"grid"===l&&D(n)}))},isPlaying:Y,setIsPlaying:$,download:c,activeFolder:U,setActiveFolder:z,playlistThumbnail:N,playlistNumber:C,playlistStyle:l,showPlaylist:y,allowSearch:d,initParentFolder:u,initFolders:r,filters:g,privateFolders:m,fullTextSearch:f,initialSearchTerm:v,sort:s,setFiles:D,isSearchResults:K,setIsSearchResults:Q,searchKeywordRef:V,notifications:R,nonce:x}))};function hl(e){var t=e.initFolders,n=e.slideHeight,r=e.slidesPerPage,i=e.slideAutoplay,a=e.slideAutoplaySpeed,o=e.slideDots,l=e.slideArrows,c=e.download,s=e.preview,d=e.notifications,u=e.sliderImageSize,g=e.sliderCustomSizeWidth,m=e.sliderCustomSizeHeight,p=e.slideGap,f=e.galleryOverlay,v=e.overlayDisplayType,h=e.galleryOverlayTitle,y=e.galleryOverlayDescription,w=e.galleryOverlaySize,b=e.nonce,_=e.shortcodeId,E=function(){var e=r[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"md"];return t.length<e?t.length:e},R={dots:o,arrows:l,speed:500,slidesToShow:E("md"),infinite:!0,initialSlide:0,adaptiveHeight:!0,autoplay:i,autoplaySpeed:parseInt(a),cssEase:"linear",nextArrow:React.createElement("span",{className:"slick-arrow slick-next"},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 320 512"},React.createElement("path",{d:"M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"}))),prevArrow:React.createElement("span",{className:"slick-arrow slick-prev"},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 320 512"},React.createElement("path",{d:"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"}))),responsive:[{breakpoint:576,settings:{slidesToShow:E("xs"),dots:!1}},{breakpoint:768,settings:{slidesToShow:E("sm")}},{breakpoint:992,settings:{slidesToShow:E("md")}},{breakpoint:1200,settings:{slidesToShow:E("lg")}},{breakpoint:2800,settings:{slidesToShow:E("xl")}}]};return React.createElement("div",{className:"igd-slider",style:{"--slide-height":n,"--slide-gap":"".concat(p,"px")}},React.createElement(Slider.default,R,t.map((function(e){var n=e.id,r=e.accountId,i=e.name,a=e.description,o=e.size,l=jt(e,u,{w:g,h:m});return React.createElement(React.Fragment,null,React.createElement("div",{className:"slider-img-wrap",onClick:function(e){return function(e,n){s&&Mt(e,n,t,{download:c,preview:s,inlinePreview:!0},d,!0,_,b)}(e,n)}},React.createElement("img",{src:l,alt:i,referrerPolicy:"no-referrer",onError:function(e){e.target.src=Tt({id:n,accountId:r},"medium")}})),!!f&&React.createElement("div",{className:"igd-gallery-item-overlay type-".concat(v)},!!h&&React.createElement("div",{className:"overlay-title"},i),!!y&&!!a&&React.createElement("p",{className:"overlay-description"},a),!!w&&React.createElement("span",{className:"overlay-size"},Et(o))))}))))}function yl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bl=React,_l=bl.useEffect,El=bl.useState;function Rl(e){var t=e.data,n=e.isPreview,r=yl(El(!1),2),i=r[0],a=r[1],o=yl(El(""),2),l=o[0],c=o[1],s=t.id,d=t.type,u=t.allFolders,g=t.privateFolders,m=t.folders,p=void 0===m?[]:m,f=t.filters,v=t.galleryLayout,h=void 0===v?"justified":v,y=t.galleryAspectRatio,w=void 0===y?"1/1":y,b=t.galleryColumns,_=void 0===b?{xs:1,sm:2,md:3,lg:4,xl:5}:b,E=t.galleryHeight,R=void 0===E?300:E,N=t.galleryMargin,S=void 0===N?5:N,C=t.galleryView,x=void 0===C?"rounded":C,A=t.galleryFolderView,P=void 0===A?"title":A,I=t.galleryOverlay,D=void 0===I||I,k=t.overlayDisplayType,F=void 0===k?"hover":k,j=t.galleryOverlayTitle,T=void 0===j||j,B=t.galleryOverlayDescription,L=void 0===B||B,M=t.galleryOverlaySize,U=t.galleryImageSize,z=void 0===U?"medium":U,G=t.galleryCustomSizeWidth,H=t.galleryCustomSizeHeight,W=t.view,V=t.lazyLoad,q=void 0===V||V,K=t.lazyLoadNumber,Q=void 0===K?100:K,J=t.lazyLoadType,Y=void 0===J?"pagination":J,$=t.showLastModified,X=t.showFileSizeField,Z=void 0===X||X,ee=t.showHeader,te=void 0===ee||ee,ne=t.showRefresh,re=void 0===ne||ne,ie=t.showSorting,ae=void 0===ie||ie,oe=t.showBreadcrumbs,le=void 0===oe||oe,ce=t.searchBoxText,se=void 0===ce?wp.i18n.__("Search for files & content","integrate-google-drive"):ce,de=t.nextPrevious,ue=void 0===de||de,ge=t.rewindForward,me=void 0!==ge&&ge,pe=t.allowEmbedPlayer,fe=void 0===pe||pe,ve=t.playlistStyle,he=void 0===ve?"grid":ve,ye=t.showPlaylistToggle,we=void 0===ye||ye,be=t.showPlaylist,_e=void 0===be||be,Ee=t.playlistThumbnail,Re=void 0===Ee||Ee,Ne=t.playlistNumber,Se=void 0===Ne||Ne,Ce=t.playlistAutoplay,xe=void 0===Ce||Ce,Oe=t.openedPlaylist,Ae=void 0===Oe||Oe,Pe=t.playlistPosition,Ie=void 0===Pe?"bottom":Pe,De=t.fileNumbers,ke=t.sort,Fe=t.maxFiles,je=t.maxFileSize,Te=t.minFileSize,Be=t.notifications,Le=t.preview,Me=void 0===Le||Le,Ue=t.inlinePreview,ze=void 0===Ue||Ue,Ge=t.allowPreviewPopout,He=void 0===Ge||Ge,We=t.directLink,Ve=t.createDoc,qe=t.edit,Ke=t.newFolder,Qe=t.rename,Je=t.details,Ye=t.moveCopy,$e=t.moveCopy,Xe=t.canDelete,Ze=t.upload,et=t.download,tt=void 0===et||et,nt=t.folderDownload,rt=t.zipDownload,it=t.allowShare,at=t.viewSwitch,ot=void 0===at||at,lt=t.allowSearch,ct=void 0===lt?"search"===d:lt,st=t.fullTextSearch,dt=void 0===st||st,ut=t.initialSearchTerm,gt=void 0===ut?"":ut,mt=t.comment,pt=t.commentMethod,ft=void 0===pt?"facebook":pt,vt=t.photoProof,ht=t.photoProofEmail,yt=t.photoProofBtnText,wt=t.photoProofMaxSelection,bt=t.enableUploadDescription,_t=t.uploadImmediately,Et=t.isFormUploader,Nt=t.isRequired,St=t.isWooCommerceUploader,xt=t.wcItemId,Ot=t.wcOrderId,At=t.wcProductId,Pt=t.uploadedFiles,It=void 0===Pt?[]:Pt,Dt=t.initParentFolder,kt=t.enableFolderUpload,Ft=t.overwrite,jt=t.showUploadLabel,Tt=t.uploadLabelText,Bt=void 0===Tt?wp.i18n.__("Upload Files","integrate-google-drive"):Tt,Lt=t.uploadFileName,Mt=t.showUploadConfirmation,zt=void 0===Mt||Mt,Gt=t.uploadConfirmationMessage,Ht=void 0===Gt?"<h3>".concat(wp.i18n.__("Upload successful!","integrate-google-drive"),"</h3> <p>").concat(wp.i18n.__("Your file(s) have been uploaded. Thank you for your submission!","integrate-google-drive"),"</p>"):Gt,Wt=t.uploadFolderSelection,Vt=t.uploadFolders,qt=void 0===Vt?[]:Vt,Kt=t.folderSelectionLabel,Qt=void 0===Kt?wp.i18n.__("Choose Upload Folder","integrate-google-drive"):Kt,Jt=t.sliderImageSize,Yt=void 0===Jt?"medium":Jt,$t=t.sliderCustomSizeWidth,Xt=t.sliderCustomSizeHeight,Zt=t.slideDescription,en=t.slideHeight,tn=void 0===en?"300px":en,nn=t.slidesPerPage,rn=void 0===nn?{xs:1,sm:2,md:3,lg:4,xl:5}:nn,an=t.slidesToScroll,on=void 0===an?1:an,ln=t.slideAutoplay,cn=void 0===ln||ln,sn=t.slideAutoplaySpeed,dn=void 0===sn?3e3:sn,un=t.slideDots,gn=void 0===un||un,mn=t.slideArrows,pn=void 0===mn||mn,fn=t.slideGap,vn=void 0===fn?5:fn,hn=t.account,yn=t.nonce,wn=null;return u||(wn=p),_l((function(){n&&(a(!0),wp.ajax.post("igd_get_shortcode_content",{data:t,nonce:igd.nonce}).done((function(e){return c(e)})).fail((function(e){return console.error(e)})).always((function(){a(!1),setTimeout((function(){Ut()}),100)})))}),[n,t]),React.createElement(React.Fragment,null,n&&i&&React.createElement("div",{className:"igd-spinner spinner-large"}),n&&!i&&React.createElement("div",{className:"preview-inner",dangerouslySetInnerHTML:{__html:l}}),!n&&React.createElement(React.Fragment,null,["browser","gallery","search"].includes(d)&&React.createElement(jo,{shortcodeId:s,account:hn,nonce:yn,galleryLayout:h,galleryAspectRatio:w,galleryColumns:_,galleryOverlay:D,overlayDisplayType:F,galleryOverlayTitle:T,galleryOverlayDescription:L,galleryOverlaySize:M,galleryImageSize:z,galleryCustomSizeWidth:G,galleryCustomSizeHeight:H,galleryHeight:R,galleryMargin:S,galleryView:x,galleryFolderView:P,initParentFolder:Dt,allFolders:u,privateFolders:g,initFolders:wn,searchBoxText:se,filters:f,isList:"list"===W,lazyLoad:q,lazyLoadNumber:Q,lazyLoadType:Y,showLastModified:$,showFileSizeField:Z,showHeader:te,showRefresh:re,showSorting:ae,showBreadcrumbs:le,fileNumbers:De,sort:ke,shortcodeBuilderType:d,initialSearchTerm:gt,permissions:{preview:Me,inlinePreview:ze,allowPreviewPopout:He,directLink:We,newFolder:Ke,rename:Qe,move:$e,copy:Ye,upload:Ze,download:tt,folderDownload:nt,zipDownload:rt,details:Je,view:ot,delete:Xe,share:it,allowSearch:ct,createDoc:Ve,edit:qe,fullTextSearch:dt,comment:mt,commentMethod:ft,photoProof:vt,photoProofEmail:ht,photoProofBtnText:yt,photoProofMaxSelection:wt},notifications:Be}),"slider"===d&&React.createElement(hl,{initFolders:wn,slideDescription:Zt,slideHeight:tn,slidesPerPage:rn,slidesToScroll:on,slideAutoplay:cn,slideAutoplaySpeed:dn,slideDots:gn,slideArrows:pn,download:t.download,preview:t.preview,notifications:Be,sliderImageSize:Yt,sliderCustomSizeWidth:$t,sliderCustomSizeHeight:Xt,slideGap:vn,galleryOverlay:D,overlayDisplayType:F,galleryOverlayTitle:T,galleryOverlayDescription:L,galleryOverlaySize:M,nonce:yn||igd.nonce,shortcodeId:s}),"uploader"===d&&React.createElement(O,{value:{shortcodeId:s,account:hn,folders:p,filters:f,maxFiles:Fe,maxFileSize:je,minFileSize:Te,enableFolderUpload:kt,isFormUploader:Et,isRequired:Nt,showUploadLabel:jt,uploadLabelText:Bt,uploadFileName:Lt,isWooCommerceUploader:St,wcItemId:xt,wcOrderId:Ot,wcProductId:At,notifications:Be,initUploadedFiles:It,enableUploadDescription:bt,uploadImmediately:_t,overwrite:Ft,showUploadConfirmation:zt,uploadConfirmationMessage:Ht,nonce:yn,uploadFolderSelection:Wt,uploadFolders:qt,folderSelectionLabel:Qt,privateFolders:g}},React.createElement(Er,null)),"media"===d&&React.createElement(vl,{initParentFolder:Dt,initFolders:wn.filter((function(e){return Ct(e)||Rt(e)})),nextPrevious:ue,rewindForward:me,allowEmbedPlayer:fe,playlistStyle:he,showPlaylistToggle:we,showPlaylist:_e,playlistThumbnail:Re,playlistNumber:Se,playlistAutoplay:xe,openedPlaylist:Ae,playlistPosition:Ie,download:t.download,sort:ke,filters:f,privateFolders:g,allowSearch:ct,fullTextSearch:dt,initialSearchTerm:gt,notifications:Be,nonce:yn,shortcodeId:s})))}function Nl(e){var t=e.data,n=e.onClose;return React.createElement("div",{className:"igd-shortcode-preview-wrap"},React.createElement("div",{className:"igd-shortcode-preview-header"},React.createElement("div",{className:"header-title"},React.createElement("i",{className:"dashicons dashicons-visibility"}),React.createElement("span",null,wp.i18n.__("Shortcode Preview","integrate-google-drive"))),React.createElement("button",{type:"button",className:"igd-btn btn-danger",onClick:n},React.createElement("i",{className:"dashicons dashicons-no"}))),React.createElement(Rl,{data:t,isPreview:!0}))}function Sl(e){return Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(e)}function Cl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cl(Object(n),!0).forEach((function(t){Ol(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ol(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Sl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Al(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Il=React,Dl=Il.useContext,kl=Il.useEffect,Fl=Il.useState;function jl(){var e=Dl(Bo),t=e.edit,n=e.setEdit,r=e.editData,i=e.updateShortcode,a=e.setEditData,o=e.updating,l=e.deleteShortcode,c=r.title,s=r.id;kl((function(){"-1"==t&&document.getElementById("shortcode-title").focus()}),[t]);var d=Al(Fl(!1),2),u=d[0],g=d[1];return React.createElement("div",{className:"igd-shortcode-builder-header ".concat(t?"is-edit":"")},!!t&&React.createElement("button",{type:"button",className:"btn-back",onClick:function(){Jt(),n(null)}},React.createElement("i",{className:"dashicons dashicons-arrow-left-alt2"}),React.createElement("span",null,wp.i18n.__("Back","integrate-google-drive"))),React.createElement("div",{className:"header-title"},React.createElement("img",{src:igd.pluginUrl+"/assets/images/shortcode-builder/shortcode-icon.svg",alt:"Shortcode Builder"}),t?React.createElement(React.Fragment,null,React.createElement("label",{htmlFor:"shortcode-title"},s>0?wp.i18n.__("Edit Shortcode","integrate-google-drive"):wp.i18n.__("Add New Shortcode","integrate-google-drive")),React.createElement("input",{type:"text",onChange:function(e){return a((function(t){return xl(xl({},t),{},{title:e.target.value})}))},value:c,className:"shortcode-title",id:"shortcode-title"})):React.createElement("span",null,wp.i18n.__("Shortcode Builder","integrate-google-drive"))),React.createElement("div",{className:"header-actions"},t?React.createElement(React.Fragment,null,s>0&&React.createElement("div",{className:"shortcode-wrap"},React.createElement("i",{className:"dashicons dashicons-admin-page",onClick:kt}),React.createElement("code",{onClick:kt},'[integrate_google_drive id="'.concat(s,'"]'))),React.createElement("button",{type:"button",className:"igd-btn btn-save btn-primary",onClick:function(){var e=new URL(window.location.href);e.searchParams.delete("id"),window.history.pushState({},"",e),i(r,!0)}},o?React.createElement("div",{className:"igd-spinner"}):React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,wp.i18n.__("Save","integrate-google-drive"))),!!s&&s>0&&React.createElement(React.Fragment,null,React.createElement("button",{className:"igd-btn btn-tools",onClick:function(){return g(!u)}},React.createElement("i",{className:"dashicons dashicons-ellipsis"})),React.createElement(rt,{anchorSelect:".btn-tools",isOpen:u,setIsOpen:g,openEvents:["click"],place:"bottom",variant:"light",clickable:!0,border:"1px solid #ddd",scrollHide:!1,className:"options-tooltip igd-tooltip"},React.createElement("div",{className:"action-tools"},React.createElement("button",{className:"igd-btn",onClick:function(){return e=r,void Swal.fire({html:'<div id="igd-shortcode-preview" class="igd-shortcode-preview"></div>',showConfirmButton:!1,customClass:{popup:"igd-shortcode-preview-popup",container:"igd-shortcode-preview-container"},didOpen:function(){var t=document.getElementById("igd-shortcode-preview");ReactDOM.render(React.createElement(Nl,{data:e,onClose:function(){return Swal.close()}}),t)},willClose:function(){var e=document.getElementById("igd-shortcode-preview");ReactDOM.unmountComponentAtNode(e)}});var e}},React.createElement("i",{className:"dashicons dashicons-visibility"}),React.createElement("span",null,wp.i18n.__("Preview","integrate-google-drive"))),React.createElement("button",{className:"igd-btn",onClick:function(){Swal.fire({title:wp.i18n.__("Are you sure?","integrate-google-drive"),text:wp.i18n.__("You won't be able to revert this!","integrate-google-drive"),icon:"warning",showCancelButton:!0,confirmButtonText:wp.i18n.__("Yes, delete it!","integrate-google-drive"),cancelButtonText:wp.i18n.__("No, cancel!","integrate-google-drive"),reverseButtons:!0,focusCancel:!0,showLoaderOnConfirm:!0,customClass:{container:"igd-swal igd-swal-reverse"},preConfirm:function(){return l(s,!0)}})}},React.createElement("i",{className:"text-red-500 dashicons dashicons-trash"}),React.createElement("span",null,wp.i18n.__("Delete","integrate-google-drive"))))))):React.createElement("button",{type:"button",className:"igd-btn btn-primary add-new-btn",onClick:function(){return n(-1)}},o?React.createElement("div",{className:"igd-spinner"}):React.createElement("i",{className:"dashicons dashicons-plus"}),React.createElement("span",null,wp.i18n.__("Add new shortcode","integrate-google-drive")))))}function Tl(e){return Tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(e)}function Bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bl(Object(n),!0).forEach((function(t){Ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ml(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Tl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ul(e){return function(e){if(Array.isArray(e))return Hl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Gl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||Gl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gl(e,t){if(e){if("string"==typeof e)return Hl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hl(e,t):void 0}}function Hl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wl=wp.components,Vl=Wl.FormToggle,ql=Wl.CheckboxControl,Kl=Wl.SelectControl,Ql=React,Jl=Ql.useContext,Yl=Ql.useState,$l=Ql.useEffect;function Xl(){var e=Jl(Bo),t=e.shortcodes,n=e.deleteShortcode,r=e.setEdit,i=e.updateShortcode,a=e.duplicateShortcode,o=e.total,l=e.page,c=e.setPage,s=e.perPage,d=e.setPerPage,u=e.sortBy,g=e.setSortBy,m=e.sortOrder,p=e.setSortOrder,f=Dt(),v=zl(Yl([]),2),h=v[0],y=v[1],w=localStorage.getItem("igd_shortcode_list_columns"),b=zl(Yl(w?JSON.parse(w):["ID","type","status","shortcode","created"]),2),_=b[0],E=b[1];$l((function(){localStorage.setItem("igd_shortcode_list_columns",JSON.stringify(_))}),[_]);var R=zl(Yl(null),2),N=R[0],S=R[1],C=zl(Yl(!1),2),x=C[0],O=C[1];return React.createElement("div",{className:"igd-shortcode-list-wrap"},React.createElement("div",{className:"igd-shortcode-list-header"},React.createElement("h3",{className:"igd-shortcode-list-title"},wp.i18n.__("All Shortcodes","integrate-google-drive"),React.createElement("span",{className:"shortcode-list-count"}," ( ",o," ",wp.i18n._n("Item","Items",o,"integrate-google-drive")," )")),React.createElement("div",{className:"igd-list-column-settings"},React.createElement("i",{className:"column-settings-icon dashicons dashicons-admin-settings",onClick:function(){return O(!x)}}),React.createElement(rt,{anchorSelect:".column-settings-icon",isOpen:x,setIsOpen:O,openEvents:["click"],place:"left",variant:"light",clickable:!0,border:"1px solid #ddd",scrollHide:!1,className:"igd-tooltip list-settings-tooltip"},React.createElement("div",{className:"settings-wrap settings-columns"},React.createElement("h4",null,wp.i18n.__("Columns","integrate-google-drive")),React.createElement("div",{className:"column-options"},["ID","type","status","shortcode","locations","created"].map((function(e,t){return React.createElement("div",{className:"igd-column-setting",key:t},React.createElement(ql,{label:e,checked:_.includes(e),onChange:function(){var t=_.includes(e)?_.filter((function(t){return t!==e})):[].concat(Ul(_),[e]);E(t)}}))})))),React.createElement("div",{className:"settings-wrap settings-per-page"},React.createElement("h4",null,wp.i18n.__("Items Per Page","integrate-google-drive")),React.createElement(Kl,{value:s,options:[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100}],onChange:function(e){d(e),c(1),localStorage.setItem("igd_shortcode_list_per_page",e)}})),React.createElement("div",{className:"settings-wrap settings-sort-by"},React.createElement("h4",null,wp.i18n.__("Sort By","integrate-google-drive")),React.createElement(Kl,{value:u,options:[{label:wp.i18n.__("ID","integrate-google-drive"),value:"id"},{label:wp.i18n.__("Name","integrate-google-drive"),value:"title"},{label:wp.i18n.__("Date Created","integrate-google-drive"),value:"created_at"}],onChange:function(e){g(e),c(1),localStorage.setItem("igd_shortcode_list_sort_by",e)}})),React.createElement("div",{className:"settings-wrap settings-sort-order"},React.createElement("h4",null,wp.i18n.__("Sort Order","integrate-google-drive")),React.createElement(Kl,{value:m,options:[{label:wp.i18n.__("Ascending","integrate-google-drive"),value:"asc"},{label:wp.i18n.__("Descending","integrate-google-drive"),value:"desc"}],onChange:function(e){p(e),c(1),localStorage.setItem("igd_shortcode_list_sort_order",e)}}))))),!!h.length&&React.createElement("div",{className:"selection-actions-wrap"},React.createElement("div",{className:"selection-count"},h.length," ",wp.i18n.__("Item(s) selected","integrate-google-drive")),React.createElement("button",{className:"igd-btn btn-warning",onClick:function(){return y([])}},React.createElement("i",{className:"dashicons dashicons-no-alt"}),React.createElement("span",null,wp.i18n.__("Clear Selection","integrate-google-drive"))),React.createElement("button",{className:"igd-btn btn-info",onClick:function(){a(h),y([])}},React.createElement("i",{className:"dashicons dashicons-admin-page"}),React.createElement("span",null,wp.i18n.__("Duplicate","integrate-google-drive"))),React.createElement("button",{className:"igd-btn btn-danger",onClick:function(){Swal.fire({title:wp.i18n.__("Are you sure?","integrate-google-drive"),text:wp.i18n.__("You will not be able to recover this shortcode!","integrate-google-drive"),icon:"warning",showCancelButton:!0,confirmButtonText:wp.i18n.__("Yes, delete it!","integrate-google-drive"),reverseButtons:!0,customClass:{container:"igd-swal igd-swal-reverse"}}).then((function(e){e.isConfirmed&&(h.forEach((function(e){n(e)})),y([]))}))}},React.createElement("i",{className:"dashicons dashicons-trash"}),React.createElement("span",null,wp.i18n.__("Delete","integrate-google-drive")))),React.createElement("table",{className:"igd-shortcode-list"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{className:"col-selection"},React.createElement(ql,{checked:h.length===t.length,onChange:function(){h.length===t.length?y([]):y(t.map((function(e){return e.id})))}})),_.includes("ID")&&React.createElement("th",{className:"col-id"},wp.i18n.__("ID","integrate-google-drive")),React.createElement("th",{className:"col-title"},wp.i18n.__("Title","integrate-google-drive")),_.includes("type")&&React.createElement("th",{className:"col-shortcode-type"},wp.i18n.__("Type","integrate-google-drive")),_.includes("status")&&React.createElement("th",{"data-tooltip-content":wp.i18n.__("Shortcode active/inactive status","integrate-google-drive"),"data-tooltip-id":"shortcodeStatus"},wp.i18n.__("Status","integrate-google-drive"),React.createElement(rt,{id:"shortcodeStatus",effect:"solid",place:"top",className:"igd-tooltip"})),_.includes("shortcode")&&React.createElement("th",null,wp.i18n.__("Shortcode","integrate-google-drive")),_.includes("locations")&&React.createElement("th",null,wp.i18n.__("Locations","integrate-google-drive")),_.includes("created")&&React.createElement("th",null,wp.i18n.__("Created","integrate-google-drive")),React.createElement("th",null,wp.i18n.__("Actions","integrate-google-drive")))),React.createElement("tbody",null,t.map((function(e){var t=e.id,o=e.title,l=e.status,c=e.created_at,s=e.config,d=e.locations,u=f[null==s?void 0:s.type]?f[null==s?void 0:s.type].title:"";return React.createElement("tr",{className:"igd-shortcode-list-item"},React.createElement("td",{className:"col-selection"},React.createElement(ql,{checked:h.includes(t),onChange:function(){h.includes(t)?y(h.filter((function(e){return e!==t}))):y([].concat(Ul(h),[t]))}})),_.includes("ID")&&React.createElement("td",{className:"col-id"},t),React.createElement("td",{className:"col-title"},o),_.includes("type")&&React.createElement("td",{className:"col-shortcode-type"},React.createElement("div",null,React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/shortcode-builder/types/").concat(s.type,".svg"),alt:o}),React.createElement("span",null,u))),_.includes("status")&&React.createElement("td",{className:"col-shortcode-status"},React.createElement(Vl,{checked:"on"===l,onChange:function(){i(Ll(Ll({},s),{},{id:t,status:"on"===l?"off":"on"}))}})),_.includes("shortcode")&&React.createElement("td",{className:"col-code"},React.createElement("div",null,React.createElement("i",{"data-tooltip-content":wp.i18n.__("Copy shortcode","integrate-google-drive"),"data-tooltip-id":"copyShortcode",className:"dashicons dashicons-admin-page",onClick:kt}),React.createElement(rt,{id:"copyShortcode",effect:"solid",place:"top",className:"igd-tooltip"}),React.createElement("code",{onClick:kt},'[integrate_google_drive id="'.concat(t,'"]')))),_.includes("locations")&&React.createElement("td",{className:"col-locations"},d&&d.length>0?React.createElement("div",{className:"shortcode-locations"},React.createElement("span",{"data-tooltip-id":"shortcodeLocations-".concat(t),className:"location-count"},d.length),React.createElement(rt,{id:"shortcodeLocations-".concat(t),effect:"solid",place:"top",delayHide:1e3,variant:"light",clickable:!0,border:"1px solid #ddd",scrollHide:!1,className:"igd-tooltip locations-tooltip",globalEventOff:"click"},React.createElement("h3",null,wp.i18n.__("Shortcode Locations","integrate-google-drive")),d.map((function(e,t){return React.createElement("div",{key:t,className:"location-item"},React.createElement("a",{href:e.url,target:"_blank"},React.createElement("span",{className:"location-index"},t+1,". "),React.createElement("span",{className:"location-title"},e.title),React.createElement("i",{className:"dashicons dashicons-external"})))})))):React.createElement("div",{className:"shortcode-locations"},React.createElement("span",{className:"location-count"},wp.i18n.__("0","integrate-google-drive")))),_.includes("created")&&React.createElement("td",{className:"col-created"},function(e){var t=new Date,n=Math.abs(t-new Date(e)),r=Math.floor(n/864e5);if(r>7)return Qt(e);var i=Math.floor(n/36e5),a=Math.floor(n/6e4);return r>0?r+" day"+(r>1?"s":"")+" ago":i>0?i+" hour"+(i>1?"s":"")+" ago":a+" minute"+(a>1?"s":"")+" ago"}(c)),React.createElement("td",{className:"col-actions"},React.createElement("button",{className:"igd-btn btn-primary",onClick:function(){!function(e){var t=new URL(window.location.href);t.searchParams.set("id",e),window.history.pushState({},"",t)}(t),r(t)}},React.createElement("i",{className:"dashicons dashicons-edit"}),React.createElement("span",null,wp.i18n.__("Edit","integrate-google-drive"))),React.createElement("button",{"data-tooltip-id":"toolsTooltip-".concat(t),className:"igd-btn btn-tools",onClick:function(){S(N===t?null:t)}},React.createElement("i",{className:"dashicons dashicons-ellipsis"})),React.createElement(rt,{id:"toolsTooltip-".concat(t),isOpen:N==t,setIsOpen:S,openEvents:["click"],place:"left",variant:"light",clickable:!0,border:"1px solid #ddd",className:"options-tooltip igd-tooltip",offset:-5},React.createElement("div",{className:"action-tools"},React.createElement("button",{className:"igd-btn",onClick:function(){var e;S(null),e=s,Swal.fire({html:'<div id="igd-shortcode-preview" class="igd-shortcode-preview"></div>',showConfirmButton:!1,customClass:{popup:"igd-shortcode-preview-popup",container:"igd-shortcode-preview-container"},didOpen:function(){ReactDOM.render(React.createElement(Nl,{data:e,onClose:function(){return Swal.close()}}),document.getElementById("igd-shortcode-preview"))},willClose:function(){ReactDOM.unmountComponentAtNode(document.getElementById("igd-shortcode-preview"))}})}},React.createElement("i",{className:"dashicons dashicons-visibility"}),React.createElement("span",null,wp.i18n.__("Preview","integrate-google-drive"))),React.createElement("button",{className:"igd-btn",onClick:function(){S(null),a([t])}},React.createElement("i",{className:"dashicons dashicons-admin-page"}),React.createElement("span",null,wp.i18n.__("Duplicate","integrate-google-drive"))),React.createElement("button",{className:"igd-btn",onClick:function(){S(null),Swal.fire({title:wp.i18n.__("Are you sure?","integrate-google-drive"),text:wp.i18n.__("You won't be able to revert this!","integrate-google-drive"),icon:"warning",showCancelButton:!0,confirmButtonText:wp.i18n.__("Yes, delete it!","integrate-google-drive"),cancelButtonText:wp.i18n.__("No, cancel!","integrate-google-drive"),reverseButtons:!0,focusCancel:!0,showLoaderOnConfirm:!0,customClass:{container:"igd-swal igd-swal-reverse"},preConfirm:function(){return n(t)}})}},React.createElement("i",{className:"text-red-500 dashicons dashicons-trash"}),React.createElement("span",null,wp.i18n.__("Delete","integrate-google-drive")))))))})))),React.createElement("div",{className:"igd-shortcode-list-footer"},React.createElement(zi,{className:"igd-pagination",pageCount:Math.ceil(o/s),currentPage:l,onPageChange:function(e){return c(e)}})))}function Zl(e){var t=e.setEdit;return React.createElement("div",{className:"no-item-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/shortcode-builder/placeholder.png"),alt:"No Shortcode"}),React.createElement("h3",null,wp.i18n.__("You didn't create any shortcode yet!","integrate-google-drive")),React.createElement("button",{type:"button",className:"igd-btn btn-primary",onClick:function(){return t(-1)}},React.createElement("i",{className:"dashicons dashicons-plus"}),React.createElement("span",null,wp.i18n.__("Add new shortcode","integrate-google-drive"))))}function ec(e){return ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(e)}function tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tc(Object(n),!0).forEach((function(t){rc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ec(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ec(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ec(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ic=React.useContext;function ac(e){var t=e.setTab,n=e.isEditor,r=ic(Bo),i=r.editData,a=r.setEditData,o=Dt(),l=i.type;return React.createElement("div",{className:"shortcode-module-body"},React.createElement("div",{className:"shortcode-types"},Object.keys(o).map((function(e){var r=e===l,i=o[e],c=i.title,s=i.isPro,d=i.description;return React.createElement("div",{key:e,className:"shortcode-type ".concat(s&&!igd.isPro?"pro-feature":""," ").concat(r?"active":""," ").concat(n?"edit-mode":""),onClick:function(){!s||igd.isPro?l!==e&&(a((function(t){return nc(nc({},t),{},{type:e,folders:[]})})),["embed","view","download"].includes(e)&&a((function(e){return nc(nc({},e),{},{allFolders:!1})})),t("sources")):On(wp.i18n.__("Upgrade to PRO to use this module.","integrate-google-drive"))}},s&&!igd.isPro&&React.createElement("div",{className:"pro-badge"},React.createElement("i",{className:"dashicons dashicons-lock"}),React.createElement("span",null,wp.i18n.__("PRO","integrate-google-drive"))),React.createElement("div",{className:"icon-wrap icon-".concat(e)},React.createElement("img",{className:"type-".concat(e),src:"".concat(igd.pluginUrl,"/assets/images/shortcode-builder/types/").concat(e,".svg"),alt:c})),React.createElement("span",null,c),React.createElement("p",{className:"description"},d))}))))}function oc(e,t){return oc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oc(e,t)}function lc(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,oc(e,t)}function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cc.apply(this,arguments)}function sc(e){return sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(e)}function dc(e){var t=function(e,t){if("object"!=sc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sc(t)?t:String(t)}function uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uc(Object(n),!0).forEach((function(t){var r,i,a;r=e,i=t,a=n[t],(i=dc(i))in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mc(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var pc="function"==typeof Symbol&&Symbol.observable||"@@observable",fc=function(){return Math.random().toString(36).substring(7).split("").join(".")},vc={INIT:"@@redux/INIT"+fc(),REPLACE:"@@redux/REPLACE"+fc(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+fc()}};function hc(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function yc(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(mc(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(mc(1));return n(yc)(e,t)}if("function"!=typeof e)throw new Error(mc(2));var i=e,a=t,o=[],l=o,c=!1;function s(){l===o&&(l=o.slice())}function d(){if(c)throw new Error(mc(3));return a}function u(e){if("function"!=typeof e)throw new Error(mc(4));if(c)throw new Error(mc(5));var t=!0;return s(),l.push(e),function(){if(t){if(c)throw new Error(mc(6));t=!1,s();var n=l.indexOf(e);l.splice(n,1),o=null}}}function g(e){if(!hc(e))throw new Error(mc(7));if(void 0===e.type)throw new Error(mc(8));if(c)throw new Error(mc(9));try{c=!0,a=i(a,e)}finally{c=!1}for(var t=o=l,n=0;n<t.length;n++){(0,t[n])()}return e}return g({type:vc.INIT}),(r={dispatch:g,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(mc(10));i=e,g({type:vc.REPLACE})}})[pc]=function(){var e,t=u;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(mc(11));function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[pc]=function(){return this},e},r}function wc(e,t){return function(){return t(e.apply(this,arguments))}}function bc(e,t){if("function"==typeof e)return wc(e,t);if("object"!=typeof e||null===e)throw new Error(mc(16));var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=wc(i,t))}return n}function _c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var Ec=t().createContext(null);var Rc=function(e){e()},Nc=function(){return Rc};var Sc={notify:function(){},get:function(){return[]}};function Cc(e,t){var n,r=Sc;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Nc(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Sc)},getListeners:function(){return r}};return o}var xc="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?e.useLayoutEffect:e.useEffect;const Oc=function(n){var r=n.store,i=n.context,a=n.children,o=(0,e.useMemo)((function(){var e=Cc(r);return{store:r,subscription:e}}),[r]),l=(0,e.useMemo)((function(){return r.getState()}),[r]);xc((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==r.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,l]);var c=i||Ec;return t().createElement(c.Provider,{value:o},a)};function Ac(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Pc=n(146),Ic=n.n(Pc),Dc=n(737),kc=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Fc=["reactReduxForwardedRef"],jc=[],Tc=[null,null];function Bc(e,t){var n=e[1];return[t.payload,n+1]}function Lc(e,t,n){xc((function(){return e.apply(void 0,t)}),n)}function Mc(e,t,n,r,i,a,o){e.current=r,t.current=i,n.current=!1,a.current&&(a.current=null,o())}function Uc(e,t,n,r,i,a,o,l,c,s){if(e){var d=!1,u=null,g=function(){if(!d){var e,n,g=t.getState();try{e=r(g,i.current)}catch(e){n=e,u=e}n||(u=null),e===a.current?o.current||c():(a.current=e,l.current=e,o.current=!0,s({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=g,n.trySubscribe(),g();return function(){if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,u)throw u}}}var zc=function(){return[null,0]};function Gc(n,r){void 0===r&&(r={});var i=r,a=i.getDisplayName,o=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,l=i.methodName,c=void 0===l?"connectAdvanced":l,s=i.renderCountProp,d=void 0===s?void 0:s,u=i.shouldHandleStateChanges,g=void 0===u||u,m=i.storeKey,p=void 0===m?"store":m,f=(i.withRef,i.forwardRef),v=void 0!==f&&f,h=i.context,y=void 0===h?Ec:h,w=Ac(i,kc),b=y;return function(r){var i=r.displayName||r.name||"Component",a=o(i),l=cc({},w,{getDisplayName:o,methodName:c,renderCountProp:d,shouldHandleStateChanges:g,storeKey:p,displayName:a,wrappedComponentName:i,WrappedComponent:r}),s=w.pure;var u=s?e.useMemo:function(e){return e()};function m(i){var a=(0,e.useMemo)((function(){var e=i.reactReduxForwardedRef,t=Ac(i,Fc);return[i.context,e,t]}),[i]),o=a[0],c=a[1],s=a[2],d=(0,e.useMemo)((function(){return o&&o.Consumer&&(0,Dc.isContextConsumer)(t().createElement(o.Consumer,null))?o:b}),[o,b]),m=(0,e.useContext)(d),p=Boolean(i.store)&&Boolean(i.store.getState)&&Boolean(i.store.dispatch);Boolean(m)&&Boolean(m.store);var f=p?i.store:m.store,v=(0,e.useMemo)((function(){return function(e){return n(e.dispatch,l)}(f)}),[f]),h=(0,e.useMemo)((function(){if(!g)return Tc;var e=Cc(f,p?null:m.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[f,p,m]),y=h[0],w=h[1],_=(0,e.useMemo)((function(){return p?m:cc({},m,{subscription:y})}),[p,m,y]),E=(0,e.useReducer)(Bc,jc,zc),R=E[0][0],N=E[1];if(R&&R.error)throw R.error;var S=(0,e.useRef)(),C=(0,e.useRef)(s),x=(0,e.useRef)(),O=(0,e.useRef)(!1),A=u((function(){return x.current&&s===C.current?x.current:v(f.getState(),s)}),[f,R,s]);Lc(Mc,[C,S,O,s,A,x,w]),Lc(Uc,[g,f,y,v,C,S,O,x,w,N],[f,y,v]);var P=(0,e.useMemo)((function(){return t().createElement(r,cc({},A,{ref:c}))}),[c,r,A]);return(0,e.useMemo)((function(){return g?t().createElement(d.Provider,{value:_},P):P}),[d,P,_])}var f=s?t().memo(m):m;if(f.WrappedComponent=r,f.displayName=m.displayName=a,v){var h=t().forwardRef((function(e,n){return t().createElement(f,cc({},e,{reactReduxForwardedRef:n}))}));return h.displayName=a,h.WrappedComponent=r,Ic()(h,r)}return Ic()(f,r)}}function Hc(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Wc(e,t){if(Hc(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Hc(e[n[i]],t[n[i]]))return!1;return!0}function Vc(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function qc(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Kc(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=qc(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=qc(i),i=r(t,n)),i},r}}const Qc=[function(e){return"function"==typeof e?Kc(e):void 0},function(e){return e?void 0:Vc((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?Vc((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"==typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];const Jc=[function(e){return"function"==typeof e?Kc(e):void 0},function(e){return e?void 0:Vc((function(){return{}}))}];function Yc(e,t,n){return cc({},n,e,t)}const $c=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,l){var c=e(t,n,l);return o?i&&a(c,r)||(r=c):(o=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return Yc}}];var Xc=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Zc(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function es(e,t,n,r,i){var a,o,l,c,s,d=i.areStatesEqual,u=i.areOwnPropsEqual,g=i.areStatePropsEqual,m=!1;function p(i,m){var p,f,v=!u(m,o),h=!d(i,a,m,o);return a=i,o=m,v&&h?(l=e(a,o),t.dependsOnOwnProps&&(c=t(r,o)),s=n(l,c,o)):v?(e.dependsOnOwnProps&&(l=e(a,o)),t.dependsOnOwnProps&&(c=t(r,o)),s=n(l,c,o)):h?(p=e(a,o),f=!g(p,l),l=p,f&&(s=n(l,c,o)),s):s}return function(i,d){return m?p(i,d):(l=e(a=i,o=d),c=t(r,o),s=n(l,c,o),m=!0,s)}}function ts(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=Ac(t,Xc),o=n(e,a),l=r(e,a),c=i(e,a);return(a.pure?es:Zc)(o,l,c,e,a)}var ns=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function rs(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function is(e,t){return e===t}function as(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Gc:n,i=t.mapStateToPropsFactories,a=void 0===i?Jc:i,o=t.mapDispatchToPropsFactories,l=void 0===o?Qc:o,c=t.mergePropsFactories,s=void 0===c?$c:c,d=t.selectorFactory,u=void 0===d?ts:d;return function(e,t,n,i){void 0===i&&(i={});var o=i,c=o.pure,d=void 0===c||c,g=o.areStatesEqual,m=void 0===g?is:g,p=o.areOwnPropsEqual,f=void 0===p?Wc:p,v=o.areStatePropsEqual,h=void 0===v?Wc:v,y=o.areMergedPropsEqual,w=void 0===y?Wc:y,b=Ac(o,ns),_=rs(e,a,"mapStateToProps"),E=rs(t,l,"mapDispatchToProps"),R=rs(n,s,"mergeProps");return r(u,cc({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:E,initMergeProps:R,pure:d,areStatesEqual:m,areOwnPropsEqual:f,areStatePropsEqual:h,areMergedPropsEqual:w},b))}}const os=as();const ls=ReactDOM;var cs,ss=n.n(ls);function ds(t,n){var r=(0,e.useState)((function(){return{inputs:n,result:t()}}))[0],i=(0,e.useRef)(!0),a=(0,e.useRef)(r),o=i.current||Boolean(n&&a.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(n,a.current.inputs))?a.current:{inputs:n,result:t()};return(0,e.useEffect)((function(){i.current=!1,a.current=o}),[o]),o.result}cs=ls.unstable_batchedUpdates,Rc=cs;var us=ds,gs=function(e,t){return ds((function(){return e}),t)},ms="Invariant failed";var ps=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},fs=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},vs=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},hs={top:0,right:0,bottom:0,left:0},ys=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?hs:n,i=e.border,a=void 0===i?hs:i,o=e.padding,l=void 0===o?hs:o,c=ps(fs(t,r)),s=ps(vs(t,a)),d=ps(vs(s,l));return{marginBox:c,borderBox:ps(t),paddingBox:s,contentBox:d,margin:r,border:a,padding:l}},ws=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e,t){if(!e)throw new Error(ms)}(!1),n},bs=function(e,t){var n,r,i=e.borderBox,a=e.border,o=e.margin,l=e.padding,c=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return ys({borderBox:c,border:a,margin:o,padding:l})},_s=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),bs(e,t)},Es=function(e,t){var n={top:ws(t.marginTop),right:ws(t.marginRight),bottom:ws(t.marginBottom),left:ws(t.marginLeft)},r={top:ws(t.paddingTop),right:ws(t.paddingRight),bottom:ws(t.paddingBottom),left:ws(t.paddingLeft)},i={top:ws(t.borderTopWidth),right:ws(t.borderRightWidth),bottom:ws(t.borderBottomWidth),left:ws(t.borderLeftWidth)};return ys({borderBox:e,margin:n,padding:r,border:i})},Rs=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return Es(t,n)},Ns=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Ss(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||Ns(r)&&Ns(i)))return!1;var r,i;return!0}const Cs=function(e,t){var n;void 0===t&&(t=Ss);var r,i=[],a=!1;return function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return a&&n===this&&t(o,i)||(r=e.apply(this,o),a=!0,n=this,i=o),r}};const xs=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function Os(e,t){}Os.bind(null,"warn"),Os.bind(null,"error");function As(){}function Ps(e,t,n){var r=t.map((function(t){var r=function(e,t){return cc({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((function(e){e()}))}}var Is=!0,Ds="Invariant failed";function ks(e){this.message=e}function Fs(e,t){if(!e)throw new ks(Is?Ds:Ds+": "+(t||""))}ks.prototype.toString=function(){return this.message};var js=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=As,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof ks&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}lc(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=Ps(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof ks))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(t().Component),Ts=function(e){return e+1},Bs=function(e,t){var n=e.droppableId===t.droppableId,r=Ts(e.index),i=Ts(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+i+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+i+"\n  "},Ls=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},Ms=function(e){return"\n  The item has returned to its starting position\n  of "+Ts(e.index)+"\n"},Us={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:function(e){return"\n  You have lifted an item in position "+Ts(e.source.index)+"\n"},onDragUpdate:function(e){var t=e.destination;if(t)return Bs(e.source,t);var n=e.combine;return n?Ls(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Ms(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+Bs(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+Ls(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Ms(e.source)+"\n  "}},zs={x:0,y:0},Gs=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Hs=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Ws=function(e,t){return e.x===t.x&&e.y===t.y},Vs=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},qs=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},Ks=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Qs=function(e,t){return Math.min.apply(Math,t.map((function(t){return Ks(e,t)})))},Js=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},Ys=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},$s=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Xs=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=ps({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):ps(e)},Zs=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,a=function(e,t){return t?Ys(e,t.scroll.diff.displacement):e}(t.marginBox,i),o=function(e,t,n){var r;return n&&n.increasedBy?cc({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(a,r,n);return{page:t,withPlaceholder:n,active:Xs(o,i)}},ed=function(e,t){e.frame||Fs(!1);var n=e.frame,r=Hs(t,n.scroll.initial),i=Vs(r),a=cc({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}});return cc({},e,{frame:a,subject:Zs({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a})})};function td(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function nd(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function rd(e,t){if(e.find)return e.find(t);var n=nd(e,t);return-1!==n?e[n]:void 0}function id(e){return Array.prototype.slice.call(e)}var ad=Cs((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),od=Cs((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),ld=Cs((function(e){return td(e)})),cd=Cs((function(e){return td(e)})),sd=Cs((function(e,t){var n=cd(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function dd(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function ud(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var gd=Cs((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),md=function(e,t){return e.descriptor.droppableId===t.descriptor.id},pd={point:zs,value:0},fd={invisible:{},visible:{},all:[]},vd={displaced:fd,displacedBy:pd,at:null},hd=function(e,t){return function(n){return e<=n&&n<=t}},yd=function(e){var t=hd(e.top,e.bottom),n=hd(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var i=t(r.top)||t(r.bottom),a=n(r.left)||n(r.right);if(i&&a)return!0;var o=r.top<e.top&&r.bottom>e.bottom,l=r.left<e.left&&r.right>e.right;return!(!o||!l)||(o&&a||l&&i)}},wd=function(e){var t=hd(e.top,e.bottom),n=hd(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},bd={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},_d={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Ed=function(e){var t=e.target,n=e.destination,r=e.viewport,i=e.withDroppableDisplacement,a=e.isVisibleThroughFrameFn,o=i?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:zs;return Ys(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(o,n,a)&&function(e,t,n){return n(t)(e)}(o,r,a)},Rd=function(e){return Ed(cc({},e,{isVisibleThroughFrameFn:yd}))},Nd=function(e){return Ed(cc({},e,{isVisibleThroughFrameFn:wd}))},Sd=function(e,t,n){if("boolean"==typeof n)return n;if(!t)return!0;var r=t.invisible,i=t.visible;if(r[e])return!1;var a=i[e];return!a||a.shouldAnimate};function Cd(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,a=e.forceShouldAnimate,o=e.last;return t.reduce((function(e,t){var l=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return ps(fs(n,r))}(t,r),c=t.descriptor.id;if(e.all.push(c),!Rd({target:l,destination:n,viewport:i,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var s={draggableId:c,shouldAnimate:Sd(c,o,a)};return e.visible[c]=s,e}),{all:[],visible:{},invisible:{}})}function xd(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,a=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:fd,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function Od(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,a=e.displacedBy,o=e.last,l=e.index,c=e.forceShouldAnimate,s=md(t,r);if(null==l)return xd({insideDestination:n,inHomeList:s,displacedBy:a,destination:r});var d=rd(n,(function(e){return e.descriptor.index===l}));if(!d)return xd({insideDestination:n,inHomeList:s,displacedBy:a,destination:r});var u=gd(t,n),g=n.indexOf(d);return{displaced:Cd({afterDragging:u.slice(g),destination:r,displacedBy:a,last:o,viewport:i.frame,forceShouldAnimate:c}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:l}}}}function Ad(e,t){return Boolean(t.effected[e])}var Pd=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,a=e.destination,o=e.insideDestination,l=e.previousImpact,c=e.viewport,s=e.afterCritical,d=l.at;if(d||Fs(!1),"REORDER"===d.type){var u=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var a=i.index,o=t?a+1:a-1,l=r[0].descriptor.index,c=r[r.length-1].descriptor.index;return o<l||o>(n?c:c+1)?null:o}({isMovingForward:t,isInHomeList:n,location:d.destination,insideDestination:o});return null==u?null:Od({draggable:r,insideDestination:o,destination:a,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:u})}var g=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,a=e.afterCritical;if(!n.isCombineEnabled)return null;var o=i.draggableId,l=r[o].descriptor.index;return Ad(o,a)?t?l:l-1:t?l+1:l}({isMovingForward:t,destination:a,displaced:l.displaced,draggables:i,combine:d.combine,afterCritical:s});return null==g?null:Od({draggable:r,insideDestination:o,destination:a,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:g})},Id=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=ud(n);i||Fs(!1);var a=i.draggableId,o=r[a].page.borderBox.center,l=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,a=Boolean(t.visible[r]||t.invisible[r]);return Ad(r,n)?a?zs:Vs(i.point):a?i.point:zs}({displaced:n.displaced,afterCritical:t,combineWith:a,displacedBy:n.displacedBy});return Gs(o,l)},Dd=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},kd=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Fd=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return qs(t.line,n.marginBox[t.end]+Dd(t,r),kd(t,n.marginBox,r))},jd=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return qs(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),kd(t,n.marginBox,r))},Td=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,a=e.afterCritical,o=sd(i.descriptor.id,r),l=n.page,c=i.axis;if(!o.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return qs(t.line,n.contentBox[t.start]+Dd(t,r),kd(t,n.contentBox,r))}({axis:c,moveInto:i.page,isMoving:l});var s=t.displaced,d=t.displacedBy,u=s.all[0];if(u){var g=r[u];if(Ad(u,a))return jd({axis:c,moveRelativeTo:g.page,isMoving:l});var m=bs(g.page,d.point);return jd({axis:c,moveRelativeTo:m,isMoving:l})}var p=o[o.length-1];if(p.descriptor.id===n.descriptor.id)return l.borderBox.center;if(Ad(p.descriptor.id,a)){var f=bs(p.page,Vs(a.displacedBy.point));return Fd({axis:c,moveRelativeTo:f,isMoving:l})}return Fd({axis:c,moveRelativeTo:p.page,isMoving:l})},Bd=function(e,t){var n=e.frame;return n?Gs(t,n.scroll.diff.displacement):t},Ld=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,a=e.afterCritical,o=n.page.borderBox.center,l=t.at;return r&&l?"REORDER"===l.type?Td({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a}):Id({impact:t,draggables:i,afterCritical:a}):o}(e),n=e.droppable;return n?Bd(n,t):t},Md=function(e,t){var n=Hs(t,e.scroll.initial),r=Vs(n);return{frame:ps({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Ud(e,t){return e.map((function(e){return t[e]}))}var zd=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return Gs(e.scroll.diff.displacement,t)}(e.viewport,t),i=Hs(r,n.page.borderBox.center);return Gs(n.client.borderBox.center,i)},Gd=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,a=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=void 0!==o&&o,c=Hs(r,t.page.borderBox.center),s={target:Ys(t.page.borderBox,c),destination:n,withDroppableDisplacement:a,viewport:i};return l?function(e){return Ed(cc({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=hd(e.top,e.bottom),r=hd(e.left,e.right);return function(e){return t===bd?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(s):Nd(s)},Hd=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,a=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,s=e.afterCritical;if(!r.isEnabled)return null;var d=sd(r.descriptor.id,i),u=md(n,r),g=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,a=e.previousImpact;if(!r.isCombineEnabled)return null;if(!dd(a))return null;function o(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return cc({},a,{at:t})}var l=a.displaced.all,c=l.length?l[0]:null;if(t)return c?o(c):null;var s=gd(n,i);if(!c)return s.length?o(s[s.length-1].descriptor.id):null;var d=nd(s,(function(e){return e.descriptor.id===c}));-1===d&&Fs(!1);var u=d-1;return u<0?null:o(s[u].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:d,previousImpact:a})||Pd({isMovingForward:t,isInHomeList:u,draggable:n,draggables:i,destination:r,insideDestination:d,previousImpact:a,viewport:o,afterCritical:s});if(!g)return null;var m=Ld({impact:g,draggable:n,droppable:r,draggables:i,afterCritical:s});if(Gd({draggable:n,destination:r,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:zd({pageBorderBoxCenter:m,draggable:n,viewport:o}),impact:g,scrollJumpRequest:null};var p=Hs(m,l),f=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,a=e.maxScrollChange,o=Md(n,Gs(n.scroll.current,a)),l=r.frame?ed(r,Gs(r.frame.scroll.current,a)):r,c=t.displaced,s=Cd({afterDragging:Ud(c.all,i),destination:r,displacedBy:t.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),d=Cd({afterDragging:Ud(c.all,i),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:c,forceShouldAnimate:!1}),u={},g={},m=[c,s,d];return c.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,m);t?g[e]=t:u[e]=!0})),cc({},t,{displaced:{all:c.all,invisible:u,visible:g}})}({impact:g,viewport:o,destination:r,draggables:i,maxScrollChange:p});return{clientSelection:c,impact:f,scrollJumpRequest:p}},Wd=function(e){var t=e.subject.active;return t||Fs(!1),t},Vd=function(e,t){var n=e.page.borderBox.center;return Ad(e.descriptor.id,t)?Hs(n,t.displacedBy.point):n},qd=function(e,t){var n=e.page.borderBox;return Ad(e.descriptor.id,t)?Ys(n,Vs(t.displacedBy.point)):n},Kd=Cs((function(e,t){var n=t[e.line];return{value:n,point:qs(e.line,n)}})),Qd=function(e,t){return cc({},e,{scroll:cc({},e.scroll,{max:t})})},Jd=function(e,t,n){var r=e.frame;md(t,e)&&Fs(!1),e.subject.withPlaceholder&&Fs(!1);var i=Kd(e.axis,t.displaceBy).point,a=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return qs(r.line,t[r.line]);var i=e.subject.page.contentBox[r.size],a=sd(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-i;return a<=0?null:qs(r.line,a)}(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return cc({},e,{subject:Zs({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame})});var l=a?Gs(r.scroll.max,a):r.scroll.max,c=Qd(r,l);return cc({},e,{subject:Zs({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:c}),frame:c})},Yd=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,a=e.draggables,o=e.droppables,l=e.viewport,c=e.afterCritical,s=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,a=e.viewport,o=r.subject.active;if(!o)return null;var l=r.axis,c=hd(o[l.start],o[l.end]),s=ld(i).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return yd(a.frame)(Wd(e))})).filter((function(e){var n=Wd(e);return t?o[l.crossAxisEnd]<n[l.crossAxisEnd]:n[l.crossAxisStart]<o[l.crossAxisStart]})).filter((function(e){var t=Wd(e),n=hd(t[l.start],t[l.end]);return c(t[l.start])||c(t[l.end])||n(o[l.start])||n(o[l.end])})).sort((function(e,n){var r=Wd(e)[l.crossAxisStart],i=Wd(n)[l.crossAxisStart];return t?r-i:i-r})).filter((function(e,t,n){return Wd(e)[l.crossAxisStart]===Wd(n[0])[l.crossAxisStart]}));if(!s.length)return null;if(1===s.length)return s[0];var d=s.filter((function(e){return hd(Wd(e)[l.start],Wd(e)[l.end])(n[l.line])}));return 1===d.length?d[0]:d.length>1?d.sort((function(e,t){return Wd(e)[l.start]-Wd(t)[l.start]}))[0]:s.sort((function(e,t){var r=Qs(n,$s(Wd(e))),i=Qs(n,$s(Wd(t)));return r!==i?r-i:Wd(e)[l.start]-Wd(t)[l.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:o,viewport:l});if(!s)return null;var d=sd(s.descriptor.id,a),u=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,a=e.afterCritical,o=i.filter((function(e){return Nd({target:qd(e,a),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var i=Ks(t,Bd(r,Vd(e,a))),o=Ks(t,Bd(r,Vd(n,a)));return i<o?-1:o<i?1:e.descriptor.index-n.descriptor.index}));return o[0]||null}({pageBorderBoxCenter:n,viewport:l,destination:s,insideDestination:d,afterCritical:c}),g=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,a=e.draggables,o=e.destination,l=e.viewport,c=e.afterCritical;if(!n){if(r.length)return null;var s={displaced:fd,displacedBy:pd,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},d=Ld({impact:s,draggable:i,droppable:o,draggables:a,afterCritical:c}),u=md(i,o)?o:Jd(o,i,a);return Gd({draggable:i,destination:u,newPageBorderBoxCenter:d,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?s:null}var g,m=Boolean(t[o.axis.line]<=n.page.borderBox.center[o.axis.line]),p=(g=n.descriptor.index,n.descriptor.id===i.descriptor.id||m?g:g+1),f=Kd(o.axis,i.displaceBy);return Od({draggable:i,insideDestination:r,destination:o,viewport:l,displacedBy:f,last:fd,index:p})}({previousPageBorderBoxCenter:n,destination:s,draggable:r,draggables:a,moveRelativeTo:u,insideDestination:d,viewport:l,afterCritical:c});if(!g)return null;var m=Ld({impact:g,draggable:r,droppable:s,draggables:a,afterCritical:c});return{clientSelection:zd({pageBorderBoxCenter:m,draggable:r,viewport:l}),impact:g,scrollJumpRequest:null}},$d=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Xd=function(e){var t=e.state,n=e.type,r=function(e,t){var n=$d(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),i=Boolean(r),a=t.dimensions.droppables[t.critical.droppable.id],o=r||a,l=o.axis.direction,c="vertical"===l&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===l&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(c&&!i)return null;var s="MOVE_DOWN"===n||"MOVE_RIGHT"===n,d=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,g=t.dimensions,m=g.draggables,p=g.droppables;return c?Hd({isMovingForward:s,previousPageBorderBoxCenter:u,draggable:d,destination:o,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Yd({isMovingForward:s,previousPageBorderBoxCenter:u,draggable:d,isOver:o,draggables:m,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function Zd(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function eu(e){var t=hd(e.top,e.bottom),n=hd(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function tu(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=ld(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,i=e.subject.active;if(!i)return!1;if(r=i,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(eu(i)(t.center))return!0;var a=e.axis,o=i.center[a.crossAxisLine],l=t[a.crossAxisStart],c=t[a.crossAxisEnd],s=hd(i[a.crossAxisStart],i[a.crossAxisEnd]),d=s(l),u=s(c);return!d&&!u||(d?l<o:c>o)}));return i.length?1===i.length?i[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,a=r.map((function(e){var n=e.axis,r=qs(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:Ks(i,r)}})).sort((function(e,t){return t.distance-e.distance}));return a[0]?a[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}var nu=function(e,t){return ps(Ys(e,t))};function ru(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var iu=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,a=e.previousImpact,o=e.viewport,l=e.afterCritical,c=nu(n.page.borderBox,t),s=tu({pageBorderBox:c,draggable:n,droppables:i});if(!s)return vd;var d=i[s],u=sd(d.descriptor.id,r),g=function(e,t){var n=e.frame;return n?nu(t,n.scroll.diff.value):t}(d,c);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,a=e.insideDestination,o=e.afterCritical;if(!i.isCombineEnabled)return null;var l=i.axis,c=Kd(i.axis,t.displaceBy),s=c.value,d=n[l.start],u=n[l.end],g=rd(gd(t,a),(function(e){var t=e.descriptor.id,n=e.page.borderBox,i=n[l.size]/4,a=Ad(t,o),c=ru({displaced:r.displaced,id:t});return a?c?u>n[l.start]+i&&u<n[l.end]-i:d>n[l.start]-s+i&&d<n[l.end]-s-i:c?u>n[l.start]+s+i&&u<n[l.end]+s-i:d>n[l.start]+i&&d<n[l.end]-i}));return g?{displacedBy:c,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:g,draggable:n,previousImpact:a,destination:d,insideDestination:u,afterCritical:l})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,a=e.last,o=e.viewport,l=e.afterCritical,c=r.axis,s=Kd(r.axis,n.displaceBy),d=s.value,u=t[c.start],g=t[c.end],m=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:rd(gd(n,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[c.line],r=Ad(t,l),i=ru({displaced:a,id:t});return r?i?g<=n:u<n-d:i?g<=n+d:u<n})),inHomeList:md(n,r)});return Od({draggable:n,insideDestination:i,destination:r,viewport:o,last:a,displacedBy:s,index:m})}({pageBorderBoxWithDroppableScroll:g,draggable:n,destination:d,insideDestination:u,last:a.displaced,viewport:o,afterCritical:l})},au=function(e,t){var n;return cc({},e,((n={})[t.descriptor.id]=t,n))},ou=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,i=$d(t),a=$d(n);if(!i)return r;if(i===a)return r;var o=r[i];if(!o.subject.withPlaceholder)return r;var l=function(e){var t=e.subject.withPlaceholder;t||Fs(!1);var n=e.frame;if(!n)return cc({},e,{subject:Zs({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||Fs(!1);var i=Qd(n,r);return cc({},e,{subject:Zs({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null}),frame:i})}(o);return au(r,l)},lu=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,a=e.impact,o=e.scrollJumpRequest,l=i||t.viewport,c=r||t.dimensions,s=n||t.current.client.selection,d=Hs(s,t.initial.client.selection),u={offset:d,selection:s,borderBoxCenter:Gs(t.initial.client.borderBoxCenter,d)},g={selection:Gs(u.selection,l.scroll.current),borderBoxCenter:Gs(u.borderBoxCenter,l.scroll.current),offset:Gs(u.offset,l.scroll.diff.value)},m={client:u,page:g};if("COLLECTING"===t.phase)return cc({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:m});var p=c.draggables[t.critical.draggable.id],f=a||iu({pageOffset:g.offset,draggable:p,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),v=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,a=e.impact,o=ou({previousImpact:i,impact:a,droppables:r}),l=$d(a);if(!l)return o;var c=r[l];if(md(t,c))return o;if(c.subject.withPlaceholder)return o;var s=Jd(c,t,n);return au(o,s)}({draggable:p,impact:f,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables});return cc({},t,{current:m,dimensions:{draggables:c.draggables,droppables:v},impact:f,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:!o&&null})};var cu=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,a=e.forceShouldAnimate,o=t.displaced,l=function(e,t){return e.map((function(e){return t[e]}))}(o.all,r);return cc({},t,{displaced:Cd({afterDragging:l,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:a,last:o})})},su=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,a=e.viewport,o=e.afterCritical,l=Ld({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o});return zd({pageBorderBoxCenter:l,draggable:n,viewport:a})},du=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&Fs(!1);var i=t.impact,a=r||t.viewport,o=n||t.dimensions,l=o.draggables,c=o.droppables,s=l[t.critical.draggable.id],d=$d(i);d||Fs(!1);var u=c[d],g=cu({impact:i,viewport:a,destination:u,draggables:l}),m=su({impact:g,draggable:s,droppable:u,draggables:l,viewport:a,afterCritical:t.afterCritical});return lu({impact:g,clientSelection:m,state:t,dimensions:o,viewport:a})},uu=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,a=Kd(n.axis,t.displaceBy),o=sd(n.descriptor.id,r),l=o.indexOf(t);-1===l&&Fs(!1);var c,s=o.slice(l+1),d=s.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),u={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:a,effected:d};return{impact:{displaced:Cd({afterDragging:s,destination:n,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:(c=t.descriptor,{index:c.index,droppableId:c.droppableId})}},afterCritical:u}},gu=function(e){0},mu=function(e){0},pu=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,a=function(e){var t=e.frame;return t||Fs(!1),t}(n[t]),o=a.scroll.diff.value,l=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=bs(t.client,n),a=_s(i,r);return cc({},t,{placeholder:cc({},t.placeholder,{client:i}),client:i,page:a})}({draggable:e,offset:Gs(i,o),initialWindowScroll:r.scroll.initial});return l}))},fu=function(e){return"SNAP"===e.movementMode},vu=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:au(e.droppables,t)}}(e.dimensions,t);return!fu(e)||n?lu({state:e,dimensions:r}):du({state:e,dimensions:r})};function hu(e){return e.isDragging&&"SNAP"===e.movementMode?cc({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var yu={phase:"IDLE",completed:null,shouldFlush:!1},wu=function(e,t){if(void 0===e&&(e=yu),"FLUSH"===t.type)return cc({},yu,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Fs(!1);var n=t.payload,r=n.critical,i=n.clientSelection,a=n.viewport,o=n.dimensions,l=n.movementMode,c=o.draggables[r.draggable.id],s=o.droppables[r.droppable.id],d={selection:i,borderBoxCenter:c.client.borderBox.center,offset:zs},u={client:d,page:{selection:Gs(d.selection,a.scroll.initial),borderBoxCenter:Gs(d.selection,a.scroll.initial),offset:Gs(d.selection,a.scroll.diff.value)}},g=ld(o.droppables).every((function(e){return!e.isFixedOnPage})),m=uu({draggable:c,home:s,draggables:o.draggables,viewport:a}),p=m.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:o,initial:u,current:u,isWindowScrollAllowed:g,impact:p,afterCritical:m.afterCritical,onLiftImpact:p,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Fs(!1),cc({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Fs(!1),function(e){var t=e.state,n=e.published;gu();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return ed(n,e.scroll)})),i=cc({},t.dimensions.droppables,{},ad(r)),a=od(pu({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),o=cc({},t.dimensions.draggables,{},a);n.removals.forEach((function(e){delete o[e]}));var l={droppables:i,draggables:o},c=$d(t.impact),s=c?l.droppables[c]:null,d=l.draggables[t.critical.draggable.id],u=l.droppables[t.critical.droppable.id],g=uu({draggable:d,home:u,draggables:o,viewport:t.viewport}),m=g.impact,p=g.afterCritical,f=s&&s.isCombineEnabled?t.impact:m,v=iu({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:f,viewport:t.viewport,afterCritical:p});mu();var h=cc({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:v,onLiftImpact:m,dimensions:l,afterCritical:p,forceShouldAnimate:!1});return"COLLECTING"===t.phase?h:cc({phase:"DROP_PENDING"},h,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Zd(e)||Fs(!1);var f=t.payload.client;return Ws(f,e.current.client.selection)?e:lu({state:e,clientSelection:f,impact:fu(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return hu(e);if("COLLECTING"===e.phase)return hu(e);Zd(e)||Fs(!1);var v=t.payload,h=v.id,y=v.newScroll,w=e.dimensions.droppables[h];if(!w)return e;var b=ed(w,y);return vu(e,b,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Zd(e)||Fs(!1);var _=t.payload,E=_.id,R=_.isEnabled,N=e.dimensions.droppables[E];N||Fs(!1),N.isEnabled===R&&Fs(!1);var S=cc({},N,{isEnabled:R});return vu(e,S,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Zd(e)||Fs(!1);var C=t.payload,x=C.id,O=C.isCombineEnabled,A=e.dimensions.droppables[x];A||Fs(!1),A.isCombineEnabled===O&&Fs(!1);var P=cc({},A,{isCombineEnabled:O});return vu(e,P,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Zd(e)||Fs(!1),e.isWindowScrollAllowed||Fs(!1);var I=t.payload.newScroll;if(Ws(e.viewport.scroll.current,I))return hu(e);var D=Md(e.viewport,I);return fu(e)?du({state:e,viewport:D}):lu({state:e,viewport:D})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Zd(e))return e;var k=t.payload.maxScroll;if(Ws(k,e.viewport.scroll.max))return e;var F=cc({},e.viewport,{scroll:cc({},e.viewport.scroll,{max:k})});return cc({phase:"DRAGGING"},e,{viewport:F})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Fs(!1);var j=Xd({state:e,type:t.type});return j?lu({state:e,impact:j.impact,clientSelection:j.clientSelection,scrollJumpRequest:j.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var T=t.payload.reason;return"COLLECTING"!==e.phase&&Fs(!1),cc({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:T})}if("DROP_ANIMATE"===t.type){var B=t.payload,L=B.completed,M=B.dropDuration,U=B.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Fs(!1),{phase:"DROP_ANIMATING",completed:L,dropDuration:M,newHomeClientOffset:U,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},bu=function(e){return{type:"LIFT",payload:e}},_u=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Eu=function(){return{type:"COLLECTION_STARTING",payload:null}},Ru=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Nu=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Su=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Cu=function(e){return{type:"MOVE",payload:e}},xu=function(){return{type:"MOVE_UP",payload:null}},Ou=function(){return{type:"MOVE_DOWN",payload:null}},Au=function(){return{type:"MOVE_RIGHT",payload:null}},Pu=function(){return{type:"MOVE_LEFT",payload:null}},Iu=function(){return{type:"FLUSH",payload:null}},Du=function(e){return{type:"DROP_COMPLETE",payload:e}},ku=function(e){return{type:"DROP",payload:e}},Fu=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var ju="cubic-bezier(.2,1,.1,1)",Tu={drop:0,combining:.7},Bu={drop:.75},Lu=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Mu={fluid:"opacity "+Lu,snap:"transform "+Lu+", opacity "+Lu,drop:function(e){var t=e+"s "+ju;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Lu,placeholder:"height "+Lu+", width "+Lu+", margin "+Lu},Uu=function(e){return Ws(e,zs)?null:"translate("+e.x+"px, "+e.y+"px)"},zu={moveTo:Uu,drop:function(e,t){var n=Uu(e);return n?t?n+" scale("+Bu.drop+")":n:null}},Gu=.33,Hu=.55,Wu=Hu-Gu,Vu=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var i=t(),a=r.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){"DROP_PENDING"===i.phase&&i.isWaiting&&Fs(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&Fs(!1);var o=i.critical,l=i.dimensions,c=l.draggables[i.critical.draggable.id],s=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,a=e.viewport,o=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:cc({},r,{displaced:fd}),didDropInsideDroppable:!0}:{impact:cu({draggables:t,impact:o,destination:i,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),d=s.impact,u=s.didDropInsideDroppable,g=u?dd(d):null,m=u?ud(d):null,p={index:o.draggable.index,droppableId:o.droppable.id},f={draggableId:c.descriptor.id,type:c.descriptor.type,source:p,reason:a,mode:i.movementMode,destination:g,combine:m},v=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,a=e.afterCritical,o=r.draggables,l=r.droppables,c=$d(t),s=c?l[c]:null,d=l[n.descriptor.droppableId],u=su({impact:t,draggable:n,draggables:o,afterCritical:a,droppable:s||d,viewport:i});return Hs(u,n.client.borderBox.center)}({impact:d,draggable:c,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),h={critical:i.critical,afterCritical:i.afterCritical,result:f,impact:d};if(!Ws(i.current.client.offset,v)||Boolean(f.combine)){var y=function(e){var t=e.current,n=e.destination,r=e.reason,i=Ks(t,n);if(i<=0)return Gu;if(i>=1500)return Hu;var a=Gu+Wu*(i/1500);return Number(("CANCEL"===r?.6*a:a).toFixed(2))}({current:i.current.client.offset,destination:v,reason:a});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:v,dropDuration:y,completed:h}))}else n(Du({completed:h}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:a}))}else e(r)}}},qu=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Ku(e){var t=e.onWindowScroll;var n=xs((function(){t(qu())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),i=As;function a(){return i!==As}return{start:function(){a()&&Fs(!1),i=Ps(window,[r])},stop:function(){a()||Fs(!1),n.cancel(),i(),i=As},isActive:a}}var Qu=function(e){var t=Ku({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Ju=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=nd(e,(function(e){return e.timerId===t}));-1===n&&Fs(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},Yu=function(e,t){gu(),t(),mu()},$u=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Xu=function(e,t,n,r){if(e){var i=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),i=function(i){t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=function(){return t},i}(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}else n(r(t))},Zu=function(e,t){var n=function(e,t){var n=Ju(),r=null,i=function(n){r||Fs(!1),r=null,Yu(0,(function(){return Xu(e().onDragEnd,n,t,Us.onDragEnd)}))};return{beforeCapture:function(t,n){r&&Fs(!1),Yu(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&Fs(!1),Yu(0,(function(){var r=e().onBeforeDragStart;r&&r($u(t,n))}))},start:function(i,a){r&&Fs(!1);var o=$u(i,a);r={mode:a,lastCritical:i,lastLocation:o.source,lastCombine:null},n.add((function(){Yu(0,(function(){return Xu(e().onDragStart,o,t,Us.onDragStart)}))}))},update:function(i,a){var o=dd(a),l=ud(a);r||Fs(!1);var c=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(i,r.lastCritical);c&&(r.lastCritical=i);var s,d,u=(d=o,!(null==(s=r.lastLocation)&&null==d||null!=s&&null!=d&&s.droppableId===d.droppableId&&s.index===d.index));u&&(r.lastLocation=o);var g=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,l);if(g&&(r.lastCombine=l),c||u||g){var m=cc({},$u(i,r.mode),{combine:l,destination:o});n.add((function(){Yu(0,(function(){return Xu(e().onDragUpdate,m,t,Us.onDragUpdate)}))}))}},flush:function(){r||Fs(!1),n.flush()},drop:i,abort:function(){if(r){var e=cc({},$u(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var i=r.payload.critical;return n.beforeStart(i,r.payload.movementMode),t(r),void n.start(i,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var a=r.payload.completed.result;return n.flush(),t(r),void n.drop(a)}if(t(r),"FLUSH"!==r.type){var o=e.getState();"DRAGGING"===o.phase&&n.update(o.critical,o.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},eg=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&Fs(!1),e.dispatch(Du({completed:r.completed}))}else t(n)}}},tg=function(e){var t=null,n=null;return function(r){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),"DROP_ANIMATE"===i.type){var a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=Ps(window,[a])}))}}}},ng=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(ku({reason:r.reason})))}}}},rg=_c,ig=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,i=e.styleMarshal,a=e.getResponders,o=e.announce,l=e.autoScroller;return yc(wu,rg(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(mc(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=_c.apply(void 0,a)(n.dispatch),gc(gc({},n),{},{dispatch:r})}}}((t=i,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(i){if("LIFT"===i.type){var a=i.payload,o=a.id,l=a.clientSelection,c=a.movementMode,s=n();"DROP_ANIMATING"===s.phase&&r(Du({completed:s.completed})),"IDLE"!==n().phase&&Fs(!1),r(Iu()),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:c}});var d={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===c}},u=e.startPublishing(d),g=u.critical,m=u.dimensions,p=u.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:g,dimensions:m,clientSelection:l,movementMode:c,viewport:p}})}else t(i)}}}}(n),Vu,eg,tg,ng,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var i=t.getState();return"DRAGGING"!==i.phase&&Fs(!1),void e.start(i)}n(r),e.scroll(t.getState())}}}}(l),Qu,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Zu(a,o))))};var ag=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,a=Hs({x:n,y:t},{x:i,y:r});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},og=function(){var e=document.documentElement;return e||Fs(!1),e},lg=function(){var e=og();return ag({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},cg=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;gu();var i,a,o,l,c,s,d,u=(i=qu(),a=lg(),o=i.y,l=i.x,c=og(),s=c.clientWidth,d=c.clientHeight,{frame:ps({top:o,left:l,right:l+s,bottom:o+d}),scroll:{initial:i,current:i,max:a,diff:{value:zs,displacement:zs}}}),g=u.scroll.current,m=t.droppable,p=r.droppable.getAllByType(m.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(g,n)})),f=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(g)})),v={draggables:od(f),droppables:ad(p)};return mu(),{dimensions:v,critical:t,viewport:u}};function sg(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var dg,ug,gg=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},i=null,a=function(){i||(n.collectionStarting(),i=requestAnimationFrame((function(){i=null,gu();var e=r,a=e.additions,o=e.removals,l=e.modified,c=Object.keys(a).map((function(e){return t.draggable.getById(e).getDimension(zs)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),s=Object.keys(l).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),d={additions:c,removals:Object.keys(o),modified:s};r={additions:{},removals:{},modified:{}},mu(),n.publish(d)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],a()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],a()},stop:function(){i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(t){n||Fs(!1);var i=n.critical.draggable;"ADDITION"===t.type&&sg(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&sg(e,i,t.value)&&r.remove(t.value)},a={updateDroppableIsEnabled:function(r,i){e.droppable.exists(r)||Fs(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:function(r,i){n&&(e.droppable.exists(r)||Fs(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,i){n&&(e.droppable.exists(r)||Fs(!1),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:function(t){n&&Fs(!1);var r=e.draggable.getById(t.draggableId),a=e.droppable.getById(r.descriptor.droppableId),o={draggable:r.descriptor,droppable:a.descriptor},l=e.subscribe(i);return n={critical:o,unsubscribe:l},cg({critical:o,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return a},mg=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},pg=function(e){window.scrollBy(e.x,e.y)},fg=Cs((function(e){return ld(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),vg=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var a=function(e,t){var n=rd(fg(t),(function(t){return t.frame||Fs(!1),eu(t.frame.pageMarginBox)(e)}));return n}(t,r);return a},hg=.25,yg=.05,wg=28,bg=function(e){return Math.pow(e,2)},_g={stopDampeningAt:1200,accelerateAt:360},Eg=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;return 0===i?0:(r-t)/i},Rg=_g.accelerateAt,Ng=_g.stopDampeningAt,Sg=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,a=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return wg;if(e===t.startScrollingFrom)return 1;var n=Eg({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=wg*bg(1-n);return Math.ceil(r)}(t,n);return 0===a?0:i?Math.max(function(e,t){var n=t,r=Ng,i=Date.now()-n;if(i>=Ng)return e;if(i<Rg)return 1;var a=Eg({startOfRange:Rg,endOfRange:r,current:i}),o=e*bg(a);return Math.ceil(o)}(a,r),1):a},Cg=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,a=e.shouldUseTimeDampening,o=function(e,t){return{startScrollingFrom:e[t.size]*hg,maxScrollValueAt:e[t.size]*yg}}(t,i);return n[i.end]<n[i.start]?Sg({distanceToEdge:n[i.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a}):-1*Sg({distanceToEdge:n[i.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a})},xg=Js((function(e){return 0===e?0:e})),Og=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,a=e.shouldUseTimeDampening,o={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},l=Cg({container:n,distanceToEdges:o,dragStartTime:t,axis:bd,shouldUseTimeDampening:a}),c=Cg({container:n,distanceToEdges:o,dragStartTime:t,axis:_d,shouldUseTimeDampening:a}),s=xg({x:c,y:l});if(Ws(s,zs))return null;var d=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,a=n.width>t.width;return a||i?a&&i?null:{x:a?0:r.x,y:i?0:r.y}:r}({container:n,subject:r,proposedScroll:s});return d?Ws(d,zs)?null:d:null},Ag=Js((function(e){return 0===e?0:e>0?1:-1})),Pg=(dg=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,n=e.max,r=e.change,i=Gs(t,r),a={x:dg(i.x,n.x),y:dg(i.y,n.y)};return Ws(a,zs)?null:a}),Ig=function(e){var t=e.max,n=e.current,r=e.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},a=Ag(r),o=Pg({max:i,current:n,change:a});return!o||(0!==a.x&&0===o.x||0!==a.y&&0===o.y)},Dg=function(e,t){return Ig({current:e.scroll.current,max:e.scroll.max,change:t})},kg=function(e,t){var n=e.frame;return!!n&&Ig({current:n.scroll.current,max:n.scroll.max,change:t})},Fg=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,a=e.scrollDroppable,o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var c=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,o=Og({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:a});return o&&Dg(t,o)?o:null}({dragStartTime:n,viewport:t.viewport,subject:l,center:o,shouldUseTimeDampening:r});if(c)return void i(c)}var s=vg({center:o,destination:$d(t.impact),droppables:t.dimensions.droppables});if(s){var d=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var l=Og({dragStartTime:i,container:o.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:a});return l&&kg(t,l)?l:null}({dragStartTime:n,droppable:s,subject:l,center:o,shouldUseTimeDampening:r});d&&a(s.descriptor.id,d)}},jg=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(e,t){if(!kg(e,t))return t;var r=function(e,t){var n=e.frame;return n&&kg(e,t)?Pg({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var i=Hs(t,r);return n(e.descriptor.id,i),Hs(t,i)},a=function(e,t,n){if(!e)return n;if(!Dg(t,n))return n;var i=function(e,t){if(!Dg(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return Pg({current:r,max:n,change:t})}(t,n);if(!i)return r(n),null;var a=Hs(n,i);return r(a),Hs(n,a)};return function(e){var n=e.scrollJumpRequest;if(n){var r=$d(e.impact);r||Fs(!1);var o=i(e.dimensions.droppables[r],n);if(o){var l=e.viewport,c=a(e.isWindowScrollAllowed,l,o);c&&function(e,n){var r=Gs(e.current.client.selection,n);t({client:r})}(e,c)}}}},Tg=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=xs(t),i=xs(n),a=null,o=function(e){a||Fs(!1);var t=a,n=t.shouldUseTimeDampening,o=t.dragStartTime;Fg({state:e,scrollWindow:r,scrollDroppable:i,dragStartTime:o,shouldUseTimeDampening:n})};return{start:function(e){gu(),a&&Fs(!1);var t=Date.now(),n=!1,r=function(){n=!0};Fg({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),a={dragStartTime:t,shouldUseTimeDampening:n},mu(),n&&o(e)},stop:function(){a&&(r.cancel(),i.cancel(),a=null)},scroll:o}}({scrollWindow:n,scrollDroppable:t}),a=jg({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&a(e):i.scroll(e))},start:i.start,stop:i.stop}},Bg="data-rbd",Lg={base:ug=Bg+"-drag-handle",draggableId:ug+"-draggable-id",contextId:ug+"-context-id"},Mg=function(){var e=Bg+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Ug=function(){var e=Bg+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),zg={contextId:Bg+"-scroll-container-context-id"},Gg=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},Hg=function(e){var t,n,r,i=(t=e,function(e){return"["+e+'="'+t+'"]'}),a=(n="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:i(Lg.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:n,dragging:"pointer-events: none;",dropAnimating:n}}),o=[(r="\n      transition: "+Mu.outOfTheWay+";\n    ",{selector:i(Mg.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),a,{selector:i(Ug.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Gg(o,"always"),resting:Gg(o,"resting"),dragging:Gg(o,"dragging"),dropAnimating:Gg(o,"dropAnimating"),userCancel:Gg(o,"userCancel")}},Wg="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?e.useLayoutEffect:e.useEffect,Vg=function(){var e=document.querySelector("head");return e||Fs(!1),e},qg=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};var Kg=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Qg(e){return e instanceof Kg(e).HTMLElement}function Jg(e,t){var n="["+Lg.contextId+'="'+e+'"]',r=id(document.querySelectorAll(n));if(!r.length)return null;var i=rd(r,(function(e){return e.getAttribute(Lg.draggableId)===t}));return i&&Qg(i)?i:null}function Yg(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function i(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var i=t.descriptor.id,a=r(i);a&&t.uniqueId===a.uniqueId&&(delete e.draggables[i],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||Fs(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return td(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=i(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=i(e);return t||Fs(!1),t},findById:i,exists:function(e){return Boolean(i(e))},getAllByType:function(t){return td(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var $g=t().createContext(null),Xg=function(){var e=document.body;return e||Fs(!1),e},Zg={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},em=function(e){return"rbd-announcement-"+e};var tm=0,nm={separator:"::"};function rm(e,t){return void 0===t&&(t=nm),us((function(){return""+e+t.separator+tm++}),[t.separator,e])}var im=t().createContext(null);function am(e){0}function om(e,t){am()}function lm(t){var n=(0,e.useRef)(t);return(0,e.useEffect)((function(){n.current=t})),n}var cm,sm=27,dm=32,um=37,gm=38,mm=39,pm=40,fm=((cm={})[13]=!0,cm[9]=!0,cm),vm=function(e){fm[e.keyCode]&&e.preventDefault()},hm=function(){var e="visibilitychange";return"undefined"==typeof document?e:rd([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}(),ym=0,wm=5;var bm,_m={type:"IDLE"};function Em(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,a=e.clientY;if(t===ym){var o={x:n,y:a},l=r();if("DRAGGING"===l.type)return e.preventDefault(),void l.actions.move(o);"PENDING"!==l.type&&Fs(!1);var c=l.point;if(s=c,d=o,Math.abs(d.x-s.x)>=wm||Math.abs(d.y-s.y)>=wm){var s,d;e.preventDefault();var u=l.actions.fluidLift(o);i({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return e.keyCode===sm?(e.preventDefault(),void t()):void vm(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&Fs(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:hm,fn:t}]}function Rm(){}var Nm=((bm={})[34]=!0,bm[33]=!0,bm[36]=!0,bm[35]=!0,bm);function Sm(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return r.keyCode===sm?(r.preventDefault(),void n()):r.keyCode===dm?(r.preventDefault(),t(),void e.drop()):r.keyCode===pm?(r.preventDefault(),void e.moveDown()):r.keyCode===gm?(r.preventDefault(),void e.moveUp()):r.keyCode===mm?(r.preventDefault(),void e.moveRight()):r.keyCode===um?(r.preventDefault(),void e.moveLeft()):void(Nm[r.keyCode]?r.preventDefault():vm(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:hm,fn:n}]}var Cm={type:"IDLE"},xm=.15;var Om={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Am(e,t){if(null==t)return!1;if(Boolean(Om[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&Am(e,t.parentElement)}function Pm(e,t){var n=t.target;return!!Qg(n)&&Am(e,n)}var Im=function(e){return ps(e.getBoundingClientRect()).center};var Dm=function(){var e="matches";return"undefined"==typeof document?e:rd([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function km(e,t){return null==e?null:e[Dm](t)?e:km(e.parentElement,t)}function Fm(e,t){return e.closest?e.closest(t):km(e,t)}function jm(e,t){var n,r=t.target;if(!((n=r)instanceof Kg(n).Element))return null;var i=function(e){return"["+Lg.contextId+'="'+e+'"]'}(e),a=Fm(r,i);return a&&Qg(a)?a:null}function Tm(e){e.preventDefault()}function Bm(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function Lm(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var a=r.draggable.findById(i);return!!a&&(!!a.options.isEnabled&&!!mg(n.getState(),i))}function Mm(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,a=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent;if(!Lm({lockAPI:t,store:r,registry:i,draggableId:a}))return null;var c=i.draggable.getById(a),s=function(e,t){var n="["+Mg.contextId+'="'+e+'"]',r=rd(id(document.querySelectorAll(n)),(function(e){return e.getAttribute(Mg.id)===t}));return r&&Qg(r)?r:null}(n,c.descriptor.id);if(!s)return null;if(l&&!c.options.canDragInteractiveElements&&Pm(s,l))return null;var d=t.claim(o||As),u="PRE_DRAG";function g(){return c.options.shouldRespectForcePress}function m(){return t.isActive(d)}var p=function(e,t){Bm({expected:e,phase:u,isLockActive:m,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function f(e){function n(){t.release(),u="COMPLETED"}function i(t,i){if(void 0===i&&(i={shouldBlockNextClick:!1}),e.cleanup(),i.shouldBlockNextClick){var a=Ps(window,[{eventName:"click",fn:Tm,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(a)}n(),r.dispatch(ku({reason:t}))}return"PRE_DRAG"!==u&&(n(),"PRE_DRAG"!==u&&Fs(!1)),r.dispatch(bu(e.liftActionArgs)),u="DRAGGING",cc({isActive:function(){return Bm({expected:"DRAGGING",phase:u,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:g,drop:function(e){return i("DROP",e)},cancel:function(e){return i("CANCEL",e)}},e.actions)}return{isActive:function(){return Bm({expected:"PRE_DRAG",phase:u,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:g,fluidLift:function(e){var t=xs((function(e){p((function(){return Cu({client:e})}))}));return cc({},f({liftActionArgs:{id:a,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return p(xu)},moveRight:function(){return p(Au)},moveDown:function(){return p(Ou)},moveLeft:function(){return p(Pu)}};return f({liftActionArgs:{id:a,clientSelection:Im(s),movementMode:"SNAP"},cleanup:As,actions:e})},abort:function(){Bm({expected:"PRE_DRAG",phase:u,isLockActive:m,shouldWarn:!0})&&t.release()}}}var Um=[function(t){var n=(0,e.useRef)(_m),r=(0,e.useRef)(As),i=us((function(){return{eventName:"mousedown",fn:function(e){if(!e.defaultPrevented&&e.button===ym&&!(e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)){var n=t.findClosestDraggableId(e);if(n){var i=t.tryGetLock(n,l,{sourceEvent:e});if(i){e.preventDefault();var a={x:e.clientX,y:e.clientY};r.current(),d(i,a)}}}}}}),[t]),a=us((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(e){if(!e.defaultPrevented){var n=t.findClosestDraggableId(e);if(n){var r=t.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||t.canGetLock(n)&&e.preventDefault())}}}}}),[t]),o=gs((function(){r.current=Ps(window,[a,i],{passive:!1,capture:!0})}),[a,i]),l=gs((function(){"IDLE"!==n.current.type&&(n.current=_m,r.current(),o())}),[o]),c=gs((function(){var e=n.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),s=gs((function(){var e=Em({cancel:c,completed:l,getPhase:function(){return n.current},setPhase:function(e){n.current=e}});r.current=Ps(window,e,{capture:!0,passive:!1})}),[c,l]),d=gs((function(e,t){"IDLE"!==n.current.type&&Fs(!1),n.current={type:"PENDING",point:t,actions:e},s()}),[s]);Wg((function(){return o(),function(){r.current()}}),[o])},function(t){var n=(0,e.useRef)(Rm),r=us((function(){return{eventName:"keydown",fn:function(e){if(!e.defaultPrevented&&e.keyCode===dm){var r=t.findClosestDraggableId(e);if(r){var a=t.tryGetLock(r,c,{sourceEvent:e});if(a){e.preventDefault();var o=!0,l=a.snapLift();n.current(),n.current=Ps(window,Sm(l,c),{capture:!0,passive:!1})}}}function c(){o||Fs(!1),o=!1,n.current(),i()}}}}),[t]),i=gs((function(){n.current=Ps(window,[r],{passive:!1,capture:!0})}),[r]);Wg((function(){return i(),function(){n.current()}}),[i])},function(t){var n=(0,e.useRef)(Cm),r=(0,e.useRef)(As),i=gs((function(){return n.current}),[]),a=gs((function(e){n.current=e}),[]),o=us((function(){return{eventName:"touchstart",fn:function(e){if(!e.defaultPrevented){var n=t.findClosestDraggableId(e);if(n){var i=t.tryGetLock(n,c,{sourceEvent:e});if(i){var a=e.touches[0],o={x:a.clientX,y:a.clientY};r.current(),g(i,o)}}}}}}),[t]),l=gs((function(){r.current=Ps(window,[o],{capture:!0,passive:!1})}),[o]),c=gs((function(){var e=n.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),a(Cm),r.current(),l())}),[l,a]),s=gs((function(){var e=n.current;c(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[c]),d=gs((function(){var e={capture:!0,passive:!1},t={cancel:s,completed:c,getPhase:i},n=Ps(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var i=e.touches[0],a={x:i.clientX,y:i.clientY};e.preventDefault(),n.actions.move(a)}else t()}},{eventName:"touchend",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&Fs(!1);var i=e.touches[0];if(i&&i.force>=xm){var a=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return a?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();a&&t()}}},{eventName:hm,fn:t}]}(t),e),a=Ps(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(e.keyCode===sm&&e.preventDefault(),t()):t()}},{eventName:hm,fn:t}]}(t),e);r.current=function(){n(),a()}}),[s,i,c]),u=gs((function(){var e=i();"PENDING"!==e.type&&Fs(!1);var t=e.actions.fluidLift(e.point);a({type:"DRAGGING",actions:t,hasMoved:!1})}),[i,a]),g=gs((function(e,t){"IDLE"!==i().type&&Fs(!1);var n=setTimeout(u,120);a({type:"PENDING",point:t,actions:e,longPressTimerId:n}),d()}),[d,i,a,u]);Wg((function(){return l(),function(){r.current();var e=i();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),a(Cm))}}),[i,l,a]),Wg((function(){return Ps(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function zm(t){var n=t.contextId,r=t.store,i=t.registry,a=t.customSensors,o=t.enableDefaultSensors,l=[].concat(o?Um:[],a||[]),c=(0,e.useState)((function(){return function(){var e=null;function t(){e||Fs(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Fs(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],s=gs((function(e,t){e.isDragging&&!t.isDragging&&c.tryAbandon()}),[c]);Wg((function(){var e=r.getState();return r.subscribe((function(){var t=r.getState();s(e,t),e=t}))}),[c,r,s]),Wg((function(){return c.tryAbandon}),[c.tryAbandon]);var d=gs((function(e){return Lm({lockAPI:c,registry:i,store:r,draggableId:e})}),[c,i,r]),u=gs((function(e,t,a){return Mm({lockAPI:c,registry:i,contextId:n,store:r,draggableId:e,forceSensorStop:t,sourceEvent:a&&a.sourceEvent?a.sourceEvent:null})}),[n,c,i,r]),g=gs((function(e){return function(e,t){var n=jm(e,t);return n?n.getAttribute(Lg.draggableId):null}(n,e)}),[n]),m=gs((function(e){var t=i.draggable.findById(e);return t?t.options:null}),[i.draggable]),p=gs((function(){c.isClaimed()&&(c.tryAbandon(),"IDLE"!==r.getState().phase&&r.dispatch(Iu()))}),[c,r]),f=gs(c.isClaimed,[c]),v=us((function(){return{canGetLock:d,tryGetLock:u,findClosestDraggableId:g,findOptionsForDraggable:m,tryReleaseLock:p,isLockClaimed:f}}),[d,u,g,m,p,f]);am();for(var h=0;h<l.length;h++)l[h](v)}var Gm=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function Hm(e){return e.current||Fs(!1),e.current}function Wm(n){var r=n.contextId,i=n.setCallbacks,a=n.sensors,o=n.nonce,l=n.dragHandleUsageInstructions,c=(0,e.useRef)(null);om();var s=lm(n),d=gs((function(){return Gm(s.current)}),[s]),u=function(t){var n=us((function(){return em(t)}),[t]),r=(0,e.useRef)(null);return(0,e.useEffect)((function(){var e=document.createElement("div");return r.current=e,e.id=n,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),cc(e.style,Zg),Xg().appendChild(e),function(){setTimeout((function(){var t=Xg();t.contains(e)&&t.removeChild(e),e===r.current&&(r.current=null)}))}}),[n]),gs((function(e){var t=r.current;t&&(t.textContent=e)}),[])}(r),g=function(t){var n=t.contextId,r=t.text,i=rm("hidden-text",{separator:"-"}),a=us((function(){return function(e){return"rbd-hidden-text-"+e.contextId+"-"+e.uniqueId}({contextId:n,uniqueId:i})}),[i,n]);return(0,e.useEffect)((function(){var e=document.createElement("div");return e.id=a,e.textContent=r,e.style.display="none",Xg().appendChild(e),function(){var t=Xg();t.contains(e)&&t.removeChild(e)}}),[a,r]),a}({contextId:r,text:l}),m=function(t,n){var r=us((function(){return Hg(t)}),[t]),i=(0,e.useRef)(null),a=(0,e.useRef)(null),o=gs(Cs((function(e){var t=a.current;t||Fs(!1),t.textContent=e})),[]),l=gs((function(e){var t=i.current;t||Fs(!1),t.textContent=e}),[]);Wg((function(){(i.current||a.current)&&Fs(!1);var e=qg(n),c=qg(n);return i.current=e,a.current=c,e.setAttribute(Bg+"-always",t),c.setAttribute(Bg+"-dynamic",t),Vg().appendChild(e),Vg().appendChild(c),l(r.always),o(r.resting),function(){var e=function(e){var t=e.current;t||Fs(!1),Vg().removeChild(t),e.current=null};e(i),e(a)}}),[n,l,o,r.always,r.resting,t]);var c=gs((function(){return o(r.dragging)}),[o,r.dragging]),s=gs((function(e){o("DROP"!==e?r.userCancel:r.dropAnimating)}),[o,r.dropAnimating,r.userCancel]),d=gs((function(){a.current&&o(r.resting)}),[o,r.resting]);return us((function(){return{dragging:c,dropping:s,resting:d}}),[c,s,d])}(r,o),p=gs((function(e){Hm(c).dispatch(e)}),[]),f=us((function(){return bc({publishWhileDragging:_u,updateDroppableScroll:Ru,updateDroppableIsEnabled:Nu,updateDroppableIsCombineEnabled:Su,collectionStarting:Eu},p)}),[p]),v=function(){var t=us(Yg,[]);return(0,e.useEffect)((function(){return function(){requestAnimationFrame(t.clean)}}),[t]),t}(),h=us((function(){return gg(v,f)}),[v,f]),y=us((function(){return Tg(cc({scrollWindow:pg,scrollDroppable:h.scrollDroppable},bc({move:Cu},p)))}),[h.scrollDroppable,p]),w=function(t){var n=(0,e.useRef)({}),r=(0,e.useRef)(null),i=(0,e.useRef)(null),a=(0,e.useRef)(!1),o=gs((function(e,t){var r={id:e,focus:t};return n.current[e]=r,function(){var t=n.current;t[e]!==r&&delete t[e]}}),[]),l=gs((function(e){var n=Jg(t,e);n&&n!==document.activeElement&&n.focus()}),[t]),c=gs((function(e,t){r.current===e&&(r.current=t)}),[]),s=gs((function(){i.current||a.current&&(i.current=requestAnimationFrame((function(){i.current=null;var e=r.current;e&&l(e)})))}),[l]),d=gs((function(e){r.current=null;var t=document.activeElement;t&&t.getAttribute(Lg.draggableId)===e&&(r.current=e)}),[]);return Wg((function(){return a.current=!0,function(){a.current=!1;var e=i.current;e&&cancelAnimationFrame(e)}}),[]),us((function(){return{register:o,tryRecordFocus:d,tryRestoreFocusRecorded:s,tryShiftRecord:c}}),[o,d,s,c])}(r),b=us((function(){return ig({announce:u,autoScroller:y,dimensionMarshal:h,focusMarshal:w,getResponders:d,styleMarshal:m})}),[u,y,h,w,d,m]);c.current=b;var _=gs((function(){var e=Hm(c);"IDLE"!==e.getState().phase&&e.dispatch(Iu())}),[]),E=gs((function(){var e=Hm(c).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);i(us((function(){return{isDragging:E,tryAbort:_}}),[E,_]));var R=gs((function(e){return mg(Hm(c).getState(),e)}),[]),N=gs((function(){return Zd(Hm(c).getState())}),[]),S=us((function(){return{marshal:h,focus:w,contextId:r,canLift:R,isMovementAllowed:N,dragHandleUsageInstructionsId:g,registry:v}}),[r,h,g,w,R,N,v]);return zm({contextId:r,store:b,registry:v,customSensors:a,enableDefaultSensors:!1!==n.enableDefaultSensors}),(0,e.useEffect)((function(){return _}),[_]),t().createElement(im.Provider,{value:S},t().createElement(Oc,{context:$g,store:b},n.children))}var Vm=0;function qm(e){var n=us((function(){return""+Vm++}),[]),r=e.dragHandleUsageInstructions||Us.dragHandleUsageInstructions;return t().createElement(js,null,(function(i){return t().createElement(Wm,{nonce:e.nonce,contextId:n,setCallbacks:i,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var Km=function(e){return function(t){return e===t}},Qm=Km("scroll"),Jm=Km("auto"),Ym=(Km("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),$m=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Ym(n,Qm)||Ym(n,Jm)},Xm=function e(t){return null==t||t===document.body||t===document.documentElement?null:$m(t)?t:e(t.parentElement)},Zm=function(e){return{x:e.scrollLeft,y:e.scrollTop}},ep=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},tp=function(e){return{closestScrollable:Xm(e),isFixedOnPage:ep(e)}},np=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,a=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,s=r.closestScrollable,d=function(e,t){var n=Rs(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,l=fs({top:r,right:o,bottom:a,left:i},n.border);return ys({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})}(t,s),u=_s(d,i),g=function(){if(!s)return null;var e=Rs(s),t={scrollHeight:s.scrollHeight,scrollWidth:s.scrollWidth};return{client:e,page:_s(e,i),scroll:Zm(s),scrollSize:t,shouldClipSubject:c}}(),m=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,a=e.direction,o=e.client,l=e.page,c=e.closest,s=function(){if(!c)return null;var e=c.scrollSize,t=c.client,n=ag({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:n,diff:{value:zs,displacement:zs}}}}(),d="vertical"===a?bd:_d;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:d,isEnabled:n,client:o,page:l,frame:s,subject:Zs({page:l,withPlaceholder:null,axis:d,frame:s})}}({descriptor:n,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:r.isFixedOnPage,direction:a,client:d,page:u,closest:g});return m},rp={passive:!1},ip={passive:!0},ap=function(e){return e.shouldPublishImmediately?rp:ip};function op(t){var n=(0,e.useContext)(t);return n||Fs(!1),n}var lp=function(e){return e&&e.env.closestScrollable||null};function cp(){}var sp={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},dp=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,i=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?sp:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Mu.placeholder:null}};var up=t().memo((function(n){var r=(0,e.useRef)(null),i=gs((function(){r.current&&(clearTimeout(r.current),r.current=null)}),[]),a=n.animate,o=n.onTransitionEnd,l=n.onClose,c=n.contextId,s=(0,e.useState)("open"===n.animate),d=s[0],u=s[1];(0,e.useEffect)((function(){return d?"open"!==a?(i(),u(!1),cp):r.current?cp:(r.current=setTimeout((function(){r.current=null,u(!1)})),i):cp}),[a,d,i]);var g=gs((function(e){"height"===e.propertyName&&(o(),"close"===a&&l())}),[a,l,o]),m=dp({isAnimatingOpenOnMount:d,animate:n.animate,placeholder:n.placeholder});return t().createElement(n.placeholder.tagName,{style:m,"data-rbd-placeholder-context-id":c,onTransitionEnd:g,ref:n.innerRef})})),gp=t().createContext(null);var mp=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return lc(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(t().PureComponent),pp={dragging:5e3,dropAnimating:4500},fp=function(e,t){return t?Mu.drop(t.duration):e?Mu.snap:Mu.fluid},vp=function(e,t){return e?t?Tu.drop:Tu.combining:null},hp=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode};function yp(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,i=e.dropping,a=Boolean(r),o=hp(e),l=Boolean(i),c=l?zu.drop(n,a):zu.moveTo(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:fp(o,i),transform:c,opacity:vp(a,l),zIndex:l?pp.dropAnimating:pp.dragging,pointerEvents:"none"}}(e):(t=e,{transform:zu.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"});var t}function bp(t){var n=rm("draggable"),r=t.descriptor,i=t.registry,a=t.getDraggableRef,o=t.canDragInteractiveElements,l=t.shouldRespectForcePress,c=t.isEnabled,s=us((function(){return{canDragInteractiveElements:o,shouldRespectForcePress:l,isEnabled:c}}),[o,c,l]),d=gs((function(e){var t=a();return t||Fs(!1),function(e,t,n){void 0===n&&(n=zs);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=Es(i,r),o=_s(a,n);return{descriptor:e,placeholder:{client:a,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:a.marginBox.width,y:a.marginBox.height},client:a,page:o}}(r,t,e)}),[r,a]),u=us((function(){return{uniqueId:n,descriptor:r,options:s,getDimension:d}}),[r,d,s,n]),g=(0,e.useRef)(u),m=(0,e.useRef)(!0);Wg((function(){return i.draggable.register(g.current),function(){return i.draggable.unregister(g.current)}}),[i.draggable]),Wg((function(){if(m.current)m.current=!1;else{var e=g.current;g.current=u,i.draggable.update(u,e)}}),[u,i.draggable])}function _p(e,t,n){om()}function Ep(e){e.preventDefault()}var Rp=function(e,t){return e===t},Np=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function Sp(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Cp={mapped:{type:"SECONDARY",offset:zs,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Sp(null)}};var xp=os((function(){var e,t,n,r=(e=Cs((function(e,t){return{x:e,y:t}})),t=Cs((function(e,t,n,r,i){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=Cs((function(e,n,r,i,a,o,l){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:a,combineWith:o,mode:n,offset:e,dimension:r,forceShouldAnimate:l,snapshot:t(n,i,a,o,null)}}})),function(r,i){if(r.isDragging){if(r.critical.draggable.id!==i.draggableId)return null;var a=r.current.client.offset,o=r.dimensions.draggables[i.draggableId],l=$d(r.impact),c=(d=r.impact).at&&"COMBINE"===d.at.type?d.at.combine.draggableId:null,s=r.forceShouldAnimate;return n(e(a.x,a.y),r.movementMode,o,i.isClone,l,c,s)}var d;if("DROP_ANIMATING"===r.phase){var u=r.completed;if(u.result.draggableId!==i.draggableId)return null;var g=i.isClone,m=r.dimensions.draggables[i.draggableId],p=u.result,f=p.mode,v=Np(p),h=function(e){return e.combine?e.combine.draggableId:null}(p),y={duration:r.dropDuration,curve:ju,moveTo:r.newHomeClientOffset,opacity:h?Tu.drop:null,scale:h?Bu.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:m,dropping:y,draggingOver:v,combineWith:h,mode:f,forceShouldAnimate:null,snapshot:t(f,g,v,h,y)}}}return null}),i=function(){var e=Cs((function(e,t){return{x:e,y:t}})),t=Cs(Sp),n=Cs((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(zs,e,!0):null},i=function(t,i,a,o){var l=a.displaced.visible[t],c=Boolean(o.inVirtualList&&o.effected[t]),s=ud(a),d=s&&s.draggableId===t?i:null;if(!l){if(!c)return r(d);if(a.displaced.invisible[t])return null;var u=Vs(o.displacedBy.point),g=e(u.x,u.y);return n(g,d,!0)}if(c)return r(d);var m=a.displacedBy.point,p=e(m.x,m.y);return n(p,d,l.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(e,t){return r(e,t)||i(e,t)||Cp}}),{dropAnimationFinished:Fu},null,{context:$g,pure:!0,areStatePropsEqual:Rp})((function(t){var n=(0,e.useRef)(null),r=gs((function(e){n.current=e}),[]),i=gs((function(){return n.current}),[]),a=op(im),o=a.contextId,l=a.dragHandleUsageInstructionsId,c=a.registry,s=op(gp),d=s.type,u=s.droppableId,g=us((function(){return{id:t.draggableId,index:t.index,type:d,droppableId:u}}),[t.draggableId,t.index,d,u]),m=t.children,p=t.draggableId,f=t.isEnabled,v=t.shouldRespectForcePress,h=t.canDragInteractiveElements,y=t.isClone,w=t.mapped,b=t.dropAnimationFinished;_p(),am(),y||bp(us((function(){return{descriptor:g,registry:c,getDraggableRef:i,canDragInteractiveElements:h,shouldRespectForcePress:v,isEnabled:f}}),[g,c,i,h,v,f]));var _=us((function(){return f?{tabIndex:0,role:"button","aria-describedby":l,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:Ep}:null}),[o,l,p,f]),E=gs((function(e){"DRAGGING"===w.type&&w.dropping&&"transform"===e.propertyName&&b()}),[b,w]),R=us((function(){var e=yp(w),t="DRAGGING"===w.type&&w.dropping?E:null;return{innerRef:r,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":p,style:e,onTransitionEnd:t},dragHandleProps:_}}),[o,_,p,w,E,r]),N=us((function(){return{draggableId:g.id,type:g.type,source:{index:g.index,droppableId:g.droppableId}}}),[g.droppableId,g.id,g.index,g.type]);return m(R,w.snapshot,N)}));function Op(e){return op(gp).isUsingCloneFor!==e.draggableId||e.isClone?t().createElement(xp,e):null}function Ap(e){var n="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,r=Boolean(e.disableInteractiveElementBlocking),i=Boolean(e.shouldRespectForcePress);return t().createElement(Op,cc({},e,{isClone:!1,isEnabled:n,canDragInteractiveElements:r,shouldRespectForcePress:i}))}var Pp=function(e,t){return e===t.droppable.type},Ip=function(e,t){return t.draggables[e.draggable.id]};var Dp={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Fs(!1),document.body}},kp=os((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=cc({},e,{shouldAnimatePlaceholder:!1}),n=Cs((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=Cs((function(r,i,a,o,l,c){var s=l.descriptor.id;if(l.descriptor.droppableId===r){var d=c?{render:c,dragging:n(l.descriptor)}:null,u={isDraggingOver:a,draggingOverWith:a?s:null,draggingFromThisWith:s,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!1,snapshot:u,useClone:d}}if(!i)return t;if(!o)return e;var g={isDraggingOver:a,draggingOverWith:s,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!0,snapshot:g,useClone:null}}));return function(n,i){var a=i.droppableId,o=i.type,l=!i.isDropDisabled,c=i.renderClone;if(n.isDragging){var s=n.critical;if(!Pp(o,s))return t;var d=Ip(s,n.dimensions),u=$d(n.impact)===a;return r(a,l,u,u,d,c)}if("DROP_ANIMATING"===n.phase){var g=n.completed;if(!Pp(o,g.critical))return t;var m=Ip(g.critical,n.dimensions);return r(a,l,Np(g.result)===a,$d(g.impact)===a,m,c)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var p=n.completed;if(!Pp(o,p.critical))return t;var f=$d(p.impact)===a,v=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),h=p.critical.droppable.id===a;return f?v?e:t:h?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:$g,pure:!0,areStatePropsEqual:Rp})((function(n){var r=(0,e.useContext)(im);r||Fs(!1);var i=r.contextId,a=r.isMovementAllowed,o=(0,e.useRef)(null),l=(0,e.useRef)(null),c=n.children,s=n.droppableId,d=n.type,u=n.mode,g=n.direction,m=n.ignoreContainerClipping,p=n.isDropDisabled,f=n.isCombineEnabled,v=n.snapshot,h=n.useClone,y=n.updateViewportMaxScroll,w=n.getContainerForClone,b=gs((function(){return o.current}),[]),_=gs((function(e){o.current=e}),[]),E=(gs((function(){return l.current}),[]),gs((function(e){l.current=e}),[]));om();var R=gs((function(){a()&&y({maxScroll:lg()})}),[a,y]);!function(t){var n=(0,e.useRef)(null),r=op(im),i=rm("droppable"),a=r.registry,o=r.marshal,l=lm(t),c=us((function(){return{id:t.droppableId,type:t.type,mode:t.mode}}),[t.droppableId,t.mode,t.type]),s=(0,e.useRef)(c),d=us((function(){return Cs((function(e,t){n.current||Fs(!1);var r={x:e,y:t};o.updateDroppableScroll(c.id,r)}))}),[c.id,o]),u=gs((function(){var e=n.current;return e&&e.env.closestScrollable?Zm(e.env.closestScrollable):zs}),[]),g=gs((function(){var e=u();d(e.x,e.y)}),[u,d]),m=us((function(){return xs(g)}),[g]),p=gs((function(){var e=n.current,t=lp(e);e&&t||Fs(!1),e.scrollOptions.shouldPublishImmediately?g():m()}),[m,g]),f=gs((function(e,t){n.current&&Fs(!1);var i=l.current,a=i.getDroppableRef();a||Fs(!1);var o=tp(a),s={ref:a,descriptor:c,env:o,scrollOptions:t};n.current=s;var d=np({ref:a,descriptor:c,env:o,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),u=o.closestScrollable;return u&&(u.setAttribute(zg.contextId,r.contextId),u.addEventListener("scroll",p,ap(s.scrollOptions))),d}),[r.contextId,c,p,l]),v=gs((function(){var e=n.current,t=lp(e);return e&&t||Fs(!1),Zm(t)}),[]),h=gs((function(){var e=n.current;e||Fs(!1);var t=lp(e);n.current=null,t&&(m.cancel(),t.removeAttribute(zg.contextId),t.removeEventListener("scroll",p,ap(e.scrollOptions)))}),[p,m]),y=gs((function(e){var t=n.current;t||Fs(!1);var r=lp(t);r||Fs(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),w=us((function(){return{getDimensionAndWatchScroll:f,getScrollWhileDragging:v,dragStopped:h,scroll:y}}),[h,f,v,y]),b=us((function(){return{uniqueId:i,descriptor:c,callbacks:w}}),[w,c,i]);Wg((function(){return s.current=b.descriptor,a.droppable.register(b),function(){n.current&&h(),a.droppable.unregister(b)}}),[w,c,h,b,o,a.droppable]),Wg((function(){n.current&&o.updateDroppableIsEnabled(s.current.id,!t.isDropDisabled)}),[t.isDropDisabled,o]),Wg((function(){n.current&&o.updateDroppableIsCombineEnabled(s.current.id,t.isCombineEnabled)}),[t.isCombineEnabled,o])}({droppableId:s,type:d,mode:u,direction:g,isDropDisabled:p,isCombineEnabled:f,ignoreContainerClipping:m,getDroppableRef:b});var N=t().createElement(mp,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},(function(e){var n=e.onClose,r=e.data,a=e.animate;return t().createElement(up,{placeholder:r,onClose:n,innerRef:E,animate:a,contextId:i,onTransitionEnd:R})})),S=us((function(){return{innerRef:_,placeholder:N,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":i}}}),[i,s,N,_]),C=h?h.dragging.draggableId:null,x=us((function(){return{droppableId:s,type:d,isUsingCloneFor:C}}),[s,C,d]);return t().createElement(gp.Provider,{value:x},c(S,v),function(){if(!h)return null;var e=h.dragging,n=h.render,r=t().createElement(Op,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(t,r){return n(t,r,e)}));return ss().createPortal(r,w())}())}));function Fp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}kp.defaultProps=Dp;var Tp=React.useState;function Bp(e){var t=e.initData,n=e.onUpdate,r=e.onClose,i=e.isSelectFiles,a=e.selectionType,o=e.isFormBuilder,l=e.isLMS,c=e.isWooCommerce,s=Fp(Tp(t),2),d=s[0],u=s[1],g=wp.i18n.__("Configure Module","integrate-google-drive"),m="dashicons dashicons-admin-generic";return i?("folders"===a?(g=wp.i18n.__("Select Folders","integrate-google-drive"),m="dashicons dashicons-open-folder"):g=wp.i18n.__("Select Files","integrate-google-drive"),m="dashicons dashicons-open-folder"):l&&(g=wp.i18n.__("Select Video","integrate-google-drive"),m="dashicons dashicons-video-alt3"),React.createElement("div",{className:"igd-module-builder-modal",onClick:function(e){return e.stopPropagation()}},React.createElement("div",{className:"igd-module-builder-modal-header"},React.createElement("div",{className:"header-title"},React.createElement("i",{className:m}),React.createElement("h3",null,g)),React.createElement("button",{type:"button",className:"igd-btn btn-danger close",onClick:r},React.createElement("i",{className:"dashicons dashicons-no-alt"}),React.createElement("span",null,wp.i18n.__("Cancel","integrate-google-drive"))),React.createElement("button",{type:"button",className:"igd-btn btn-primary done",onClick:function(){return n(d)}},React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("div",{className:"igd-spinner"}),React.createElement("span",null,wp.i18n.__("Done","integrate-google-drive")))),React.createElement(Lo,{value:{editData:d,setEditData:u,updateShortcode:function(e){return n(e)},isEditor:!0,builderType:d.type,isSelectFiles:i,selectionType:a,isFormBuilder:o,isLMS:l,isWooCommerce:c}},React.createElement(Av,null)))}var Lp=React,Mp=Lp.useEffect,Up=Lp.useRef;const zp=function(e){var t=e.isOpen,n=e.onClose,r=e.children,i=Up();return Mp((function(){var e=function(e){i.current&&!i.current.contains(e.target)&&n()};return t?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t,n]),t?ReactDOM.createPortal(React.createElement("div",{className:"igd-modal-overlay"},React.createElement("div",{className:"igd-modal-content",ref:i},r)),document.body):null};function Gp(e){return Gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(e)}function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hp.apply(this,arguments)}function Wp(e){return function(e){if(Array.isArray(e))return Yp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Jp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vp(Object(n),!0).forEach((function(t){Kp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kp(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Gp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||Jp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jp(e,t){if(e){if("string"==typeof e)return Yp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yp(e,t):void 0}}function Yp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $p=wp.components,Xp=$p.FormToggle,Zp=$p.ButtonGroup,ef=$p.Button,tf=React,nf=tf.useEffect,rf=tf.useRef,af=tf.useContext,of=tf.useState;function lf(){var e,t=igd,n=t.isPro,r=t.settings,i=af(Bo),a=i.editData,o=i.setEditData,l=i.isSelectFiles,c=i.isInlineSelect,s=i.isFormBuilder,d=i.selectionType,u=i.isEditor,g=i.isLMS,m=i.initParentFolder,p=i.initFolders,f=i.isWooCommerce,v=a.type,h=a.allFolders,y=a.folders,w=void 0===y?[]:y,b=a.privateFolders,_=a.acfDynamicFiles,E=a.acfFieldKey,R=a.createPrivateFolder,N=a.nameTemplate,S=void 0===N?r.nameTemplate?r.nameTemplate:"%user_login% (%user_email%)":N,C=a.parentFolder,x=void 0===C?r.parentFolder?r.parentFolder:Nt("root"):C,O=a.templateFolder,A=void 0===O?r.templateFolder?r.templateFolder:null:O,P=a.mergePrivateFolders,I=void 0===P?void 0===r.mergeFolders||r.mergeFolders:P,D=a.folderFiles,k=a.uploadFolderSelection,F=a.uploadFolders,j=void 0===F?[]:F,T=a.folderSelectionLabel,B=void 0===T?wp.i18n.__("Choose Upload Folder","integrate-google-drive"):T,L=a.allowEmbedPlayer,M=void 0===L||L,U=Qp(of(!1),2),z=U[0],G=U[1],H=Qp(of(!1),2),W=H[0],V=H[1],q=Qp(of(!1),2),K=q[0],Q=q[1],J=Qp(of(m),2),Y=J[0],$=J[1],X="uploader"===v,Z="slider"===v,ee="gallery"===v,te="media"===v,ne="search"===v,re="embed"===v,ie="view"===v,ae="download"===v,oe=rf(null);nf((function(){if(oe.current){new ResizeObserver((function(e){var t=e[0].target;e[0].contentRect.width<700?t.classList.add("view-list"):t.classList.remove("view-list")})).observe(oe.current)}}),[]);var le=wp.i18n.__("Select Files & Folders","integrate-google-drive"),ce=wp.i18n.__("Select the files and folders to display in the module.","integrate-google-drive");X||s?(le=wp.i18n.__("Select Upload Folder","integrate-google-drive"),ce=wp.i18n.__("Select the folder where the files will be uploaded.","integrate-google-drive")):ee?(le=wp.i18n.__("Select Files","integrate-google-drive"),ce=wp.i18n.__("Select the files and folders to showcase in the gallery. You can include both image and video files in the gallery module.","integrate-google-drive")):te?(le=wp.i18n.__("Select Files","integrate-google-drive"),ce=wp.i18n.__("Select the files to display in the media player. You can include both audio and video files in the media player.","integrate-google-drive")):re?(le=wp.i18n.__("Select Files","integrate-google-drive"),ce=wp.i18n.__("Select the files to embed.","integrate-google-drive")):Z?(le=wp.i18n.__("Select Files","integrate-google-drive"),ce=wp.i18n.__("Select the files to display in the slider.","integrate-google-drive")):ae?(le=wp.i18n.__("Select Files","integrate-google-drive"),ce=wp.i18n.__("Select the files to generate download links.","integrate-google-drive")):ie?(le=wp.i18n.__("Select Files","integrate-google-drive"),ce=wp.i18n.__("Select the files to generate view links.","integrate-google-drive")):ne&&(le=wp.i18n.__("Select Search Folders","integrate-google-drive"),ce=wp.i18n.__("Select the folders to search for files.","integrate-google-drive"));var se=["%user_login%","%user_email%","%first_name%","%last_name%","%display_name%","%user_id%","%user_role%","%user_meta_{key}%","","%post_id%","%post_title%","%post_slug%","%post_author%","%post_date%","%post_modified%","%post_type%","%post_status%","%post_category%","%post_tags%","%post_meta_{key}%","","%wc_product_name%","%wc_product_id%","%wc_product_sku%","%wc_product_slug%","%wc_product_price%","%wc_product_sale_price%","%wc_product_regular_price%","%wc_product_tags%","%wc_product_type%","%wc_product_status%","",!!s&&"cf7"!==s&&"%entry_id%",!!s&&"elementor"!==s&&"%form_id%",!!s&&"%form_title%","","%date%","%time%","%unique_id%"],de=!(re&&"classic"===u||ie||ae||h||l||g||f),ue=wp.i18n.__("Turn ON to display the private files and folders linked to the user.","integrate-google-drive");re?ue=wp.i18n.__("Turn ON to embed the private files and folders linked to the user.","integrate-google-drive"):X?ue=wp.i18n.__("Turn ON to upload the files in the private folder linked to the user.","integrate-google-drive"):ne&&(ue=wp.i18n.__("Turn ON to search the private files and folders linked to the user.","integrate-google-drive"));var ge=Qp(of(null),2),me=ge[0],pe=ge[1],fe=rf(),ve=null===(e=r.integrations)||void 0===e?void 0:e.includes("acf");return React.createElement("div",{className:"shortcode-module-body content-sources"},!_&&!f&&!Z&&!re&&!ie&&!ae&&!X&&!l&&!g&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("All Folders & Files","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(Xp,{checked:h,onChange:function(){return o(qp(qp({},a),{},{allFolders:!h}))}}),React.createElement("p",{className:"description"},wp.i18n.__("If turned ON, users can navigate through all the folders & files of all the linked Google Drive accounts.","integrate-google-drive"),React.createElement("br",null),wp.i18n.__("Otherwise, to select specific folders & files disable this option.","integrate-google-drive")))),!_&&!!de&&React.createElement("div",{className:"settings-field field-private-folder"},React.createElement("h4",{className:"settings-field-label"},X?wp.i18n.__("Use Private Folder","integrate-google-drive"):wp.i18n.__("Use Private Files","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Xp,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"igd-pro-tooltip",checked:n&&b,className:n?"":"disabled",onChange:function(){n?o(qp(qp({},a),{},{privateFolders:!b})):On(wp.i18n.__("Upgrade to Pro to use User Private Folders","integrate-google-drive"))}}),!n&&React.createElement(rt,{id:"igd-pro-tooltip",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"}),React.createElement("p",{className:"description"},ue,React.createElement("a",{href:"https://softlabbd.com/docs/how-to-use-and-enable-private-folders-automatically-link-manually/",target:"_blank",className:""},wp.i18n.__("Documentation","integrate-google-drive"),React.createElement("i",{className:"dashicons dashicons-editor-help"})),React.createElement("br",null),wp.i18n.__("Note: If enabled this module will be visible only to logged-in users.","integrate-google-drive")),n&&b&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Create Private Folder","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(Xp,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:n&&R,onChange:function(){n?o(qp(qp({},a),{},{createPrivateFolder:!R})):On(wp.i18n.__("Upgrade to Pro to use User Private Folders","integrate-google-drive"))}}),React.createElement("p",{className:"description"},wp.i18n.__("Turn ON to create and link a folder automatically to the user who has not linked any folder yet while the user will view the module.","integrate-google-drive"))),!!R&&React.createElement(React.Fragment,null,React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Naming template","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),type:"text",value:S,onChange:function(e){n?o(qp(qp({},a),{},{nameTemplate:e.target.value})):On(wp.i18n.__("Upgrade to PRO to enable auto private folders creation for the user.","integrate-google-drive"))},onSelect:function(e){return pe(e.target.selectionStart)},onFocus:function(e){return jQuery(e.target).closest(".settings-field-content").addClass("active")},onBlur:function(e){return jQuery(e.target).closest(".settings-field-content").removeClass("active")},ref:fe}),!n&&React.createElement(rt,{effect:"solid",place:"left",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Set the folder name template for the automatically created private folders.","integrate-google-drive")),React.createElement("div",{className:"template-tags"},React.createElement("div",{className:"template-tags-title",onClick:function(e){return jQuery(e.target).closest(".template-tags-title").toggleClass("active")}},React.createElement("span",null,wp.i18n.__("Available template tags","integrate-google-drive")),React.createElement("span",null,wp.i18n.__(" (click to insert)","integrate-google-drive"))),React.createElement("div",{className:"template-tags-list"},se.map((function(e,t){if("boolean"!=typeof e)return""===e?React.createElement("span",{className:"tag-break"}):React.createElement("span",{className:"tag",key:t,onClick:function(){if(n){var t;t=(t=null!==me?S.slice(0,me)+e+" "+S.slice(me):S+" "+e).trim(),o(qp(qp({},a),{},{nameTemplate:t}));var r=me+e.length+1;fe.current.setSelectionRange(r,r)}else On(wp.i18n.__("Upgrade to PRO to enable auto private folders creation.","integrate-google-drive"))}},e)}))))),React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Parent Folder","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"template-folder-wrap"},!!x&&React.createElement("div",{className:"template-folder"},React.createElement("div",{className:"template-folder-account"},JSON.parse(Gt(igd.accounts))[x.accountId].email),React.createElement("div",{className:"template-folder-item"},x.iconLink?React.createElement("img",{src:x.iconLink}):React.createElement("i",{className:"dashicons dashicons-category"}),React.createElement("span",{className:"template-folder-name"},x.name?x.name:Nt(x,JSON.parse(Gt(igd.accounts))[x.accountId]))),React.createElement("div",{className:"dashicons dashicons-no-alt",onClick:function(){return o(qp(qp({},a),{},{parentFolder:null}))}},React.createElement("span",{className:"screen-reader-text"},wp.i18n.__("Remove","integrate-google-drive")))),React.createElement("button",{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),className:"igd-btn ".concat(z?"btn-warning":"btn-primary"),onClick:function(){n?G(!z):On(wp.i18n.__("Upgrade to PRO to enable auto private folders creation for the user.","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-open-folder"}),z?React.createElement("span",null,wp.i18n.__("Cancel","integrate-google-drive")):React.createElement("span",null,x?wp.i18n.__("Change Parent Folder","integrate-google-drive"):wp.i18n.__("Select Parent Folder","integrate-google-drive"))),!n&&React.createElement(rt,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"})),React.createElement("p",{className:"description"},wp.i18n.__("Select the parent folder where the automatically created private folders will be created.","integrate-google-drive"))),!!z&&n&&React.createElement("div",{id:"igd-select-files",className:"igd-module-builder-modal-wrap inline-select"},React.createElement(Lo,{value:{editData:{folders:[]},setEditData:function(e){var t=e.folders,n=void 0===t?[]:t;o((function(e){return qp(qp({},e),{},{parentFolder:n[0]})})),G(!1)},isEditor:!0,isInlineSelect:!0,isSelectFiles:!0,selectionType:"parent",initParentFolder:m,initFolders:p}},React.createElement(Av,null))),React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Template Folder","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"template-folder-wrap"},!!A&&React.createElement("div",{className:"template-folder"},React.createElement("div",{className:"template-folder-account"},JSON.parse(Gt(igd.accounts))[A.accountId].email),React.createElement("div",{className:"template-folder-item"},A.iconLink?React.createElement("img",{src:A.iconLink}):React.createElement("i",{className:"dashicons dashicons-category"}),React.createElement("span",{className:"template-folder-name"},A.name?A.name:Nt(A,JSON.parse(Gt(igd.accounts))[A.accountId]))),React.createElement("div",{className:"dashicons dashicons-no-alt",onClick:function(){return o(qp(qp({},a),{},{templateFolder:null}))}},React.createElement("span",{className:"screen-reader-text"},wp.i18n.__("Remove","integrate-google-drive")))),React.createElement("button",{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),className:"igd-btn ".concat(W?"btn-warning":"btn-primary"),onClick:function(){n?V(!W):On(wp.i18n.__("Upgrade to Pro to use User Private Folders","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-open-folder"}),W?React.createElement("span",null,wp.i18n.__("Cancel","integrate-google-drive")):React.createElement("span",null,A?wp.i18n.__("Change Template Folder","integrate-google-drive"):wp.i18n.__("Select Template Folder","integrate-google-drive"))),!n&&React.createElement(rt,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"})),!!x&&!!A&&x.accountId!==A.accountId&&React.createElement("div",{className:"template-folder-error"},React.createElement("i",{className:"dashicons dashicons-warning"}),React.createElement("span",null,wp.i18n.__("Template folder and parent folder must be from the same account.","integrate-google-drive"))),!!x&&!!A&&x.id===A.id&&React.createElement("div",{className:"template-folder-error"},React.createElement("i",{className:"dashicons dashicons-warning"}),React.createElement("span",null,wp.i18n.__("Template folder and parent folder can't be the same.","integrate-google-drive"))),React.createElement("p",{className:"description"},wp.i18n.__("Select the template folder that will be copied to the new private folder.","integrate-google-drive"))),!!W&&n&&React.createElement("div",{id:"igd-select-files",className:"igd-module-builder-modal-wrap inline-select"},React.createElement(Lo,{value:{editData:{folders:[]},setEditData:function(e){var t=e.folders,n=void 0===t?[]:t;o((function(e){return qp(qp({},e),{},{templateFolder:n[0]})})),V(!1)},isEditor:!0,isInlineSelect:!0,isSelectFiles:!0,selectionType:"template",initParentFolder:m,initFolders:p}},React.createElement(Av,null))),React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Merge Folders","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(Xp,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:I,onChange:function(){n?o(qp(qp({},a),{},{mergePrivateFolders:!I})):On(wp.i18n.__("Upgrade to PRO to create private folders.","integrate-google-drive"))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow merging folders if a folder with the same name already exists.","integrate-google-drive")))))))),!b&&!h&&!l&&!g&&React.createElement("div",{className:"settings-field field-acf-dynamic-files ".concat(n&&ve?"":"disabled")},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Use ACF field Files","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Xp,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"igd-pro-tooltip",checked:n&&_,className:n?"":"disabled",onChange:function(){n?ve?o(qp(qp({},a),{},{acfDynamicFiles:!_})):Swal.fire({title:wp.i18n.__("ACF integration is not enabled","integrate-google-drive"),text:wp.i18n.__("Enable ACF integration from the plugin settings page to access and utilize files selected from ACF fields.","integrate-google-drive"),icon:"warning",showConfirmButton:!1,showCloseButton:!0,customClass:{container:"igd-swal"}}):On(wp.i18n.__("Upgrade to Pro to use ACF field files","integrate-google-drive"))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enable this option to use the ACF field files dynamically as the source for the module.","integrate-google-drive"),React.createElement("a",{href:"https://softlabbd.com/docs/how-to-use-acf-dynamic-files-as-module-source-files",target:"_blank",className:""},wp.i18n.__("Documentation","integrate-google-drive"),React.createElement("i",{className:"dashicons dashicons-editor-help"}))),!!_&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("ACF Field Key","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:E,onChange:function(e){return o(qp(qp({},a),{},{acfFieldKey:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the ACF field name to use the files from the ACF field.","integrate-google-drive"),React.createElement("br",null),wp.i18n.__("The field value will be inherited from the post/page based on the field name where the module will be embedded.","integrate-google-drive"))))))),X&&!b&&React.createElement("div",{className:"settings-field field-upload-folder-selection ".concat(n?"":"disabled")},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Enable Folder Selection","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Xp,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"igd-pro-tooltip",checked:n&&k,className:n?"":"disabled",onChange:function(){n?o(qp(qp({},a),{},{uploadFolderSelection:!k})):On(wp.i18n.__("Upgrade to enable dynamic upload folder selection","integrate-google-drive"))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enable this option to allow users to select the upload folder and upload files to the selected folder.","integrate-google-drive"),React.createElement("a",{href:"https://softlabbd.com/docs/how-to-enable-dynamic-folders-selection-when-uploading-files",target:"_blank"},wp.i18n.__("Documentation","integrate-google-drive"),React.createElement("i",{className:"dashicons dashicons-editor-help"}))),!!k&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Select Upload Folders","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"template-folder"},j.map((function(e,t){var n=e.id,r=e.name,i=e.iconLink;return i=i||"https://drive-thirdparty.googleusercontent.com/64/type/application/vnd.google-apps.folder",React.createElement("div",{key:t,className:"template-folder-item"},React.createElement("span",{className:"folder-index"},t+1,". "),React.createElement("img",{src:i}),React.createElement("span",{className:"template-folder-name"},r),React.createElement("div",{className:"dashicons dashicons-no-alt",onClick:function(){var e=j.filter((function(e){return e.id!==n}));o(qp(qp({},a),{},{uploadFolders:e,folders:e}))}}))}))),React.createElement("button",{"data-tooltip-content":"PRO Feature","data-tooltip-id":"specific-folders",className:"igd-btn btn-success",onClick:function(){igd.isPro?Q(!0):On(wp.i18n.__("Upgrade to PRO to enable dynamic upload folder selection","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-open-folder"}),React.createElement("span",null,wp.i18n.__("Select Folders","integrate-google-drive"))),React.createElement(zp,{isOpen:K,onClose:function(){return Q(!1)}},React.createElement("div",{id:"igd-select-files",className:"igd-module-builder-modal-wrap"},React.createElement(Bp,{initData:{folders:j},onUpdate:function(e){var t=e.folders,n=void 0===t?[]:t;o((function(e){return qp(qp({},e),{},{uploadFolders:n.map((function(e){return{id:e.id,accountId:e.accountId,name:e.name,description:e.description,iconLink:e.iconLink,type:e.type,shortcutDetails:e.shortcutDetails}})),folders:n})})),Q(!1)},onClose:function(){return Q(!1)},isSelectFiles:!0,selectionType:"folders"}))),React.createElement("p",{className:"description"},wp.i18n.__("Select the upload folders for the users to select the folder to upload files.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Select Default Folder","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("select",{value:w.length?w[0].id:"",onChange:function(e){var t=j.find((function(t){return t.id===e.target.value}));o(qp(qp({},a),{},{folders:[t]}))}},j.length?j.map((function(e,t){return React.createElement("option",{key:t,value:e.id},e.name)})):React.createElement("option",{value:""},wp.i18n.__("No Folder Selected","integrate-google-drive"))),React.createElement("p",{className:"description"},wp.i18n.__("Select the default folder where the files will be uploaded if the user doesn't select any folder.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Folder Selection Label","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:B,onChange:function(e){return o(qp(qp({},a),{},{folderSelectionLabel:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Set the label for the folder selection.","integrate-google-drive"))))))),(ie||ae)&&React.createElement("div",{className:"settings-field field-folder-files"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Generate Folder File Links","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Xp,{checked:D,onChange:function(){return o(qp(qp({},a),{},{folderFiles:!D}))}}),React.createElement("p",{className:"description"},ae?wp.i18n.__("Enable to generate download link for the files inside the selected folders.","integrate-google-drive"):wp.i18n.__("Enable to generate view link for the files inside the selected folders.","integrate-google-drive")))),(g||te)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Video Type","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Zp,null,React.createElement(ef,{variant:M?"primary":"secondary",size:"default",onClick:function(){return o(qp(qp({},a),{},{allowEmbedPlayer:!0}))}},React.createElement("i",{className:"dashicons dashicons-embed-video"}),wp.i18n.__("Embed","integrate-google-drive")),React.createElement(ef,{variant:M?"secondary":"primary",size:"default",onClick:function(){return o(qp(qp({},a),{},{allowEmbedPlayer:!1}))}},React.createElement("i",{className:"dashicons dashicons-video-alt3"}),wp.i18n.__("Direct Media","integrate-google-drive"))),React.createElement("p",{className:"description"},wp.i18n.__("Select the video player style for the LMS module.","integrate-google-drive")),React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},React.createElement("div",{style:{marginBottom:"5px"}},React.createElement("strong",null,wp.i18n.__("Embed","integrate-google-drive"))," - ",wp.i18n.__("Plays the video using Google Drive's native embed player, ensuring smooth playback without server load. This method requires setting the video permission to public.","integrate-google-drive")),React.createElement("div",null,React.createElement("strong",null,wp.i18n.__("Direct Media","integrate-google-drive"))," - ",wp.i18n.__("Streams the video through your server as a proxy, which may slow down loading. No permission changes are required for the video.","integrate-google-drive")))))),(!h||!!l||!!g)&&!b&&!_&&!k&&React.createElement("div",{ref:oe,className:"igd-select-sources-wrap"},!g&&React.createElement("div",{className:"source-title-wrap"},!!le&&React.createElement("h4",{className:"igd-select-sources-title"},le),!!ce&&React.createElement("p",{className:"igd-select-sources-description"},ce)),React.createElement(jo,{isShortcodeBuilder:!0,shortcodeBuilderType:v,isSelectFiles:l,selectionType:d,isLMS:g,isWooCommerce:f,setSelectedFolders:function(e){o(qp(qp({},a),{},{folders:Wp(e).filter((function(e,t,n){return t===n.findIndex((function(t){return e.id?t.id===e.id:t===e}))}))}))},selectedFolders:w,initParentFolder:Y,initFolders:p}),!c&&!g&&React.createElement("div",{className:"igd-selected-list"},React.createElement("div",{className:"igd-selected-list-header"},React.createElement("span",{className:"header-title"},"(",w.length,") ",wp.i18n._n("Item Selected","Items Selected",w.length,"integrate-google-drive")),!!w&&!!w.length&&React.createElement("button",{className:"igd-btn btn-danger",onClick:function(){return o(qp(qp({},a),{},{folders:[]}))}},React.createElement("span",null,wp.i18n.__("Clear","integrate-google-drive")))),React.createElement(qm,{onDragEnd:function(e){if(e.destination){var t=Array.from(w),n=Qp(t.splice(e.source.index,1),1)[0];t.splice(e.destination.index,0,n),o(qp(qp({},a),{},{folders:t}))}}},React.createElement(kp,{droppableId:"droppable"},(function(e){return React.createElement("div",Hp({ref:e.innerRef},e.droppableProps),!!w.length&&w.sort((function(e,t){return Rt(e)&&!Rt(t)?-1:!Rt(e)&&Rt(t)?1:0})).map((function(e,t){var n=e.id,r=e.iconLink,i=e.name,l=e.accountId;return React.createElement(Ap,{key:n,draggableId:n,index:t},(function(n,c){return React.createElement("div",Hp({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:qp({userSelect:"none",backgroundColor:c.isDragging?"#f4f4f4":""},n.draggableProps.style)}),React.createElement("div",{className:"selected-item"},w.length>1&&React.createElement(React.Fragment,null,React.createElement("span",{className:"selected-item-index"},t+1,"."),React.createElement("svg",{className:"drag-file-item",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false"},React.createElement("path",{d:"M8 7h2V5H8v2zm0 6h2v-2H8v2zm0 6h2v-2H8v2zm6-14v2h2V5h-2zm0 8h2v-2h-2v2zm0 6h2v-2h-2v2z"}))),React.createElement("div",{className:"file-item",onClick:function(){e.parents&&$((function(t){return qp(qp({},t),{},{id:e.parents[0],accountId:e.accountId})}))}},r?React.createElement("img",{src:r}):React.createElement("i",{className:"dashicons dashicons-category"}),React.createElement("span",{className:"item-name"},i||Nt(e,JSON.parse(Gt(igd.accounts))[l]))),React.createElement("span",{className:"remove-item dashicons dashicons-no-alt",onClick:function(){return o(qp(qp({},a),{},{folders:w.filter((function(t){return t!==e}))}))}})))}))})),e.placeholder)}))),(!w||!w.length)&&React.createElement("div",{className:"no-files-message"},React.createElement("i",{className:"dashicons dashicons-info"}),React.createElement("span",null,wp.i18n.__("No items selected","integrate-google-drive"),".")),X&&React.createElement("p",null,wp.i18n.__("Choose a single upload folder for file uploads.","integrate-google-drive"),!!w.length&&React.createElement("span",null,wp.i18n.__("To change it, deselect the current folder and select a new one.","integrate-google-drive"))),re&&React.createElement("p",null,wp.i18n.__("If folder is selected, all the files of the folder will be embedded.","integrate-google-drive"),React.createElement("br",null),React.createElement("b",null,"Note:")," ",wp.i18n.__("Embed files must be public","integrate-google-drive")))))}function cf(e){return cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(e)}function sf(e){return function(e){if(Array.isArray(e))return df(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return df(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return df(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function df(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uf(Object(n),!0).forEach((function(t){mf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mf(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=cf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cf(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pf=wp.components,ff=pf.FormToggle,vf=pf.CheckboxControl,hf=React.useContext;function yf(){var e=hf(Bo),t=e.editData,n=e.setEditData,r=e.isFormBuilder,i=t.allowExtensions,a=t.allowAllExtensions,o=t.allowExceptExtensions,l=t.allowNames,c=t.allowAllNames,s=t.allowExceptNames,d=t.nameFilterOptions,u=void 0===d?["files"]:d,g=t.showFiles,m=void 0===g||g,p=t.showFolders,f=void 0===p||p,v=t.type,h=t.maxFileSize,y=t.maxFiles,w=t.minFiles,b=t.minFileSize,_=t.fileNumbers,E="uploader"===v,R="browser"===v,N="gallery"===v,S="embed"===v,C="search"===v,x="media"===v,O="slider"===v;return React.createElement("div",{className:"shortcode-module-body"},(R||N||C)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Files","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(ff,{checked:m,onChange:function(){return n(gf(gf({},t),{},{showFiles:!m}))}}),React.createElement("p",{className:"description"},wp.i18n.__("If turned off, files won't show.","integrate-google-drive")))),(R||N||C)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Folders","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(ff,{checked:f,onChange:function(){return n(gf(gf({},t),{},{showFolders:!f}))}}),React.createElement("p",{className:"description"},wp.i18n.__("If turned off, folders won't show.","integrate-google-drive")))),React.createElement("div",{className:"settings-field filter-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Allowed Extensions","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"filter-field-input"},React.createElement("input",{type:"text",disabled:a,value:i,onChange:function(e){return n(gf(gf({},t),{},{allowExtensions:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.sprintf(wp.i18n.__('Enter comma ( , ) seperated file extensions to allow, such as "jpg, png, gif". Leave empty to %s all extension files.',"integrate-google-drive"),E?wp.i18n.__("upload","integrate-google-drive"):wp.i18n.__("show","integrate-google-drive")))),React.createElement("div",{className:"filter-field-all"},React.createElement("div",null,React.createElement("h4",{className:"filter-field-all-label"},wp.i18n.__("Allow all : ","integrate-google-drive")," "),React.createElement(ff,{checked:a,onChange:function(){return n(gf(gf({},t),{},{allowAllExtensions:!a}))}})),React.createElement("div",null,React.createElement("h4",{className:"filter-field-all-label"},wp.i18n.__("Except : ","integrate-google-drive")),React.createElement("input",{type:"text",disabled:!a,value:o,onChange:function(e){return n(gf(gf({},t),{},{allowExceptExtensions:e.target.value}))}})),React.createElement("p",{className:"description"},wp.i18n.sprintf(wp.i18n.__('When "Allow all" is enabled, exceptions will not be %s.',"integrate-google-drive"),E?wp.i18n.__("uploaded","integrate-google-drive"):wp.i18n.__("displayed","integrate-google-drive")))))),(R||N||S||C||x||O)&&React.createElement("div",{className:"settings-field filter-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Allowed Names","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"filter-field-input"},React.createElement("input",{type:"text",disabled:c,value:l,onChange:function(e){return n(gf(gf({},t),{},{allowNames:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.sprintf(wp.i18n.__("Enter file and folder names, separated by commas, to display. Leave blank to display all files and folders.","integrate-google-drive")))),React.createElement("div",{className:"filter-field-all"},React.createElement("div",null,React.createElement("h4",{className:"filter-field-all-label"},wp.i18n.__("Allow all : ","integrate-google-drive")," "),React.createElement(ff,{checked:c,onChange:function(){return n(gf(gf({},t),{},{allowAllNames:!c}))}})),React.createElement("div",null,React.createElement("h4",{className:"filter-field-all-label"},wp.i18n.__("Except : ","integrate-google-drive")),React.createElement("input",{type:"text",disabled:!c,value:s,onChange:function(e){return n(gf(gf({},t),{},{allowExceptNames:e.target.value}))}})),React.createElement("p",{className:"description"},wp.i18n.__('When "Allow all" is enabled, exceptions will not be displayed.',"integrate-google-drive")),React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},wp.i18n.__("You can use the * and ? wildcards to match multiple characters and single characters respectively.","integrate-google-drive"),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("For example:","integrate-google-drive")),React.createElement("ul",null,React.createElement("li",null,React.createElement("strong",null,"report*, *.txt")," ",wp.i18n.__("will match all files that start with report and have the .txt extension.","integrate-google-drive")),React.createElement("li",null,React.createElement("strong",null,"file?, image_*")," ",wp.i18n.__('will match all files that start with file like "file1", "file2", and all files that start with image_.',"integrate-google-drive"))))),React.createElement("div",{className:"name-filter-option"},React.createElement("h4",{className:"name-filter-option-label"},wp.i18n.__("Apply to : ","integrate-google-drive")," "),["files","folders"].map((function(e){return React.createElement("div",{key:e,className:"name-filter-option-item"},React.createElement(vf,{label:e,checked:u.includes(e),onChange:function(){u.includes(e)?n(gf(gf({},t),{},{nameFilterOptions:u.filter((function(t){return t!==e}))})):n(gf(gf({},t),{},{nameFilterOptions:[].concat(sf(u),[e])}))}}))})),React.createElement("p",{className:"description"},wp.i18n.__("Select the type of files to apply the name filters.","integrate-google-drive")))))),(R||N||C||x||O)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Maximum File Numbers","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"number",min:1,max:1e3,value:_,onChange:function(e){return n(gf(gf({},t),{},{fileNumbers:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the maximum number of how many files you want to show. Leave empty to show all files.","integrate-google-drive")))),E&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Max File Uploads","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"number",min:1,value:y,onChange:function(e){var r=e.target.value;r=r.replace(/[^0-9]/g,""),n(gf(gf({},t),{},{maxFiles:r}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the max number of files to upload at once. Leave empty for no limit.","integrate-google-drive")))),r&&"metform"!==r&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Min File Uploads","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"number",min:1,value:w,onChange:function(e){var r=e.target.value;r=r.replace(/[^0-9]/g,""),n(gf(gf({},t),{},{minFiles:r}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the minimum number of files to upload. Leave empty for no limit.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Max File Size (MB)","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"number",min:0,value:h,onChange:function(e){var r=e.target.value;r=r.replace(/[^0-9]/g,""),n(gf(gf({},t),{},{maxFileSize:r}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the maximum upload file size (MB).","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Min File Size (MB)","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"number",min:0,value:b,onChange:function(e){var r=e.target.value;r=r.replace(/[^0-9]/g,""),n(gf(gf({},t),{},{minFileSize:r}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the minimum upload file size (MB).","integrate-google-drive"))))))}function wf(e){return wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(e)}function bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bf(Object(n),!0).forEach((function(t){Ef(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ef(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=wf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wf(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rf=wp.components,Nf=Rf.FormToggle,Sf=Rf.Button,Cf=Rf.ButtonGroup;function xf(e){var t=e.editData,n=e.setEditData,r=(e.isSlider,t.galleryOverlay),i=void 0===r||r,a=t.overlayDisplayType,o=void 0===a?"hover":a,l=t.galleryOverlayTitle,c=void 0===l||l,s=t.galleryOverlayDescription,d=void 0===s||s,u=t.galleryOverlaySize;return React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Overlay","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Nf,{checked:i,onChange:function(){return n(_f(_f({},t),{},{galleryOverlay:!i}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show the image overlay.","integrate-google-drive")),!!i&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Display Type","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Cf,null,React.createElement(Sf,{isPrimary:"always"===o,isSecondary:"hover"===o,onClick:function(){return n(_f(_f({},t),{},{overlayDisplayType:"always"}))}},React.createElement("span",null,wp.i18n.__("Always","integrate-google-drive"))),React.createElement(Sf,{isPrimary:"hover"===o,isSecondary:"always"===o,onClick:function(){return n(_f(_f({},t),{},{overlayDisplayType:"hover"}))}},React.createElement("span",null,wp.i18n.__("On Hover","integrate-google-drive")))),React.createElement("p",{className:"description"},wp.i18n.__("Select the image overlay display type.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Title","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Nf,{checked:c,onChange:function(){return n(_f(_f({},t),{},{galleryOverlayTitle:!c}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show the image title in the overlay.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Description","integrate-google-drive")),React.createElement(Nf,{checked:d,onChange:function(){return n(_f(_f({},t),{},{galleryOverlayDescription:!d}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show the image description in the overlay.","integrate-google-drive"))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Size","integrate-google-drive")),React.createElement(Nf,{checked:u,onChange:function(){return n(_f(_f({},t),{},{galleryOverlaySize:!u}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show the image size in the overlay.","integrate-google-drive"))))))}function Of(e){return Of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(e)}function Af(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function If(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Df(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?If(Object(n),!0).forEach((function(t){kf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):If(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kf(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Of(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Of(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Of(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ff=wp.components,jf=Ff.ButtonGroup,Tf=Ff.Button,Bf=Ff.FormToggle,Lf=Ff.RangeControl,Mf=Ff.SelectControl,Uf=Ff.TextControl,zf=Ff.__experimentalRadio,Gf=Ff.__experimentalRadioGroup,Hf=React,Wf=Hf.useState,Vf=Hf.useContext,qf=Hf.useEffect,Kf=Hf.useRef;function Qf(){var e=igd.isPro,t=Vf(Bo),n=t.editData,r=t.setEditData,i=t.isFormBuilder,a=t.isWooCommerce,o=["%file_name%","%file_extension%","%queue_index%","",i&&"cf7"!==i&&"%entry_id%",i&&"elementor"!==i&&"%form_id%",i&&"%form_title%","","%post_id%","%post_title%","%post_slug%","%post_author%","%post_date%","%post_modified%","%post_type%","%post_status%","%post_category%","%post_tags%","%post_meta_{key}%","","%wc_product_name%","%wc_product_id%","%wc_product_sku%","%wc_product_slug%","%wc_product_price%","%wc_product_sale_price%","%wc_product_regular_price%","%wc_product_tags%","%wc_product_type%","%wc_product_status%","","%user_login%","%user_email%","%first_name%","%last_name%","%display_name%","%user_id%","%user_role%","%user_meta_{key}%","","%date%","%time%","%unique_id%"],l=["cf7"!==i&&"%entry_id%","elementor"!==i&&"%form_id%","%form_title%","","%post_id%","%post_title%","%post_slug%","%post_author%","%post_date%","%post_modified%","%post_type%","%post_status%","%post_category%","%post_tags%","%post_meta_{key}%","","%wc_product_name%","%wc_product_id%","%wc_product_sku%","%wc_product_slug%","%wc_product_price%","%wc_product_sale_price%","%wc_product_regular_price%","%wc_product_tags%","%wc_product_type%","%wc_product_status%","","%user_login%","%user_email%","%first_name%","%last_name%","%display_name%","%user_id%","%user_role%","%user_meta_{key}%","","%date%","%time%","%unique_id%"],c={name:wp.i18n.__("Name","integrate-google-drive"),size:wp.i18n.__("Size","integrate-google-drive"),created:wp.i18n.__("Created Date","integrate-google-drive"),updated:wp.i18n.__("Modified Date","integrate-google-drive"),random:wp.i18n.__("Random","integrate-google-drive")},s={asc:wp.i18n.__("Ascending","integrate-google-drive"),desc:wp.i18n.__("Descending","integrate-google-drive")},d=n.moduleWidth,u=void 0===d?"100%":d,g=n.moduleHeight,m=void 0===g?"":g,p=n.embedWidth,f=void 0===p?"100%":p,v=n.embedHeight,h=void 0===v?"480px":v,y=n.galleryHeight,w=void 0===y?300:y,b=n.galleryMargin,_=void 0===b?5:b,E=n.galleryColumns,R=void 0===E?{xs:1,sm:2,md:3,lg:4,xl:5}:E,N=n.galleryView,S=void 0===N?"rounded":N,C=n.galleryLayout,x=void 0===C?"justified":C,O=n.galleryFolderView,A=void 0===O?"title":O,P=n.galleryAspectRatio,I=void 0===P?"1/1":P,D=n.galleryImageSize,k=void 0===D?"medium":D,F=n.galleryCustomSizeWidth,j=n.galleryCustomSizeHeight,T=n.showHeader,B=void 0===T||T,L=n.showBreadcrumbs,M=void 0===L||L,U=n.directImage,z=void 0!==U&&U,G=n.showFileName,H=void 0!==G&&G,W=n.allowEmbedPopout,V=void 0===W||W,q=n.embedType,K=void 0===q?"readOnly":q,Q=n.showRefresh,J=void 0===Q||Q,Y=n.showSorting,$=void 0===Y||Y,X=n.showPlaylist,Z=void 0===X||X,ee=n.openedPlaylist,te=void 0===ee||ee,ne=n.playlistAutoplay,re=void 0===ne||ne,ie=n.playlistThumbnail,ae=void 0===ie||ie,oe=n.playlistNumber,le=void 0===oe||oe,ce=n.playlistPosition,se=void 0===ce?"left":ce,de=n.allowEmbedPlayer,ue=void 0===de||de,ge=n.showPlaylistToggle,me=void 0===ge||ge,pe=n.nextPrevious,fe=void 0===pe||pe,ve=n.rewindForward,he=void 0!==ve&&ve,ye=n.playlistStyle,we=void 0===ye?"grid":ye,be=n.sort,_e=void 0===be?{sortBy:"name",sortDirection:"asc"}:be,Ee=n.view,Re=void 0===Ee?"list":Ee,Ne=n.lazyLoad,Se=void 0===Ne||Ne,Ce=n.lazyLoadNumber,xe=void 0===Ce?100:Ce,Oe=n.lazyLoadType,Ae=void 0===Oe?"pagination":Oe,Pe=n.showLastModified,Ie=void 0!==Pe&&Pe,De=n.type,ke=n.openNewTab,Fe=void 0===ke||ke,je=n.searchBoxText,Te=void 0===je?wp.i18n.__("Search for files & content","integrate-google-drive"):je,Be=n.uploadImmediately,Le=n.enableFolderUpload,Me=n.enableUploadDescription,Ue=n.overwrite,ze=n.uploadFileName,Ge=void 0===ze?"%file_name%%file_extension%":ze,He=n.showUploadLabel,We=n.uploadLabelText,Ve=void 0===We?wp.i18n.__("Upload Files","integrate-google-drive"):We,qe=n.showUploadConfirmation,Ke=void 0===qe||qe,Qe=n.uploadConfirmationMessage,Je=void 0===Qe?"<h3>".concat(wp.i18n.__("Upload successful!","integrate-google-drive"),"</h3><p>").concat(wp.i18n.__("Your file(s) have been uploaded. Thank you for your submission!","integrate-google-drive"),"</p>"):Qe,Ye=n.slideHeight,$e=void 0===Ye?"300px":Ye,Xe=n.sliderImageSize,Ze=void 0===Xe?"medium":Xe,et=n.sliderCustomSizeWidth,tt=n.sliderCustomSizeHeight,nt=n.slidesPerPage,it=void 0===nt?{xs:1,sm:2,md:3,lg:4,xl:5}:nt,at=n.slideAutoplay,ot=void 0===at||at,lt=n.slideAutoplaySpeed,ct=void 0===lt?3e3:lt,st=n.slideDots,dt=void 0===st||st,ut=n.slideArrows,gt=void 0===ut||ut,mt=n.slideGap,pt=void 0===mt?5:mt,ft=n.woocommerceRedirect,vt=n.woocommerceAddPermission,ht=n.createEntryFolders,yt=n.entryFolderNameTemplate,wt=void 0===yt?"cf7"===i?"Form entry - %form_title%":"Entry (%entry_id%) - %form_title%":yt,bt=n.mergeFolders,_t="browser"===De,Et="uploader"===De,Rt="gallery"===De,Nt="search"===De,St="media"===De,Ct="view"===De,xt="embed"===De,Ot="slider"===De,At="upload-confirmation-message",Pt={tinymce:{wpautop:!0,toolbar1:"formatselect,bold,italic,strikethrough,forecolor,backcolor,bullist,numlist,blockquote,hr,alignleft,aligncenter,alignright,link,unlink,media,spellchecker,fullscreen,wp_adv",toolbar2:"underline,alignjustify,forecolor,pastetext,removeformat,charmap,outdent,indent,undo,redo,wp_help",plugins:"lists,fullscreen,paste,wpautoresize,wpdialogs,wpeditimage,wpgallery,wplink,wptextpattern,wpview,wordpress,wpemoji,media,textcolor,hr",menubar:!1,branding:!1,height:250,wp_adv_height:48,setup:function(e){e.on("change",(function(){var t=e.getContent();r((function(e){return Df(Df({},e),{},{uploadConfirmationMessage:t})}))}))}},quicktags:{buttons:"strong,em,link,block,del,ins,img,ul,ol,li,code,close"},mediaButtons:!0};qf((function(){if(!document.body.classList.contains("et-fb")&&!i&&Et&&Ke&&e&&wp.editor)return setTimeout((function(){wp.editor.remove(At),wp.domReady((function(){return wp.editor.initialize(At,Pt)}))}),100),function(){document.getElementById(At)&&wp.editor.remove(At)}}),[Ke]);var It=Af(Wf(null),2),Dt=It[0],kt=It[1],Ft=Kf(),jt=Af(Wf("lg"),2),Tt=jt[0],Bt=jt[1];return React.createElement("div",{className:"shortcode-module-body"},!a&&!Ot&&!xt&&!Ct&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Module Container","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Container Width","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:u,onChange:function(e){return r(Df(Df({},n),{},{moduleWidth:e.target.value}))},placeholder:"100%"}),React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Container Height","integrate-google-drive")),React.createElement("input",{type:"text",value:m,onChange:function(e){return r(Df(Df({},n),{},{moduleHeight:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Set the module container width and height. You can use any valid CSS unit (pixels, percentage), eg '360px', '780px', '80%'. Keep blank for default value.","integrate-google-drive"))))))),!!xt&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Embed Iframe Width","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:f,onChange:function(e){return r(Df(Df({},n),{},{embedWidth:e.target.value}))},placeholder:"100%"}),React.createElement("p",{className:"description"},wp.i18n.__("Set embed iframe width. You can use any valid CSS unit (pixels, percentage), eg '360px', '780px', '100%'. Keep blank for default value.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Embed Iframe Height","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:h,onChange:function(e){return r(Df(Df({},n),{},{embedHeight:e.target.value}))},placeholder:"480px"}),React.createElement("p",{className:"description"},wp.i18n.__("Set embed iframe height. You can use any valid CSS unit (pixels, percentage), eg '360px', '780px', '100%'. Keep blank for default value.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show File Name","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:H,onChange:function(){return r(Df(Df({},n),{},{showFileName:!H}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the file name at the top of the file.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Direct Media Display","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"direct-media-display-tooltip",checked:e&&z,onChange:function(){e?r(Df(Df({},n),{},{directImage:!z})):On(wp.i18n.__("Upgrade to Pro to display Audio, Video and Images directly without embed.","integrate-google-drive"))},className:e?"":"disabled"}),!e&&React.createElement(rt,{id:"direct-media-display-tooltip",effect:"solid",place:"right",className:"igd-tooltip",variant:"warning"}),React.createElement("p",{className:"description"},wp.i18n.__("Display Audio, Video and Image files directly without embedding them into an iframe.","integrate-google-drive")),React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},React.createElement("p",{className:"description"},wp.i18n.__("Occasionally, audio and video files may not play correctly within an embedded player. Enable this option to resolve the issue by displaying media files directly, bypassing the embed.","integrate-google-drive")))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Embed Type","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Gf,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),label:"Embed Type",checked:e?K:"readOnly",onChange:function(t){e?r(Df(Df({},n),{},{embedType:t})):On(wp.i18n.__("Upgrade to Pro to change the embed type.","integrate-google-drive"))}},React.createElement(zf,{value:"readOnly"},wp.i18n.__("Read Only","integrate-google-drive")),React.createElement(zf,{value:"editable"},wp.i18n.__("Editable","integrate-google-drive")),React.createElement(zf,{value:"fullEditable"},wp.i18n.__("Full Editable","integrate-google-drive"))),!e&&React.createElement(rt,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Select the embed type for the selected documents.","integrate-google-drive")),React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},React.createElement("p",{className:"description"},React.createElement("strong",null,wp.i18n.__("Read Only","integrate-google-drive"))," - ",wp.i18n.__("The document will be displayed in a read-only mode.","integrate-google-drive"),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("Editable","integrate-google-drive"))," - ",wp.i18n.__("The document will be displayed in an editable mode. Users will be able to edit the document.","integrate-google-drive"),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("Full Editable","integrate-google-drive"))," - ",wp.i18n.__("The document will be displayed in an editable mode with extended edit tool-bars and features.","integrate-google-drive")),React.createElement("p",{className:"description"},React.createElement("strong",null,wp.i18n.__("Note:","integrate-google-drive"))," ",wp.i18n.__("The editable mode is only available for the editable Google Docs & Office Docs.","integrate-google-drive")))))),"readOnly"===K&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Allow Pop-out","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:V,onChange:function(){return r(Df(Df({},n),{},{allowEmbedPopout:!V}))}}),React.createElement("p",{className:"description"},wp.i18n.__("In the embed document view (e.g. a pdf) there is a pop-out button that when clicked will bring the user to the Google Drive view of the document, with full features to download, print, etc. ","integrate-google-drive")),React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},React.createElement("p",{className:"description"},wp.i18n.__("If the pop-out option is disabled, users will be able to view the embedded document only on your website and not on Google Drive.","integrate-google-drive"))))))),!!Rt&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Layout","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(jf,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"igd-pro-tooltip"},["justified","grid","masonry"].map((function(t){return React.createElement(Tf,{isPrimary:t===x,isSecondary:t!==x,onClick:function(){e?r(Df(Df({},n),{},{galleryLayout:t})):On(wp.i18n.__("Upgrade to change the gallery layout.","integrate-google-drive"))},disabled:!e&&"justified"!==t},React.createElement("i",{className:"dashicons dashicons-grid-view"}),React.createElement("span",{style:{textTransform:"capitalize"}},t))}))),React.createElement("p",{className:"description"},wp.i18n.__("Select the layout for the gallery.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},"justified"!==x&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Columns","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"column-devices"},React.createElement(jf,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive")},["xs","sm","md","lg","xl"].map((function(e){var t="xs"===e?"Mobile":"sm"===e?"Tablet":"md"===e?"Laptop":"lg"===e?"Desktop":"xl"===e?"Large Desktop":"";return React.createElement(Tf,{isPrimary:e===Tt,isSecondary:e!==Tt,onClick:function(){Bt(e)}},React.createElement("span",null,t))})))),React.createElement(Lf,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),value:R[Tt],onChange:function(e){r(Df(Df({},n),{},{galleryColumns:Df(Df({},R),{},kf({},Tt,e))}))},min:1,max:20,marks:[{value:1,label:"1"},{value:4,label:"4"},{value:8,label:"8"},{value:12,label:"12"},{value:16,label:"16"},{value:20,label:"20"}],allowReset:!0,resetFallbackValue:"xs"===Tt?1:"sm"===Tt?2:"md"===Tt?3:"lg"===Tt?4:"xl"===Tt?5:3}),!e&&React.createElement(rt,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Set the number of columns to display on each device.","integrate-google-drive")))),"justified"===x&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Row Height","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Lf,{value:w,onChange:function(e){return r(Df(Df({},n),{},{galleryHeight:e}))},allowReset:!0,resetFallbackValue:300,min:0,max:1e3,marks:[{value:0,label:"0"},{value:1e3,label:"1000"}],step:10}),React.createElement("p",{className:"description"},wp.i18n.__("The ideal height you want your grid rows to be. It won't set it exactly to this as plugin adjusts the row height to get the correct width. Leave empty for default value.","integrate-google-drive")))),"grid"===x&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Aspect Ratio","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(jf,null,["1/1","3/2","4/3","9/16","16/9","21/9"].map((function(e){return React.createElement(Tf,{isPrimary:e===I,isSecondary:e!==I,onClick:function(){return r(Df(Df({},n),{},{galleryAspectRatio:e}))}},React.createElement("span",null,e.replace("/",":")))}))),React.createElement("p",{className:"description"},wp.i18n.__("Select the aspect ratio for the gallery items.","integrate-google-drive"))))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Margin","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Lf,{value:_,onChange:function(e){return r(Df(Df({},n),{},{galleryMargin:e}))},allowReset:!0,resetFallbackValue:5,min:0,max:100,marks:[{value:0,label:"0"},{value:100,label:"100"}]}),React.createElement("p",{className:"description"},wp.i18n.__("The margin between each image in the gallery. Leave empty for default value.","integrate-google-drive")))),React.createElement("div",{className:"settings-field field-gallery-image-size"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Image Thumbnail Size","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Mf,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"igd-pro-tooltip",value:k,onChange:function(t){e?r(Df(Df({},n),{},{galleryImageSize:t})):On(wp.i18n.__("Upgrade to change the gallery image size.","integrate-google-drive"))},options:[{label:wp.i18n.__("Small - 300x300","integrate-google-drive"),value:"small"},{label:wp.i18n.__("Medium - 600x400","integrate-google-drive"),value:"medium"},{label:wp.i18n.__("Large - 1024x768","integrate-google-drive"),value:"large"},{label:wp.i18n.__("Full","integrate-google-drive"),value:"full"},{label:wp.i18n.__("Custom","integrate-google-drive"),value:"custom"}],disabled:!e}),!e&&React.createElement(rt,{id:"igd-pro-tooltip",effect:"solid",place:"right",variant:"warning"}),React.createElement("p",{className:"description"},wp.i18n.__("Select the thumbnail size for the gallery images.","integrate-google-drive")),"custom"===k&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Custom Size","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"gallery-custom-size-wrap"},React.createElement(Uf,{value:F,onChange:function(e){return r(Df(Df({},n),{},{galleryCustomSizeWidth:e}))},placeholder:wp.i18n.__("Width","integrate-google-drive"),type:"number",min:0}),React.createElement(Uf,{value:j,onChange:function(e){return r(Df(Df({},n),{},{galleryCustomSizeHeight:e}))},placeholder:wp.i18n.__("Height","integrate-google-drive"),type:"number",min:0})),React.createElement("p",{className:"description"},wp.i18n.__("Set the custom thumbnail size width and height for the gallery images.","integrate-google-drive"))))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Thumbnail View","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(jf,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"igd-pro-tooltip"},React.createElement(Tf,{isPrimary:"rounded"===S,isSecondary:"square"===S,onClick:function(){e?r(Df(Df({},n),{},{galleryView:"rounded"})):On(wp.i18n.__("Upgrade to change the gallery view.","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-grid-view"}),React.createElement("span",null,wp.i18n.__("Rounded","integrate-google-drive"))),React.createElement(Tf,{isPrimary:"square"===S,isSecondary:"rounded"===S,disabled:!e,onClick:function(){e?r(Df(Df({},n),{},{galleryView:"square"})):On(wp.i18n.__("Upgrade to change the gallery view.","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-screenoptions"}),React.createElement("span",null,wp.i18n.__("Square","integrate-google-drive")))),React.createElement("p",{className:"description"},wp.i18n.__("Select the image thumbnail view style for the gallery.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Folder View","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(jf,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"igd-pro-tooltip"},React.createElement(Tf,{isPrimary:"title"===A,isSecondary:"thumbnail"===A,onClick:function(){e?r(Df(Df({},n),{},{galleryFolderView:"title"})):On(wp.i18n.__("Upgrade to change the gallery folder view.","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-info"}),React.createElement("span",null,wp.i18n.__("Title","integrate-google-drive"))),React.createElement(Tf,{isPrimary:"thumbnail"===A,isSecondary:"title"===A,disabled:!e,onClick:function(){e?r(Df(Df({},n),{},{galleryFolderView:"thumbnail"})):On(wp.i18n.__("Upgrade to change the gallery folder view.","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-format-gallery"}),React.createElement("span",null,wp.i18n.__("Thumbnail","integrate-google-drive")))),React.createElement("p",{className:"description"},wp.i18n.__("Select the folders view style for the gallery.","integrate-google-drive")))),React.createElement(xf,{editData:n,setEditData:r})),(_t||Nt)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Browser View","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(jf,null,React.createElement(Tf,{isPrimary:"grid"===Re,isSecondary:"list"===Re,onClick:function(){return r(Df(Df({},n),{},{view:"grid"}))}},React.createElement("i",{className:"dashicons dashicons-grid-view"}),React.createElement("span",null,wp.i18n.__("Grid","integrate-google-drive"))),React.createElement(Tf,{isPrimary:"list"===Re,isSecondary:"grid"===Re,onClick:function(){return r(Df(Df({},n),{},{view:"list"}))}},React.createElement("i",{className:"dashicons dashicons-list-view"}),React.createElement("span",null,wp.i18n.__("List","integrate-google-drive")))),React.createElement("p",{className:"description"},wp.i18n.__("Select the file browser view.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},"list"===Re&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Last Modified Field","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:Ie,onChange:function(){return r(Df(Df({},n),{},{showLastModified:!Ie}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the file last modified date field in the list view.","integrate-google-drive"))))))),!!Nt&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Search Box Text","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:Te,onChange:function(e){return r(Df(Df({},n),{},{searchBoxText:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Set the search box text.","integrate-google-drive")))),(_t||Rt)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Enable Files Lazy load","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:Se,onChange:function(){return r(Df(Df({},n),{},{lazyLoad:!Se}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enable files lazy load to avoid loading all files at once.","integrate-google-drive")),Se&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Files Loading Type","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(jf,null,React.createElement(Tf,{isPrimary:"pagination"===Ae,isSecondary:"pagination"!==Ae,onClick:function(){return r(Df(Df({},n),{},{lazyLoadType:"pagination"}))}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},React.createElement("path",{d:"M2.53317 11.9998C3.33317 12.7998 3.99984 13.4665 4.79984 14.2665C5.19984 14.6665 5.73317 15.1998 6.13317 15.5998C6.39984 15.8665 6.39984 16.1331 6.2665 16.5331C6.13317 16.7998 5.8665 17.0665 5.59984 17.0665C5.33317 17.0665 5.0665 16.9331 4.93317 16.7998C4.2665 16.1331 3.4665 15.3331 2.79984 14.6665C2.13317 13.8665 1.59984 13.3331 1.0665 12.7998C0.533171 12.2665 0.533171 11.5998 1.0665 11.0665C2.2665 9.73313 3.59984 8.53313 4.79984 7.19979C5.0665 7.06646 5.33317 6.93313 5.73317 7.06646C5.99984 7.19979 6.2665 7.33313 6.39984 7.73313C6.53317 8.13313 6.39984 8.39979 6.13317 8.53313C4.93317 9.59979 3.8665 10.6665 2.93317 11.7331C2.79984 11.7331 2.6665 11.8665 2.53317 11.9998Z",fill:"#2FB44B"}),React.createElement("path",{d:"M21.4665 12C20.2665 10.8 19.1998 9.73332 17.9998 8.53332C17.5998 8.13332 17.5998 7.73332 17.8665 7.46665C18.1332 7.06665 18.7998 6.93332 19.1998 7.33332C19.9998 8.13332 20.9332 9.06665 21.7332 9.86665C22.1332 10.2666 22.5332 10.6666 22.9332 11.0666C23.4665 11.6 23.4665 12.1333 22.9332 12.6666C21.5998 14 20.3998 15.3333 19.0665 16.5333C18.7998 16.8 18.2665 16.8 17.9998 16.5333C17.5998 16.2666 17.5998 15.7333 17.8665 15.4667C17.8665 15.3333 17.9998 15.3333 18.1332 15.2C19.1998 14.1333 20.2665 13.0666 21.3332 12C21.3332 12.1333 21.3332 12.1333 21.4665 12Z",fill:"#2FB44B"}),React.createElement("path",{d:"M11.0664 12C11.0664 11.4666 11.5997 10.9333 12.1331 11.0666C12.6664 11.0666 13.1997 11.6 13.0664 12.1333C13.0664 12.6666 12.5331 13.2 11.9997 13.0666C11.4664 12.9333 11.0664 12.5333 11.0664 12Z",fill:"#2FB44B"}),React.createElement("path",{d:"M7.19971 11.9998C7.19971 11.4664 7.59971 10.9331 8.13304 10.9331C8.66637 10.9331 9.19971 11.3331 9.19971 11.9998C9.19971 12.5331 8.79971 13.0664 8.13304 13.0664C7.59971 13.0664 7.19971 12.5331 7.19971 11.9998Z",fill:"#2FB44B"}),React.createElement("path",{d:"M15.0664 11.9998C15.0664 11.4664 15.4664 10.9331 16.1331 10.9331C16.6664 10.9331 17.1997 11.4664 17.1997 11.9998C17.1997 12.5331 16.6664 13.0664 16.1331 13.0664C15.4664 13.0664 15.0664 12.5331 15.0664 11.9998Z",fill:"#2FB44B"})),React.createElement("span",null,wp.i18n.__("Pagination","integrate-google-drive"))),React.createElement(Tf,{isPrimary:"button"===Ae,isSecondary:"button"!==Ae,onClick:function(){return r(Df(Df({},n),{},{lazyLoadType:"button"}))}},React.createElement("i",{className:"dashicons dashicons-plus"}),React.createElement("span",null,wp.i18n.__("Load More Button","integrate-google-drive"))),React.createElement(Tf,{isPrimary:"scroll"===Ae,isSecondary:"scroll"!==Ae,onClick:function(){return r(Df(Df({},n),{},{lazyLoadType:"scroll"}))}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none"},React.createElement("path",{d:"M13.7532 13.1894C14.3346 12.608 14.8831 12.0594 15.427 11.5108C15.6427 11.2951 15.8865 11.1967 16.1913 11.2764C16.7211 11.417 16.9274 12.0359 16.5851 12.4673C16.5476 12.5189 16.5007 12.5658 16.4539 12.608C15.5067 13.5551 14.5549 14.5069 13.6078 15.454C13.2093 15.8526 12.792 15.8526 12.3981 15.4587C11.4275 14.4881 10.457 13.5223 9.4911 12.5517C9.24729 12.3079 9.18634 11.9891 9.31762 11.6984C9.44422 11.4123 9.73492 11.2342 10.0491 11.2529C10.2601 11.267 10.4242 11.3655 10.5695 11.5108C11.0759 12.0219 11.587 12.5283 12.098 13.0393C12.1402 13.0815 12.1777 13.1237 12.2481 13.2034C12.2481 13.0956 12.2481 13.0346 12.2481 12.9737C12.2481 9.66814 12.2481 6.36259 12.2481 3.05704C12.2481 2.60224 12.5388 2.26934 12.9514 2.24589C13.3734 2.22245 13.711 2.52722 13.7485 2.96327C13.7532 3.02891 13.7532 3.08986 13.7532 3.15551C13.7532 6.41886 13.7532 9.68221 13.7532 12.9456C13.7532 13.0159 13.7532 13.0768 13.7532 13.1894Z",fill:"white"}),React.createElement("path",{d:"M4.24675 4.80575C3.66066 5.39184 3.11677 5.94042 2.57288 6.489C2.3572 6.70468 2.10869 6.80314 1.80862 6.71874C1.2741 6.57339 1.07249 5.93573 1.42883 5.51374C1.51323 5.41059 1.61638 5.32151 1.71015 5.22304C2.6057 4.33219 3.50124 3.43664 4.39679 2.54109C4.79533 2.14255 5.20794 2.14255 5.60648 2.54109C6.57704 3.51166 7.54761 4.48222 8.51349 5.4481C8.72448 5.65909 8.7995 5.91697 8.71979 6.20299C8.64008 6.49369 8.43378 6.67186 8.14308 6.73281C7.87113 6.78908 7.6367 6.6953 7.44446 6.49837C6.93339 5.98262 6.41763 5.47154 5.90656 4.95578C5.86436 4.91359 5.83623 4.86201 5.80341 4.81981C5.78934 4.82919 5.77059 4.83388 5.75652 4.84326C5.75652 4.90421 5.75652 4.96516 5.75652 5.02612C5.75652 8.33166 5.75652 11.6372 5.75652 14.9428C5.75652 15.3929 5.47519 15.7211 5.06728 15.7492C4.6406 15.782 4.28895 15.4679 4.25613 15.0318C4.25144 14.9662 4.25144 14.9053 4.25144 14.8396C4.25144 11.5809 4.25144 8.32229 4.25144 5.06363C4.24675 4.99329 4.24675 4.92765 4.24675 4.80575Z",fill:"white"})),React.createElement("span",null,wp.i18n.__("Scroll","integrate-google-drive")))),React.createElement("p",{className:"description"},wp.i18n.__("Select the files loading type for the lazy load.","integrate-google-drive")),React.createElement("div",{className:"igd-notice igd-notice-info loading-method-info"},React.createElement("div",{className:"igd-notice-content"},React.createElement("p",{className:"description"},React.createElement("strong",null,"Scroll ")," - ",wp.i18n.__("Loads more files as the user scrolls to the bottom.","integrate-google-drive"),React.createElement("br",null),React.createElement("strong",null,"Pagination ")," - ",wp.i18n.__("Navigate through files using page numbers.","integrate-google-drive"),React.createElement("br",null),React.createElement("strong",null,"Load More Button ")," - ",wp.i18n.__("Load files with a button click.","integrate-google-drive")))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Number of Files to Load","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Lf,{value:xe,onChange:function(e){return r(Df(Df({},n),{},{lazyLoadNumber:e}))},allowReset:!0,resetFallbackValue:100,min:0,max:500,marks:[{value:0,label:"0"},{value:500,label:"500"}],step:10}),React.createElement("p",{className:"description"},wp.i18n.__("Set the number of files to load on each lazy load.","integrate-google-drive"))))))),(_t||Rt)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Header","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:B,onChange:function(){return r(Df(Df({},n),{},{showHeader:!B}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the file browser header.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},B&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Breadcrumbs Navigation","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:M,onChange:function(){return r(Df(Df({},n),{},{showBreadcrumbs:!M}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the breadcrumbs folder navigation in the header.","integrate-google-drive")))),B&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Refresh Button","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:J,onChange:function(){return r(Df(Df({},n),{},{showRefresh:!J}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the refresh (sync) button in the header.","integrate-google-drive")))),B&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Sorting Button","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:$,onChange:function(){return r(Df(Df({},n),{},{showSorting:!$}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the files sorting options button in the header","integrate-google-drive"))))))),St&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Next & Previous","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:fe,onChange:function(){return r(Df(Df({},n),{},{nextPrevious:!fe}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/hide the next & previous buttons in the player. Enables navigation between media items in the playlist.","integrate-google-drive")))),!ue&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Rewind & Forward","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:he,onChange:function(){return r(Df(Df({},n),{},{rewindForward:!he}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/hide the rewind & forward buttons in the player. Allows users to quickly skip backward or forward in the video.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Playlist","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:Z,onChange:function(){return r(Df(Df({},n),{},{showPlaylist:!Z}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/hide the playlist in the player.","integrate-google-drive")),Z&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Playlist Style","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Gf,{label:"Player Style",checked:we,onChange:function(e){r(Df(Df({},n),{},{playlistStyle:e}))}},React.createElement(zf,{value:"list"},React.createElement("i",{className:"dashicons dashicons-list-view"}),wp.i18n.__("List","integrate-google-drive")),React.createElement(zf,{value:"grid"},React.createElement("i",{className:"dashicons dashicons-grid-view"}),wp.i18n.__("Grid","integrate-google-drive"))),React.createElement("p",{className:"description"},wp.i18n.__("Select the playlist style in the player.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Opened Playlist","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:te,onChange:function(){return r(Df(Df({},n),{},{openedPlaylist:!te}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Should be the playlist opened by default.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Playlist Toggle","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:me,onChange:function(){return r(Df(Df({},n),{},{showPlaylistToggle:!me}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/hide the playlist toggle button in the player controls.","integrate-google-drive")))),!ue&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Playlist Autoplay","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:re,onChange:function(){return r(Df(Df({},n),{},{playlistAutoplay:!re}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Start playing next item automatically in the playlist once the current item is ended.","integrate-google-drive")))),"list"===we&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Thumbnail","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:ae,onChange:function(){return r(Df(Df({},n),{},{playlistThumbnail:!ae}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/hide the thumbnail in the playlist.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Number Prefix","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:le,onChange:function(){return r(Df(Df({},n),{},{playlistNumber:!le}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/hide the numeric prefix in the playlist items.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Playlist Position","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Gf,{label:"Player Position",checked:se,onChange:function(e){r(Df(Df({},n),{},{playlistPosition:e}))}},React.createElement(zf,{value:"left"},wp.i18n.__("Left","integrate-google-drive")),React.createElement(zf,{value:"right"},wp.i18n.__("Right","integrate-google-drive")),React.createElement(zf,{value:"bottom"},wp.i18n.__("Bottom","integrate-google-drive"))),React.createElement("p",{className:"description"},wp.i18n.__("Select the playlist position in the player.","integrate-google-drive")))))))),Et&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Overwrite Files","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:Ue,onChange:function(){return r(Df(Df({},n),{},{overwrite:!Ue}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enable to overwrite files with the same name.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Enable Folder Upload","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"igd-pro-tooltip",className:e?"":"disabled",checked:e&&Le,onChange:function(){return r(Df(Df({},n),{},{enableFolderUpload:!Le}))}}),!e&&React.createElement(rt,{id:"igd-pro-tooltip",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to upload folders. A folder upload button will be added.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Enable File Description","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"igd-pro-tooltip",className:e?"":"disabled",checked:e&&Me,onChange:function(){return r(Df(Df({},n),{},{enableUploadDescription:!Me}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to add a description to the uploaded files.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Upload Immediately","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:Be,onChange:function(){return r(Df(Df({},n),{},{uploadImmediately:!Be}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Start uploading files immediately after they are selected.","integrate-google-drive")),!!i&&React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},React.createElement("strong",null,wp.i18n.__("Note: ","integrate-google-drive")),wp.i18n.__("For multi-step forms, must be enabled this option to proceed to the next step.","integrate-google-drive"))))),!i&&!Be&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Upload Confirmation","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:Ke,onChange:function(){return r(Df(Df({},n),{},{showUploadConfirmation:!Ke}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the upload confirmation message after upload is complete.","integrate-google-drive")),Ke&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field field-upload-confirmation-message"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Confirmation Message","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("p",{className:"description"},wp.i18n.__("Enter the upload confirmation message.","integrate-google-drive")),React.createElement("textarea",{value:Je,id:"upload-confirmation-message",onChange:function(e){r((function(t){return Df(Df({},t),{},{uploadConfirmationMessage:e.target.value})}))}})))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show Upload Label Text","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:He,onChange:function(){return r(Df(Df({},n),{},{showUploadLabel:!He}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the upload files label text in the uploader box.","integrate-google-drive")),He&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Label Text","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:Ve,onChange:function(e){return r(Df(Df({},n),{},{uploadLabelText:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the uploader label text.","integrate-google-drive"))))))),!!i&&React.createElement("div",{className:"settings-field form-entry-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Create Entry Folder","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"igd-pro-tooltip",className:e?"":"disabled",checked:ht,onChange:function(){e?r(Df(Df({},n),{},{createEntryFolders:!ht})):On(wp.i18n.__("Upgrade to Pro to create entry folders","integrate-google-drive"))}}),React.createElement("p",{className:"description"},wp.i18n.__("Create a folder for the files uploaded through this upload field.","integrate-google-drive")),!!ht&&e&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Name template","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:wt,onChange:function(t){e?r(Df(Df({},n),{},{entryFolderNameTemplate:t.target.value})):On(wp.i18n.__("Upgrade to PRO to create form entry folders.","integrate-google-drive"))},onSelect:function(e){return kt(e.target.selectionStart)},ref:Ft,className:"igd-tag-input"}),React.createElement("p",{className:"description"},wp.i18n.__("Set the form entry folder name template.","integrate-google-drive")),React.createElement("div",{className:"template-tags"},React.createElement("div",{className:"template-tags-title",onClick:function(e){return jQuery(e.target).closest(".template-tags-title").toggleClass("active")}},React.createElement("span",null,wp.i18n.__("Available template tags","integrate-google-drive")),React.createElement("span",null,wp.i18n.__(" (click to insert)","integrate-google-drive"))),React.createElement("div",{className:"template-tags-list"},l.map((function(t,i){if("boolean"!=typeof t)return""===t?React.createElement("span",{className:"tag-break"}):React.createElement("span",{className:"tag",key:i,onClick:function(){if(e){var i;i=(i=null!==Dt?wt.slice(0,Dt)+t+" "+wt.slice(Dt):wt+" "+t).trim(),r(Df(Df({},n),{},{entryFolderNameTemplate:i}));var a=Dt+t.length+1;Ft.current.setSelectionRange(a,a)}else On(wp.i18n.__("Upgrade to PRO to enable auto entry folders creation.","integrate-google-drive"))}},t)}))),"cf7"===i&&React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},wp.i18n.__("You can also use the form field names to rename the upload folder with the form field values.","integrate-google-drive"),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("For example: ","integrate-google-drive")),wp.i18n.__('If you have a field with the name "your-name" and a field with the name "your-email", you can use the tags %field_your-name% and %field_your-email% to rename the upload folder.',"integrate-google-drive"))),["fluentforms","metform"].includes(i)&&React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},wp.i18n.__("You can also use the form field name attributes to rename the upload folder with the form field values.","integrate-google-drive"),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("For example: ","integrate-google-drive")),wp.i18n.__('If you have a field with the FIELD NAME attribute "your-name" and a field with the name attribute "your-email", you can use the tags %field_your-name% and %field_your-email% to rename the upload folder.',"integrate-google-drive"))),["wpforms","gravityforms","formidableforms"].includes(i)&&React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},wp.i18n.__("You can also use the form FIELD ID to rename the upload folder with the form field values.","integrate-google-drive"),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("For example: ","integrate-google-drive")),wp.i18n.__("If you have a field with the ID 1, you can use the tag %field_id_1% to rename the upload folder.","integrate-google-drive"))),"ninjaforms"===i&&React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},wp.i18n.__("You can also use the form FIELD KEY  to rename the upload folder with the form field values.","integrate-google-drive"),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("For example: ","integrate-google-drive")),wp.i18n.__('If you have a field with the key "your-name" and a field with the key "your-email", you can use the tags %field_your-name% and %field_your-email% to rename the upload folder.',"integrate-google-drive"))),"elementor"===i&&React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},wp.i18n.__("You can also use the field ID  to rename the upload folder with the form field values.","integrate-google-drive"),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("For example: ","integrate-google-drive")),wp.i18n.__('If you have a field with the id "name" and a field with the key "field_12ca45", you can use the tags %name% and %field_12ca45% to rename the upload folder.',"integrate-google-drive")))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Merge Folders","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:bt,onChange:function(){e?r(Df(Df({},n),{},{mergeFolders:!bt})):On(wp.i18n.__("Upgrade to Pro to create entry folders","integrate-google-drive"))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow merging folders if a folder with the same name already exists, and upload files into that existing folder instead of creating a new one.","integrate-google-drive"))))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("File Rename","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:Ge,onSelect:function(e){return kt(e.target.selectionStart)},ref:Ft,onChange:function(e){r(Df(Df({},n),{},{uploadFileName:e.target.value}))},className:"igd-tag-input","data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"igd-pro-tooltip",disabled:!e}),React.createElement("p",{className:"description"},wp.i18n.__("Rename the uploaded files by adding suffix or prefix. You can use the available tags to rename the file.","integrate-google-drive"),!!i&&React.createElement("a",{href:"https://softlabbd.com/docs/how-to-rename-uploaded-files-based-on-form-field-values/",target:"_blank"},wp.i18n.__("Documentation","integrate-google-drive"),React.createElement("i",{className:"dashicons dashicons-editor-help"}))),React.createElement("div",{className:"template-tags"},React.createElement("div",{className:"template-tags-title",onClick:function(e){return jQuery(e.target).closest(".template-tags-title").toggleClass("active")}},React.createElement("span",null,wp.i18n.__("Available tags","integrate-google-drive")),React.createElement("span",null,wp.i18n.__(" (click to insert)","integrate-google-drive"))),React.createElement("div",{className:"template-tags-list"},o.map((function(e,t){return""===e?React.createElement("span",{className:"tag-break"}):React.createElement("span",{className:"tag",key:t,onClick:function(){var t;t=(t=null!==Dt?Ge.slice(0,Dt)+e+" "+Ge.slice(Dt):Ge+" "+e).trim(),r(Df(Df({},n),{},{uploadFileName:t}));var i=Dt+e.length+1;Ft.current.setSelectionRange(i,i)}},e)}))),"cf7"===i&&React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},wp.i18n.__("You can also use the form field names to rename the upload folder with the form field values.","integrate-google-drive"),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("For example: ","integrate-google-drive")),wp.i18n.__('If you have a field with the name "your-name" and a field with the name "your-email", you can use the tags %field_your-name% and %field_your-email% to rename the upload folder.',"integrate-google-drive"))),["fluentforms","metform"].includes(i)&&React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},wp.i18n.__("You can also use the form field name attributes to rename the upload folder with the form field values.","integrate-google-drive"),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("For example: ","integrate-google-drive")),wp.i18n.__('If you have a field with the FIELD NAME attribute "your-name" and a field with the name attribute "your-email", you can use the tags %field_your-name% and %field_your-email% to rename the uploaded files.',"integrate-google-drive"))),["wpforms","gravityforms","formidableforms"].includes(i)&&React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},wp.i18n.__("You can also use the form FIELD ID to rename the uploaded files with the form field values.","integrate-google-drive"),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("For example: ","integrate-google-drive")),wp.i18n.__("If you have a field with the ID 1, you can use the tag %field_id_1% to rename the uploaded files.","integrate-google-drive"))),"ninjaforms"===i&&React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},wp.i18n.__("You can also use the form FIELD KEY  to rename the uploaded files with the form field values.","integrate-google-drive"),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("For example: ","integrate-google-drive")),wp.i18n.__('If you have a field with the key "your-name" and a field with the key "your-email", you can use the tags %field_your-name% and %field_your-email% to rename the uploaded files.',"integrate-google-drive"))),"elementor"===i&&React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},wp.i18n.__("You can also use the field ID  to rename the uploaded files with the form field values.","integrate-google-drive"),React.createElement("br",null),React.createElement("strong",null,wp.i18n.__("For example: ","integrate-google-drive")),wp.i18n.__('If you have a field with the id "name" and a field with the key "field_12ca45", you can use the tags %name% and %field_12ca45% to rename the uploaded files.',"integrate-google-drive"))))))),Ct&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Open in new tab","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:Fe,onChange:function(){return r(Df(Df({},n),{},{openNewTab:!Fe}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Open a new tab for viewing the file.","integrate-google-drive")))),Ot&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Slide Height","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:$e,onChange:function(e){r(Df(Df({},n),{},{slideHeight:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Set the height of the carousel slide. You can use any valid CSS unit (pixels, percentage), eg '360px', '780px', '80%'. Keep blank for default value.","integrate-google-drive")))),React.createElement("div",{className:"settings-field field-gallery-image-size"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Image Size","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Mf,{value:Ze,onChange:function(e){return r(Df(Df({},n),{},{sliderImageSize:e}))},options:[{label:wp.i18n.__("Small - 300x300","integrate-google-drive"),value:"small"},{label:wp.i18n.__("Medium - 600x400","integrate-google-drive"),value:"medium"},{label:wp.i18n.__("Large - 1024x768","integrate-google-drive"),value:"large"},{label:wp.i18n.__("Full","integrate-google-drive"),value:"full"},{label:wp.i18n.__("Custom","integrate-google-drive"),value:"custom"}]}),React.createElement("p",{className:"description"},wp.i18n.__("Select the thumbnail size for the slider images.","integrate-google-drive")),"custom"===Ze&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Custom Size","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"gallery-custom-size-wrap"},React.createElement(Uf,{value:et,onChange:function(e){return r(Df(Df({},n),{},{sliderCustomSizeWidth:e}))},placeholder:wp.i18n.__("Width","integrate-google-drive"),type:"number",min:0}),React.createElement(Uf,{value:tt,onChange:function(e){return r(Df(Df({},n),{},{sliderCustomSizeHeight:e}))},placeholder:wp.i18n.__("Height","integrate-google-drive"),type:"number",min:0})),React.createElement("p",{className:"description"},wp.i18n.__("Set the custom thumbnail size width and height for the slider images.","integrate-google-drive"))))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Slides per Page","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"column-devices"},React.createElement(jf,null,["xs","sm","md","lg","xl"].map((function(e){var t="xs"===e?"Mobile":"sm"===e?"Tablet":"md"===e?"Laptop":"lg"===e?"Desktop":"xl"===e?"Large Desktop":"";return React.createElement(Tf,{isPrimary:e===Tt,isSecondary:e!==Tt,onClick:function(){return Bt(e)}},React.createElement("span",null,t))})))),React.createElement(Lf,{value:it[Tt],onChange:function(e){return r(Df(Df({},n),{},{slidesPerPage:Df(Df({},it),{},kf({},Tt,e))}))},min:1,max:12,marks:[{value:1,label:"1"},{value:4,label:"4"},{value:8,label:"8"},{value:12,label:"12"}],allowReset:!0,resetFallbackValue:"xs"===Tt?1:"sm"===Tt?2:"md"===Tt?3:"lg"===Tt?4:"xl"===Tt?5:void 0}),React.createElement("p",{className:"description"},wp.i18n.__("Set the number of slides per page for each device.","integrate-google-drive")),React.createElement("p",{className:"description"},wp.i18n.__("Mobile: < 576px, Tablet: ≥ 576px, Laptop: ≥ 768px, Desktop: ≥ 992px, Large Desktop: ≥ 1200px","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Gap","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Lf,{value:pt,onChange:function(e){return r(Df(Df({},n),{},{slideGap:e}))},min:0,max:50,marks:[{value:0,label:"0"},{value:50,label:"50"}],allowReset:!0,resetFallbackValue:5}),React.createElement("p",{className:"description"},wp.i18n.__("Set the gap between slides in pixels.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Slide Autoplay","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:ot,onChange:function(){return r(Df(Df({},n),{},{slideAutoplay:!ot}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enable autoplay for the slider.","integrate-google-drive")),ot&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Autoplay Speed","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Lf,{value:ct,onChange:function(e){return r(Df(Df({},n),{},{slideAutoplaySpeed:e}))},min:1e3,max:1e4,marks:[{value:1e3,label:"1"},{value:2e3,label:"2"},{value:3e3,label:"3"},{value:4e3,label:"5"},{value:5e3,label:"10"}],allowReset:!0,resetFallbackValue:3}),React.createElement("p",{className:"description"},wp.i18n.__("Set the autoplay speed in seconds.","integrate-google-drive"))))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Slide Dots Navigation","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:dt,onChange:function(){return r(Df(Df({},n),{},{slideDots:!dt}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enable dots navigation for the slider.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Slide Arrows Navigation","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:gt,onChange:function(){return r(Df(Df({},n),{},{slideArrows:!gt}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enable arrows navigation for the slider.","integrate-google-drive")))),React.createElement(xf,{editData:n,setEditData:r})),a&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Enable Redirection","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:ft,onChange:function(){return r(Df(Df({},n),{},{woocommerceRedirect:!ft}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enable to redirect the user directly to the Google Drive file instead of downloading the file.","integrate-google-drive")))),ft&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Add User Permission","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Bf,{checked:vt,onChange:function(){return r(Df(Df({},n),{},{woocommerceAddPermission:!vt}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enable to add permission for the purchase email address to the file.","integrate-google-drive")),React.createElement("p",{className:"description"},React.createElement("strong",null,wp.i18n.__("Note:","integrate-google-drive"))," ",wp.i18n.__("The purchase email address must be a gmail address. Otherwise the permission will not be added.","integrate-google-drive"))))),(_t||Rt||Nt||St||Ot)&&React.createElement("div",{className:"settings-field sort-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Sorting","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"sort-field-section-wrap"},React.createElement("div",{className:"sort-field-section"},React.createElement("span",{className:"sort-field-section-label"},wp.i18n.__("SORT BY","integrate-google-drive")),Object.keys(c).map((function(e){return React.createElement("div",{key:e,className:"sort-item ".concat(_e.sortBy===e?"active":""),onClick:function(){return r(Df(Df({},n),{},{sort:Df(Df({},_e),{},{sortBy:e})}))}},React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,c[e]))}))),"random"!==_e.sortBy&&React.createElement("div",{className:"sort-field-section"},React.createElement("span",{className:"sort-field-section-label"},wp.i18n.__("SORT DIRECTION","integrate-google-drive")),Object.keys(s).map((function(e){return React.createElement("div",{key:e,className:"sort-item ".concat(_e.sortDirection===e?"active":""),onClick:function(){return r(Df(Df({},n),{},{sort:Df(Df({},_e),{},{sortDirection:e})}))}},React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,s[e]))})))),React.createElement("p",{className:"description"},wp.i18n.__("Select file sorting and direction.","integrate-google-drive")))))}function Jf(e){return Jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(e)}function Yf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yf(Object(n),!0).forEach((function(t){Xf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xf(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Jf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Jf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jf(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zf=React.useContext,ev=wp.components.FormToggle,tv=igd.isPro;function nv(){var e=Zf(Bo),t=e.editData,n=e.setEditData,r=t.type,i=t.enableNotification,a=void 0!==i&&i,o=t.downloadNotification,l=void 0===o||o,c=t.uploadNotification,s=void 0===c||c,d=t.deleteNotification,u=void 0===d||d,g=t.playNotification,m=void 0===g||g,p=t.searchNotification,f=void 0===p?"search"===r:p,v=t.viewNotification,h=void 0===v||v,y=t.notificationEmail,w=void 0===y?"%admin_email%":y,b=t.skipCurrentUserNotification,_=void 0===b||b,E="browser"===r,R="uploader"===r,N="media"===r,S="gallery"===r,C="slider"===r,x="search"===r,O="download"===r,A="view"===r;return React.createElement("div",{className:"shortcode-module-body"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Enable Notifications","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(ev,{"data-tooltip-content":"PRO Feature","data-tooltip-id":"igd-tooltip-enable-notification",checked:tv&&a,className:tv?"":"disabled",onChange:function(){tv?n($f($f({},t),{},{enableNotification:!a})):On(wp.i18n.__("Upgrade to PRO to enable email notificationenableN","integrate-google-drive"))}}),!tv&&React.createElement(rt,{id:"igd-tooltip-enable-notification",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Enable email notifications to get notified on various user activities (upload, download, delete, etc).","integrate-google-drive")),(a||!tv)&&React.createElement("div",{className:"settings-field-sub"},(E||S||x||N||C||O)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Download Notification","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(ev,{"data-tooltip-content":"PRO Feature","data-tooltip-id":"download-notification",checked:l&&tv,className:tv?"":"disabled",onChange:function(){igd.isPro?n($f($f({},t),{},{downloadNotification:!l})):On(wp.i18n.__("Upgrade to PRO to enable email notifications.","integrate-google-drive"))}}),!tv&&React.createElement(rt,{id:"download-notification",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Receive email notification whenever files is downloaded through this module.","integrate-google-drive")))),(E||R)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Upload Notification","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(ev,{"data-tooltip-content":"PRO Feature","data-tooltip-id":"upload-notification",checked:s&&tv,className:tv?"":"disabled",onChange:function(){tv?n($f($f({},t),{},{uploadNotification:!s})):On(wp.i18n.__("Upgrade to PRO to enable email notification.","integrate-google-drive"))}}),!tv&&React.createElement(rt,{id:"upload-notification",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Receive an email notifications whenever someone uploaded files through this module.","integrate-google-drive")))),E&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Delete Notification","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(ev,{"data-tooltip-content":"PRO Feature","data-tooltip-id":"delete-notification",checked:u&&tv,className:tv?"":"disabled",onChange:function(){igd.isPro?n($f($f({},t),{},{deleteNotification:!u})):On(wp.i18n.__("Upgrade to PRO to enable email notifications.","integrate-google-drive"))}}),!tv&&React.createElement(rt,{id:"delete-notification",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Receive email notifications whenever someone deleted files through this module.","integrate-google-drive")))),N&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Media Play Notification","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(ev,{"data-tooltip-content":"PRO Feature",checked:m&&tv,className:tv?"":"disabled",onChange:function(){tv?n($f($f({},t),{},{playNotification:!m})):On(wp.i18n.__("Upgrade to PRO to enable email notifications.","integrate-google-drive"))}}),!tv&&React.createElement(rt,{id:"play-notification",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Receive email notifications whenever someone play audio/video files through this module.","integrate-google-drive")))),(E||S||x||N)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Search Notification","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(ev,{"data-tooltip-content":"PRO Feature","data-tooltip-id":"search-notification",checked:f&&tv,className:tv?"":"disabled",onChange:function(){igd.isPro?n($f($f({},t),{},{searchNotification:!f})):On(wp.i18n.__("Upgrade to PRO to enable email notifications.","integrate-google-drive"))}}),!tv&&React.createElement(rt,{id:"search-notification",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Receive email notifications whenever someone search for files through this module.","integrate-google-drive")))),A&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("View Notification","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(ev,{"data-tooltip-content":"PRO Feature","data-tooltip-id":"view-notification",checked:h&&tv,className:tv?"":"disabled",onChange:function(){tv?n($f($f({},t),{},{viewNotification:!h})):On(wp.i18n.__("Upgrade to PRO to enable email notifications.","integrate-google-drive"))}}),!tv&&React.createElement(rt,{id:"view-notification",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Receive email notifications whenever someone view files through this module.","integrate-google-drive"))))))),(!!a||!tv)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Notification Recipients","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{"data-tooltip-content":"PRO Feature","data-tooltip-id":"notification-email",type:"email",value:w,className:tv?"":"disabled",onChange:function(e){tv?n($f($f({},t),{},{notificationEmail:e.target.value})):On(wp.i18n.__("Upgrade to PRO to enable email notifications.","integrate-google-drive"))}}),!tv&&React.createElement(rt,{id:"notification-email",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the email address where the notifications will be sent. Add multiple email addresses by separating them with a comma (,).","integrate-google-drive")),React.createElement("p",{className:"description"},wp.i18n.__("You can also set the below placeholder tags as email recipient.","integrate-google-drive")),React.createElement("div",{className:"template-tags"},React.createElement("div",{className:"template-tags-title",onClick:function(e){return jQuery(e.target).closest(".template-tags-title").toggleClass("active")}},React.createElement("span",null,wp.i18n.__("Available template tags","integrate-google-drive")),React.createElement("span",null,wp.i18n.__(" (click to insert)","integrate-google-drive"))),React.createElement("div",{className:"template-tags-list"},["%admin_email%","%user_email%","%linked_user_email%"].map((function(e,r){return React.createElement("span",{className:"tag",key:r,onClick:function(){tv?n($f($f({},t),{},{notificationEmail:(w+", "+e).replace(/^,/,"")})):On(wp.i18n.__("Upgrade to PRO to enable email notifications.","integrate-google-drive"))}},e)})))),React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},React.createElement("div",null,React.createElement("strong",null,"%admin_email%")," - ",wp.i18n.__("The email of site admin.","integrate-google-drive")),React.createElement("div",null,React.createElement("strong",null,"%user_email%")," - ",wp.i18n.__("The email of current user who executes the action.","integrate-google-drive")),React.createElement("div",null,React.createElement("strong",null,"%linked_user_email%")," - ",wp.i18n.__("The email of the owner of the private folder.","integrate-google-drive")))),React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Skip current user notification","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(ev,{"data-tooltip-content":"PRO Feature","data-tooltip-id":"skip-current-user-notification",checked:tv&&_,className:tv?"":"disabled",onChange:function(){tv?n($f($f({},t),{},{skipCurrentUserNotification:!_})):On(wp.i18n.__("Upgrade to PRO to enable email notifications.","integrate-google-drive"))}}),!tv&&React.createElement(rt,{id:"skip-current-user-notification",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Enable to skip the notification for the user that executes the action.","integrate-google-drive"))))))))}function rv(e){var t=e.usersOptions,n=e.values,r=e.onChange,i=e.description,a=void 0===i?wp.i18n.__("Select the users and roles who can access.","integrate-google-drive"):i;return React.createElement("div",{className:"filter-users"},React.createElement("h4",{className:"filter-users-title"},"Filter Users & Roles:"),React.createElement("div",{className:"filter-users-section-wrap"},React.createElement(ReactSelect,{isClearable:!1,isMulti:!0,placeholder:"Select users & roles",options:t,value:t.filter((function(e){return n.includes(e.value)})),onChange:function(e){return r(e)},className:"igd-select filter-users-select",classNamePrefix:"igd-select"}),React.createElement("p",{className:"description"},a)))}function iv(e){return iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(e)}function av(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ov(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?av(Object(n),!0).forEach((function(t){lv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):av(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lv(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=iv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iv(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cv(e){return function(e){if(Array.isArray(e))return uv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||dv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dv(e,t){if(e){if("string"==typeof e)return uv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uv(e,t):void 0}}function uv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gv=wp.components,mv=gv.FormToggle,pv=gv.ButtonGroup,fv=gv.Button,vv=React,hv=vv.useState,yv=vv.useEffect,wv=vv.useContext,bv=vv.useRef,_v=["%post_id%","%post_title%","%post_slug%","%post_author%","%post_date%","%post_modified%","%post_type%","%post_status%","%post_category%","%post_tags%","%post_meta_{key}%","","%wc_product_name%","%wc_product_id%","%wc_product_sku%","%wc_product_slug%","%wc_product_price%","%wc_product_sale_price%","%wc_product_regular_price%","%wc_product_tags%","%wc_product_type%","%wc_product_status%","","%user_login%","%user_email%","%first_name%","%last_name%","%display_name%","%user_id%","%user_role%","%user_meta_{key}%","","%date%","%time%","%unique_id%"];function Ev(){var e=igd,t=e.isPro,n=e.settings,r=wv(Bo),i=r.editData,a=r.setEditData,o=i.type,l=i.preview,c=void 0===l||l,s=i.inlinePreview,d=void 0===s||s,u=i.allowPreviewPopout,g=void 0===u||u,m=i.previewUsers,p=void 0===m?["everyone"]:m,f=i.rename,v=void 0!==f&&f,h=i.renameUsers,y=void 0===h?["everyone"]:h,w=i.newFolder,b=void 0!==w&&w,_=i.newFolderUsers,E=void 0===_?["everyone"]:_,R=i.moveCopy,N=void 0!==R&&R,S=i.moveCopyUsers,C=void 0===S?["everyone"]:S,x=i.canDelete,O=void 0!==x&&x,A=i.deleteUsers,P=void 0===A?["everyone"]:A,I=i.upload,D=void 0!==I&&I,k=i.uploadUsers,F=void 0===k?["everyone"]:k,j=i.photoProof,T=void 0!==j&&j,B=i.photoProofBtnText,L=void 0===B?wp.i18n.__("Submit Selections","integrate-google-drive"):B,M=i.photoProofEmail,U=void 0===M?"":M,z=i.photoProofMaxSelection,G=i.photoProofUsers,H=void 0===G?["everyone"]:G,W=i.download,V=void 0===W||W,q=i.folderDownload,K=void 0!==q&&q,Q=i.zipDownload,J=void 0!==Q&&Q,Y=i.showFileSizeField,$=void 0===Y||Y,X=i.downloadUsers,Z=void 0===X?["everyone"]:X,ee=i.enableDownloadLimits,te=i.downloadsPerDay,ne=void 0===te?n.downloadsPerDay:te,re=i.downloadsPerFile,ie=void 0===re?n.downloadsPerFile:re,ae=i.bandwidthPerDay,oe=void 0===ae?n.bandwidthPerDay:ae,le=i.limitExcludedUsers,ce=void 0===le?["administrator"]:le,se=i.limitExcludeAllUsers,de=void 0===se?[]:se,ue=i.limitExcludedExceptUsers,ge=void 0===ue?[]:ue,me=i.details,pe=void 0!==me&&me,fe=i.detailsUsers,ve=void 0===fe?["everyone"]:fe,he=i.viewSwitch,ye=void 0===he||he,we=i.allowShare,be=void 0!==we&&we,_e=i.shareUsers,Ee=void 0===_e?["everyone"]:_e,Re=i.createDoc,Ne=void 0!==Re&&Re,Se=i.createDocumentUsers,Ce=void 0===Se?["everyone"]:Se,xe=i.edit,Oe=void 0!==xe&&xe,Ae=i.editUsers,Pe=void 0===Ae?["everyone"]:Ae,Ie=i.directLink,De=void 0!==Ie&&Ie,ke=i.directLinkUsers,Fe=void 0===ke?["everyone"]:ke,je=i.allowSearch,Te=void 0===je?"search"===o:je,Be=i.searchUsers,Le=void 0===Be?["everyone"]:Be,Me=i.fullTextSearch,Ue=void 0===Me||Me,ze=i.initialSearchTerm,Ge=void 0===ze?"":ze,He=i.comment,We=void 0!==He&&He,Ve=i.commentMethod,qe=void 0===Ve?"facebook":Ve,Ke=i.commentUsers,Qe=void 0===Ke?["everyone"]:Ke,Je=i.privateFolders,Ye=i.displayFor,$e=void 0===Ye?"everyone":Ye,Xe=i.displayUsers,Ze=void 0===Xe?["everyone"]:Xe,et=i.displayEveryone,tt=i.displayExcept,nt=void 0===tt?[]:tt,it=i.showAccessDeniedMessage,at=i.accessDeniedMessage,ot=void 0===at?'\n<img width="100" src="http://localhost:3000/wp-content/plugins/integrate-google-drive/assets/images/access-denied.png">\n\n<h3 class="placeholder-title">'.concat(wp.i18n.__("Access Denied","integrate-google-drive"),'</h3>\n\n<p class="placeholder-description">\n').concat(wp.i18n.__("We're sorry, but your account does not currently have access to this content. To gain access, please contact the site administrator who can assist in linking your account to the appropriate content. Thank you.","integrate-google-drive"),"\n</p>"):at,lt=i.enablePasswordProtection,ct=i.password,st="browser"===o,dt="media"===o,ut="gallery"===o,gt="slider"===o,mt="search"===o,pt="uploader"===o,ft="embed"===o,vt="view"===o,ht=sv(hv(null),2),yt=ht[0],wt=ht[1],bt=yt&&[{label:wp.i18n.__("Everyone","integrate-google-drive"),value:"everyone"}].concat(cv(Object.keys(yt.roles).map((function(e){return{label:"".concat(e," (role)"),value:e}}))),cv(yt.users.map((function(e){var t=e.username,n=e.email,r=e.id;return{label:"".concat(t," (").concat(n,")"),value:parseInt(r)}}))));yv((function(){wp.ajax.post("igd_get_users_data",{nonce:igd.nonce}).then((function(e){return wt(e)}))}),[]);var _t=sv(hv(null),2),Et=_t[0],Rt=_t[1],Nt=bv();return React.createElement("div",{className:"shortcode-module-body"},st||dt||ut||gt||mt&&React.createElement("h3",{className:"settings-field-title"},wp.i18n.__("File Manipulation","integrate-google-drive")),st&&React.createElement("div",{className:"settings-field"},React.createElement("h3",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-upload"}),wp.i18n.__("Upload","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{checked:D,onChange:function(){return a(ov(ov({},i),{},{upload:!D}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to upload files.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},D&&!!yt&&React.createElement(rv,{usersOptions:bt,values:F,onChange:function(e){return a(ov(ov({},i),{},{uploadUsers:cv(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can upload files.","integrate-google-drive")})))),(st||gt||mt)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-visibility"}),wp.i18n.__("Preview","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{checked:c,onChange:function(){return a(ov(ov({},i),{},{preview:!c}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to preview files.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},c&&!gt&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Inline Preview","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{checked:d,onChange:function(){return a(ov(ov({},i),{},{inlinePreview:!d}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Open preview in a pop-up lightbox. If disabled, the preview will be opened in Google Drive.","integrate-google-drive")),d&&React.createElement(React.Fragment,null,React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Allow Pop-out","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{checked:g,onChange:function(){return a(ov(ov({},i),{},{allowPreviewPopout:!g}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Pop-out button allows the user to view the document on Google Drive with full features, while disabling it will only show the preview document on your website.","integrate-google-drive")))))),c&&!!yt&&React.createElement(rv,{usersOptions:bt,values:p,onChange:function(e){return a(ov(ov({},i),{},{previewUsers:cv(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can preview files.","integrate-google-drive")})))),ut&&React.createElement("div",{className:"settings-field"},React.createElement("div",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-format-gallery"}),wp.i18n.__("Photo Proofing","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"photo-proofing-tooltip",checked:t&&T,className:t?"":"disabled",onChange:function(){t?a(ov(ov({},i),{},{photoProof:!T})):On(wp.i18n.__("Upgrade to Pro to photo proofing","integrate-google-drive"))}}),!t&&React.createElement(rt,{id:"photo-proofing-tooltip",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to select images and send them to the admin.","integrate-google-drive")),t&&!!T&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Button Text","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:L,onChange:function(e){t?a(ov(ov({},i),{},{photoProofBtnText:e.target.value})):On(wp.i18n.__("Upgrade to PRO to enable photo proofing","integrate-google-drive"))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the text for the photo selection submit button.","integrate-google-drive"))),React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Maximum Selection","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"number",value:z,onChange:function(e){t?a(ov(ov({},i),{},{photoProofMaxSelection:e.target.value})):On(wp.i18n.__("Upgrade to PRO to enable photo proofing","integrate-google-drive"))},min:0}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the maximum number of images that can be selected. Leave empty for no limit.","integrate-google-drive"))),React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Notification Email","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:U,onChange:function(e){t?a(ov(ov({},i),{},{photoProofEmail:e.target.value})):On(wp.i18n.__("Upgrade to Pro to enable photo proofing","integrate-google-drive"))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the email address where the selected images notification will be sent.","integrate-google-drive")))),!!yt&&React.createElement(rv,{usersOptions:bt,values:H,onChange:function(e){return a(ov(ov({},i),{},{photoProofUsers:cv(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can select.","integrate-google-drive")})))),(st||dt||gt||ut||mt)&&React.createElement("div",{className:"settings-field"},React.createElement("div",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-download"}),wp.i18n.__("Download","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{checked:V,onChange:function(){return a(ov(ov({},i),{},{download:!V}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to download files.","integrate-google-drive")),!!V&&React.createElement("div",{className:"settings-field-sub"},(st||ut||mt)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Folder Download","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"folder-download-tooltip",checked:t&&K,className:t?"":"disabled",onChange:function(){t?a(ov(ov({},i),{},{folderDownload:!K})):On(wp.i18n.__("Upgrade to Pro to enable folder download.","integrate-google-drive"))}}),!t&&React.createElement(rt,{id:"folder-download-tooltip",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to download entire folders as a ZIP file.","integrate-google-drive"))),React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Multiple Files Download","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"zip-download-tooltip",checked:t&&J,className:t?"":"disabled",onChange:function(){t?a(ov(ov({},i),{},{zipDownload:!J})):On(wp.i18n.__("Upgrade to Pro to enable multiple files download.","integrate-google-drive"))}}),!t&&React.createElement(rt,{id:"zip-download-tooltip",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to download multiple files as a ZIP file.","integrate-google-drive")),React.createElement("div",{className:"igd-notice igd-notice-warning"},React.createElement("p",{className:"igd-notice-content"},wp.i18n.__("The Google Drive API does not support ZIP creation on the fly. Therefore, the ZIP file needs to be created (temporarily) on your server. For that reason, it is not recommended to enable this setting when you are working with large files or folders.","integrate-google-drive"))))),(st||mt)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show File Size Field","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{checked:$,onChange:function(){return a(ov(ov({},i),{},{showFileSizeField:!$}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show/ hide the file size field in the file list.","integrate-google-drive")))),!!yt&&React.createElement(rv,{usersOptions:bt,values:Z,onChange:function(e){return a(ov(ov({},i),{},{downloadUsers:cv(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can download files.","integrate-google-drive")})))),st&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-trash"}),wp.i18n.__("Delete","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{checked:O,onChange:function(){return a(ov(ov({},i),{},{canDelete:!O}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to delete files and folders.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},O&&!!yt&&React.createElement(rv,{usersOptions:bt,values:P,onChange:function(e){return a(ov(ov({},i),{},{deleteUsers:cv(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can delete files & folders.","integrate-google-drive")})))),React.createElement("div",{className:"settings-field"},React.createElement("h3",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-open-folder"}),wp.i18n.__("New Folder","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{checked:b,onChange:function(){return a(ov(ov({},i),{},{newFolder:!b}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to create new folders.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},b&&!!yt&&React.createElement(rv,{usersOptions:bt,values:E,onChange:function(e){return a(ov(ov({},i),{},{newFolderUsers:cv(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can create folders.","integrate-google-drive")})))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-admin-page"}),wp.i18n.__("Move/ Copy","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{checked:N,onChange:function(){return a(ov(ov({},i),{},{moveCopy:!N}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to move/ copy files and folders.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},N&&!!yt&&React.createElement(rv,{usersOptions:bt,values:C,onChange:function(e){return a(ov(ov({},i),{},{moveCopyUsers:cv(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can move/ copy files.","integrate-google-drive")})))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-edit"}),wp.i18n.__("Rename","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{checked:v,onChange:function(){return a(ov(ov({},i),{},{rename:!v}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to rename files and folders.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},v&&!!yt&&React.createElement(rv,{usersOptions:bt,values:y,onChange:function(e){return a(ov(ov({},i),{},{renameUsers:cv(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can rename files.","integrate-google-drive")})))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-plus"}),wp.i18n.__("Create Documents","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{checked:Ne,onChange:function(){return a(ov(ov({},i),{},{createDoc:!Ne}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to create Google Docs and Office documents.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},Ne&&!!yt&&React.createElement(rv,{usersOptions:bt,values:Ce,onChange:function(e){return a(ov(ov({},i),{},{createDocumentUsers:cv(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can create documents.","integrate-google-drive")})))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-edit-large"}),wp.i18n.__("Edit Documents","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{checked:Oe,onChange:function(){return a(ov(ov({},i),{},{edit:!Oe}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to edit Google Docs and Office documents.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},Oe&&!!yt&&React.createElement(rv,{usersOptions:bt,values:Pe,onChange:function(e){return a(ov(ov({},i),{},{editUsers:cv(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can edit documents.","integrate-google-drive")})))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-share"}),wp.i18n.__("Allow Share","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{checked:be,onChange:function(){return a(ov(ov({},i),{},{allowShare:!be}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to share files.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},be&&!!yt&&React.createElement(rv,{usersOptions:bt,values:Ee,onChange:function(e){return a(ov(ov({},i),{},{shareUsers:cv(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can share files.","integrate-google-drive")})))),React.createElement("div",{className:"settings-field"},React.createElement("h3",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-admin-links"}),wp.i18n.__("Direct Link","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{checked:De,onChange:function(){return a(ov(ov({},i),{},{directLink:!De}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to generate direct links for files on your website.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},De&&!!yt&&React.createElement(rv,{usersOptions:bt,values:Fe,onChange:function(e){return a(ov(ov({},i),{},{directLinkUsers:cv(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can share files.","integrate-google-drive")})))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-info-outline"}),wp.i18n.__("View Details","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{checked:pe,onChange:function(){return a(ov(ov({},i),{},{details:!pe}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to view file details (owner, created & modified date, etc).","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},pe&&!!yt&&React.createElement(rv,{usersOptions:bt,values:ve,onChange:function(e){return a(ov(ov({},i),{},{detailsUsers:cv(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who view the file details.","integrate-google-drive")}))))),(st||ut||mt)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-admin-comments"}),wp.i18n.__("Allow Comments","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"comments-tooltip",checked:t&&We,className:t?"":"disabled",onChange:function(){t?a(ov(ov({},i),{},{comment:!We})):On(wp.i18n.__("Upgrade to Pro to enable comments","integrate-google-drive"))}}),!t&&React.createElement(rt,{id:"comments-tooltip",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to comment on files while they view the file in lightbox preview.","integrate-google-drive")),We&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Comment Method","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(pv,null,React.createElement(fv,{isPrimary:"facebook"===qe,isSecondary:"facebook"!==qe,onClick:function(){return a(ov(ov({},i),{},{commentMethod:"facebook"}))}},React.createElement("span",null,wp.i18n.__("Facebook","integrate-google-drive"))),React.createElement(fv,{isPrimary:"disqus"===qe,isSecondary:"disqus"!==qe,onClick:function(){return a(ov(ov({},i),{},{commentMethod:"disqus"}))}},React.createElement("span",null,wp.i18n.__("Disqus","integrate-google-drive")))),React.createElement("p",{className:"description"},wp.i18n.__("Select the comment method you want to use.","integrate-google-drive")))),!!yt&&React.createElement(rv,{usersOptions:bt,values:Qe,onChange:function(e){return a(ov(ov({},i),{},{commentUsers:cv(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can comments on files.","integrate-google-drive")})))),(st||mt)&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-screenoptions"}),wp.i18n.__("View Switching","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{checked:ye,onChange:function(){a(ov(ov({},i),{},{viewSwitch:!ye}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to switch between grid and list view of the file listing.","integrate-google-drive")))),(st||ut||dt||mt)&&React.createElement("div",{className:"settings-field field-allow-search"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-search"}),wp.i18n.__("Allow Search","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},!mt&&React.createElement(React.Fragment,null,React.createElement(mv,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"search-tooltip",checked:t&&Te,className:t?"":"disabled",onChange:function(){t?a(ov(ov({},i),{},{allowSearch:!Te})):On(wp.i18n.__("Upgrade to Pro to enable search","integrate-google-drive"))}}),!t&&React.createElement(rt,{id:"search-tooltip",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to search for files.","integrate-google-drive"))),Te&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Full-text Search","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{checked:Ue,onChange:function(){return a(ov(ov({},i),{},{fullTextSearch:!Ue}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow to search in file content, descriptions, tags and other metadata.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Initial Search Term","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:Ge,onChange:function(e){return a(ov(ov({},i),{},{initialSearchTerm:e.target.value}))},onSelect:function(e){return Rt(e.target.selectionStart)},ref:Nt}),React.createElement("p",{className:"description"},wp.i18n.__("Set initial search terms if you want to start a search when the shortcode is rendered. Please note that this only affects the initial render.","integrate-google-drive")),React.createElement("p",{className:"description"},wp.i18n.__("You can also set dynamic placeholder tags to the initial search term.","integrate-google-drive")),React.createElement("div",{className:"template-tags"},React.createElement("div",{className:"template-tags-title",onClick:function(e){return jQuery(e.target).closest(".template-tags-title").toggleClass("active")}},React.createElement("span",null,wp.i18n.__("Available template tags","integrate-google-drive")),React.createElement("span",null,wp.i18n.__(" (click to insert)","integrate-google-drive"))),React.createElement("div",{className:"template-tags-list"},_v.map((function(e,t){return""===e?React.createElement("span",{className:"tag-break"}):React.createElement("span",{className:"tag",key:t,onClick:function(){var t;t=(t=null!==Et?uploadFileName.slice(0,Et)+e+" "+uploadFileName.slice(Et):uploadFileName+" "+e).trim(),a(ov(ov({},i),{},{uploadFileName:t}));var n=Et+e.length+1;Nt.current.setSelectionRange(n,n)}},e)})))))),!mt&&!!yt&&React.createElement(rv,{usersOptions:bt,values:Le,onChange:function(e){return a(ov(ov({},i),{},{searchUsers:cv(e.map((function(e){return e.value})))}))},description:wp.i18n.__("Select users & roles who can search for files.","integrate-google-drive")})))),!pt&&!vt&&!ft&&React.createElement(React.Fragment,null,React.createElement("h3",{className:"settings-field-title field-visibility"},wp.i18n.__("Usage Limit","integrate-google-drive")),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Enable Usage Limit","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"igd-pro-tooltip",checked:t&&ee,onChange:function(){t?a((function(e){return ov(ov({},e),{},{enableDownloadLimits:!ee})})):On(wp.i18n.__("Upgrade to Pro to enable usage limits","integrate-google-drive"))},className:t?"":"disabled"}),!t&&React.createElement(rt,{id:"igd-pro-tooltip",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Enable download restrictions for users to control the download access for this module.","integrate-google-drive"),React.createElement("a",{href:"https://softlabbd.com/docs/how-to-configure-usage-limit-settings",target:"_blank",className:""},wp.i18n.__("Documentation","integrate-google-drive"),React.createElement("i",{className:"dashicons dashicons-editor-help"}))),n.enableDownloadLimits&&React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},React.createElement("div",null,wp.i18n.__("Usage limits are enabled globally, but you can also enable usage limits specifically for this module.","integrate-google-drive")))))),(!!ee||!t)&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Daily Downloads Limit","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",lv({"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"igd-pro-tooltip",type:"number",className:"regular-text",value:ne,onChange:function(e){return a((function(t){return ov(ov({},t),{},{downloadsPerDay:e.target.value})}))}},"className",t?"":"disabled")),React.createElement("p",{className:"description"},wp.i18n.__("Set the maximum number of downloads allowed per day for users. Keep blank for unlimited.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Daily Download Limit / File","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"igd-pro-tooltip",type:"number",className:"regular-text",value:ie,onChange:function(e){return a((function(t){return ov(ov({},t),{},{downloadsPerFile:e.target.value})}))},disabled:!t}),React.createElement("p",{className:"description"},wp.i18n.__("Set the maximum number of times the same file can be downloaded by users per day. Keep blank for unlimited.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Daily Bandwidth Limit","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"igd-pro-tooltip",type:"number",className:"regular-text",value:oe,onChange:function(e){return a((function(t){return ov(ov({},t),{},{bandwidthPerDay:e.target.value})}))},disabled:!t}),React.createElement("p",{className:"description"},wp.i18n.__("Set the maximum bandwidth (MB) allowed per day for users. Keep blank for unlimited.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Exclude Users & Roles","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},!!yt&&React.createElement("div",{className:"filter-users"},React.createElement("div",{className:"filter-users-section-wrap"},React.createElement(ReactSelect,{isDisabled:!t||de,isMulti:!0,placeholder:"Select users & roles",options:bt,value:bt.filter((function(e){return ce.includes(e.value)})),onChange:function(e){a((function(t){return ov(ov({},t),{},{limitExcludedUsers:cv(e.map((function(e){return e.value})))})}))},className:"igd-select",classNamePrefix:"igd-select",styles:{multiValue:function(e,t){return"administrator"===t.data.value?ov(ov({},e),{},{backgroundColor:"gray"}):e},multiValueLabel:function(e,t){return"administrator"===t.data.value?ov(ov({},e),{},{color:"white",paddingRight:6}):e},multiValueRemove:function(e,t){return"administrator"===t.data.value?ov(ov({},e),{},{display:"none"}):e}}}),React.createElement("p",{className:"description"},wp.i18n.__("Select the roles and users who will be excluded from the download restrictions.","integrate-google-drive"))),React.createElement("div",{className:"filter-users-section-wrap"},React.createElement("div",{className:"filter-users-section"},React.createElement("span",{className:"filter-users-section-label"},wp.i18n.__("Exclude All :","integrate-google-drive")," "),React.createElement(mv,{checked:t&&de,onChange:function(){a((function(e){return ov(ov({},e),{},{limitExcludeAllUsers:!de})}))},className:t?"":"disabled"})),React.createElement("div",{className:"filter-users-section"},React.createElement("span",{className:"filter-users-section-label"},wp.i18n.__("Except : ","integrate-google-drive")),React.createElement(ReactSelect,{isDisabled:!t||!de,isMulti:!0,placeholder:"Select users & roles",options:bt.filter((function(e){return"everyone"!==e.value})),value:bt.filter((function(e){return ge.includes(e.value)})),onChange:function(e){return a((function(t){return ov(ov({},t),{},{limitExcludedExceptUsers:cv(e.map((function(e){return e.value})))})}))},className:"igd-select",classNamePrefix:"igd-select"})),React.createElement("p",{className:"description"},wp.i18n.__("When activated, the download restrictions will be only applied to the selected roles and users.","integrate-google-drive")))))))),React.createElement("h3",{className:"settings-field-title field-visibility"},wp.i18n.__("Password Protection","integrate-google-drive")),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Enable Password Protection","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{"data-tooltip-content":wp.i18n.__("PRO Feature","integrate-google-drive"),"data-tooltip-id":"igd-pro-tooltip",checked:t&&lt,onChange:function(){t?a((function(e){return ov(ov({},e),{},{enablePasswordProtection:!lt})})):On(wp.i18n.__("Upgrade to Pro to enable password protection.","integrate-google-drive"))},className:t?"":"disabled"}),!t&&React.createElement(rt,{id:"igd-pro-tooltip",place:"right",variant:"warning",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Enable password protection for this module. Users will need to enter the password to access the module.","integrate-google-drive"),React.createElement("a",{href:"",target:"_blank",className:""},wp.i18n.__("Documentation","integrate-google-drive"),React.createElement("i",{className:"dashicons dashicons-editor-help"}))),lt&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Password","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:ct,onChange:function(e){return a((function(t){return ov(ov({},t),{},{password:e.target.value})}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Set the password for this module.","integrate-google-drive"))))))),React.createElement("h3",{className:"settings-field-title field-visibility"},wp.i18n.__("Visibility","integrate-google-drive")),!Je&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-visibility"}),wp.i18n.__("Display for","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"filter-users-group"},React.createElement(pv,null,React.createElement(fv,{isPrimary:"everyone"===$e,isSecondary:"everyone"!==$e,onClick:function(){return a(ov(ov({},i),{},{displayFor:"everyone"}))}},React.createElement("span",null,wp.i18n.__("Everyone","integrate-google-drive"))),React.createElement(fv,{isPrimary:"loggedIn"===$e,isSecondary:"loggedIn"!==$e,onClick:function(){return a(ov(ov({},i),{},{displayFor:"loggedIn"}))}},React.createElement("span",null,wp.i18n.__("Logged In","integrate-google-drive")))),React.createElement("p",{className:"description"},wp.i18n.__("Select who can see the module.","integrate-google-drive"))))),"loggedIn"===$e&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Filter Users & Roles","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},yt?React.createElement("div",{className:"filter-users"},React.createElement("div",{className:"filter-users-section-wrap"},React.createElement(ReactSelect,{isDisabled:et,isMulti:!0,placeholder:"Select users & roles",options:bt,value:bt.filter((function(e){return Ze.includes(e.value)})),onChange:function(e){return a(ov(ov({},i),{},{displayUsers:cv(e.map((function(e){return e.value})))}))},className:"igd-select",classNamePrefix:"igd-select"}),React.createElement("p",{className:"description"},wp.i18n.__("Select the users and user roles who can see the module.","integrate-google-drive"))),React.createElement("div",{className:"filter-users-section-wrap"},React.createElement("div",{className:"filter-users-section"},React.createElement("span",{className:"filter-users-section-label"},wp.i18n.__("Everyone :","integrate-google-drive")," "),React.createElement(mv,{checked:et,onChange:function(){return a(ov(ov({},i),{},{displayEveryone:!et}))}})),React.createElement("div",{className:"filter-users-section"},React.createElement("span",{className:"filter-users-section-label"},wp.i18n.__("Except","integrate-google-drive")),React.createElement(ReactSelect,{isDisabled:!et,isMulti:!0,placeholder:"Select users & roles",options:bt.filter((function(e){return"everyone"!==e.value})),value:bt.filter((function(e){return nt.includes(e.value)})),onChange:function(e){return a(ov(ov({},i),{},{displayExcept:cv(e.map((function(e){return e.value})))}))},className:"igd-select",classNamePrefix:"igd-select"})),React.createElement("p",{className:"description"},wp.i18n.__("When activated, the module will be visible to everyone except for those specifically exempted.","integrate-google-drive")))):React.createElement("div",{className:"igd-spinner spinner-large"})))),!!Je&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},React.createElement("i",{className:"dashicons dashicons-welcome-comments"}),wp.i18n.__("Show Denied Message","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(mv,{checked:it,onChange:function(){return a(ov(ov({},i),{},{showAccessDeniedMessage:!it}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Show a message to users who don't have access to the module.","integrate-google-drive")),!!it&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field  field-access-denied-message"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Access Denied Message","integrate-google-drive")),React.createElement("p",{className:"description"},wp.i18n.__("Enter the message you want to show to users who don't have access to the module.","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("textarea",{value:ot,onChange:function(e){a((function(t){return ov(ov({},t),{},{accessDeniedMessage:e.target.value})}))},rows:8})))))))}function Rv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sv=React,Cv=Sv.useState,xv=Sv.useContext,Ov=Sv.useEffect;function Av(){var e=document.querySelector(".igd-tutor-attachment-modal"),t=xv(Bo),n=t.editData,r=t.updateShortcode,i=t.updating,a=t.isEditor,o=t.builderType,l=t.isInlineSelect,c=t.isSelectFiles,s=t.isFormBuilder,d=t.isLMS,u=t.isWooCommerce,g=t.selectionType,m=n.id,p=n.type,f="browser"===p,v="uploader"===p,h="gallery"===p,y="media"===p,w="search"===p,b="embed"===p,_="view"===p,E="download"===p,R="slider"===p,N=a&&"embed"===o,S=a&&("view"===o||"download"===o),C={type:wp.i18n.__("Types","integrate-google-drive"),sources:wp.i18n.__("Source","integrate-google-drive"),filters:wp.i18n.__("Filter","integrate-google-drive"),advanced:wp.i18n.__("Advanced","integrate-google-drive"),notifications:wp.i18n.__("Notifications","integrate-google-drive"),permissions:wp.i18n.__("Permissions","integrate-google-drive")},x=function(){return Object.keys(C).filter((function(e){return(!a||"type"!==e)&&((!(s||N||u)||!["type","permissions"].includes(e))&&((!(S||c||d)||"sources"===e)&&((!u&&!b||!["notifications"].includes(e))&&((!u||"filters"!==e)&&(!E&&!_||!["advanced","filters"].includes(e))))))}))},O=Rv(Cv(x),2),A=O[0],P=O[1],I=sessionStorage.getItem("igd_shortcode_builder_tab_".concat(m));I||(I=m&&A.includes("type")&&A.includes("sources")?"sources":A[0]);var D=Rv(Cv(I),2),k=D[0],F=D[1],j=A.indexOf(k),T="true"===localStorage.getItem("igd_shortcode_builder_sidebar_collapsed"),B=Rv(Cv(!nn()&&T),2),L=B[0],M=B[1];Ov((function(){P(x())}),[p]),Ov((function(){m&&(window.scrollTo({top:0,behavior:"smooth"}),sessionStorage.setItem("igd_shortcode_builder_tab_".concat(m),k))}),[k]);var U=wp.i18n.__("Module Type","integrate-google-drive"),z=wp.i18n.__("Select the module type that you want to use.","integrate-google-drive");return"sources"===k&&(U=wp.i18n.__("Select Folders and Files","integrate-google-drive"),z=wp.i18n.__("Select the folders & files to display in the file browser.","integrate-google-drive"),v&&(U=wp.i18n.__("Select Upload Folder","integrate-google-drive"),z=wp.i18n.__("Select the folder where the files will be uploaded.","integrate-google-drive")),h&&(U=wp.i18n.__("Select Files and Folders","integrate-google-drive"),z=wp.i18n.__("Select the files and folders to display in the gallery.","integrate-google-drive")),y&&(U=wp.i18n.__("Select Files and Folders","integrate-google-drive"),z=wp.i18n.__("Select the folders and audio/ video files to display and play in the media player.","integrate-google-drive")),w&&(U=wp.i18n.__("Select Folders","integrate-google-drive"),z=wp.i18n.__("Select the folders to search in.","integrate-google-drive")),b&&(U=wp.i18n.__("Select Files","integrate-google-drive"),z=wp.i18n.__("Select the files to embed. You can also select folders to embed all the files of the folder.","integrate-google-drive")),E&&(U=wp.i18n.__("Select Files","integrate-google-drive"),z=wp.i18n.__("Select the files to insert the download link. You can also select folders to insert the download link to download all the files of the folder in a zip file.","integrate-google-drive")),_&&(U=wp.i18n.__("Select Files","integrate-google-drive"),z=wp.i18n.__("Select the files and folders to insert the link to view the file in Google Drive.","integrate-google-drive")),e&&(U=wp.i18n.__("Select Files","integrate-google-drive"),z=wp.i18n.__("Select the files to attach in the course.","integrate-google-drive")),u&&(U=wp.i18n.__("Select Files","integrate-google-drive"),z=wp.i18n.__("Select the files to attach in the product for download.","integrate-google-drive"))),"filters"===k&&(U=wp.i18n.__("Filters","integrate-google-drive"),f?z=wp.i18n.__("Show/ hide files and folders and filter them by extensions and names to not display in the file browser.","integrate-google-drive"):v?z=wp.i18n.__("Filter the files to upload by extensions","integrate-google-drive"):h?z=wp.i18n.__("Show/ hide files and folders and filter them by extensions and names to not display in the gallery.","integrate-google-drive"):R?z=wp.i18n.__("Show/ hide files and filter them by extensions and names to not display in the slider.","integrate-google-drive"):y?z=wp.i18n.__("Show/ hide files and folders and filter them by extensions and names to not display in the media player.","integrate-google-drive"):w&&(z=wp.i18n.__("Show/ hide files and folders and filter them by extensions and names to not display in the search results.","integrate-google-drive"))),"advanced"===k&&(U=wp.i18n.__("Advanced Options","integrate-google-drive"),z=wp.i18n.__("Advanced options to customize the module.","integrate-google-drive")),"notifications"===k&&(U=wp.i18n.__("Email Notifications","integrate-google-drive"),z=wp.i18n.__("Receive email notifications for various user activities (upload, download, delete, etc).","integrate-google-drive")),"permissions"===k&&(U=wp.i18n.__("Permissions","integrate-google-drive"),z=wp.i18n.__("Set access permissions for the module.","integrate-google-drive")),React.createElement("div",{className:"igd-shortcode-builder-form ".concat(a?"editor-mode":"")},!c&&A.length>1&&React.createElement("div",{className:"shortcode-builder-sidebar ".concat(L?"sidebar-collapsed":""," tab-").concat(k)},!nn()&&React.createElement(React.Fragment,null,React.createElement("img",{src:igd.pluginUrl+"/assets/images/shortcode-builder/arrow.svg",className:"sidebar-collapser",onClick:function(){M(!L),localStorage.setItem("igd_shortcode_builder_sidebar_collapsed",!L)}}),React.createElement(rt,{anchorSelect:".sidebar-collapser",place:"right",className:"igd-tooltip",content:L?wp.i18n.__("Expand","integrate-google-drive"):wp.i18n.__("Collapse","integrate-google-drive"),delayShow:300})),React.createElement("div",{className:"shortcode-tabs ".concat(a?"edit-mode":"")},A.map((function(e,t){return React.createElement("div",{key:e,className:"shortcode-tab-wrap ".concat(j>=t?"active":""),onClick:function(){return F(e)}},React.createElement("div",{key:e,className:"shortcode-tab ".concat(e)},React.createElement("span",{className:"tab-icon icon-".concat(e)}),React.createElement("span",{className:"tab-name"},C[e])),!!L&&React.createElement(rt,{anchorSelect:".shortcode-tab.".concat(e),place:"right",className:"igd-tooltip",content:C[e],delayShow:300}))})))),React.createElement("div",{className:"shortcode-builder-content"},React.createElement("div",{className:"shortcode-module"},!l&&"folders"!==g&&!d&&React.createElement("div",{className:"shortcode-module-header"},React.createElement("div",{className:"module-title"},React.createElement("h2",null,U),React.createElement("span",null,z)),!!p&&React.createElement("div",{className:"module-type",onClick:function(){return F("type")}},React.createElement("span",{className:"module-type-title"},"Type : "),React.createElement("img",{className:"type-".concat(p),src:"".concat(igd.pluginUrl,"/assets/images/shortcode-builder/types/").concat(p,".svg"),alt:Dt()[p].title}),React.createElement("span",{className:"module-type-name"},Dt()[p].title))),"type"===k&&React.createElement(ac,{setTab:F,isEditor:a}),"sources"===k&&React.createElement(lf,null),"filters"===k&&React.createElement(yf,null),"advanced"===k&&React.createElement(Qf,null),"notifications"===k&&React.createElement(nv,null),"permissions"===k&&React.createElement(Ev,null)),!c&&A.length>1&&React.createElement("div",{className:"form-footer"},React.createElement("button",{"data-tooltip-content":wp.i18n.__("Previous step","integrate-google-drive"),"data-tooltip-id":"previous",type:"button",disabled:0===j,className:"igd-btn ".concat(0===j?"disabled":"btn-link"),onClick:function(){return F(A[j-1])}},React.createElement("i",{className:"dashicons dashicons-arrow-left-alt"}),React.createElement("span",null,wp.i18n.__("Back","integrate-google-drive")),React.createElement(rt,{id:"previous",effect:"solid",place:"top",className:"igd-tooltip"})),React.createElement("button",{type:"button",className:"igd-btn btn-primary",onClick:function(){return r(n)}},i?React.createElement("div",{className:"igd-spinner"}):React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,wp.i18n.__("Save Changes","integrate-google-drive"))),React.createElement("button",{"data-tooltip-content":wp.i18n.__("Next step","integrate-google-drive"),"data-tooltip-id":"next",type:"button",className:"igd-btn ".concat(j===A.length-1?"btn-primary":"btn-link"),onClick:function(){j===A.length-1?r(n,!0):F(A[j+1])}},j===A.length-1?React.createElement(React.Fragment,null,React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,wp.i18n.__("Finish","integrate-google-drive"))):React.createElement(React.Fragment,null,React.createElement("span",null,wp.i18n.__("Next","integrate-google-drive")),React.createElement("i",{className:"dashicons dashicons-arrow-right-alt"}),React.createElement(rt,{id:"next",effect:"solid",place:"top",className:"igd-tooltip"}))))))}function Pv(e){return Pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(e)}function Iv(e){return function(e){if(Array.isArray(e))return Bv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Tv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dv(Object(n),!0).forEach((function(t){Fv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fv(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Pv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pv(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||Tv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tv(e,t){if(e){if("string"==typeof e)return Bv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bv(e,t):void 0}}function Bv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lv=React,Mv=Lv.useState,Uv=Lv.useEffect;function zv(){var e=jv(Mv(!1),2),t=e[0],n=e[1],r=jv(Mv([]),2),i=r[0],a=r[1],o=jv(Mv(!1),2),l=o[0],c=o[1],s=jv(Mv(!0),2),d=s[0],u=s[1],g=jv(Mv(localStorage.getItem("igd_shortcode_list_per_page")||10),2),m=g[0],p=g[1],f=jv(Mv(localStorage.getItem("igd_shortcode_list_sort_by")||"created_at"),2),v=f[0],h=f[1],y=jv(Mv(localStorage.getItem("igd_shortcode_list_sort_order")||"desc"),2),w=y[0],b=y[1],_=jv(Mv(1),2),E=_[0],R=_[1],N=jv(Mv(0),2),S=N[0],C=N[1],x={id:null,status:"on",title:wp.i18n.__("Shortcode Title","integrate-google-drive"),type:igd.isPro?"browser":"gallery",allFolders:!1,folders:[],privateFolders:!1,allowExtensions:null,allowAllExtensions:!1,allowExceptExtensions:null,allowNames:null,allowAllNames:!1,allowExceptNames:null,nameFilterOptions:["files"],showFiles:!0,showFolders:!0,fileNumbers:"",embedWidth:"100%",embedHeight:"480px",sort:{sortBy:"name",sortDirection:"asc"},view:"list",lazyLoad:!0,lazyLoadNumber:100,lazyLoadType:"pagination",maxFileSize:"",minFileSize:"",enableFolderUpload:!1,openNewTab:!0,showUploadLabel:!0,uploadLabelText:wp.i18n.__("Upload Files","integrate-google-drive"),allowEmbedPopout:!0,thumbnailCaption:!0,preview:!0,download:!0,displayFor:"everyone",displayUsers:["everyone"],displayEveryone:!1,displayExcept:[]},O=jv(Mv(x),2),A=O[0],P=O[1],I=function(){return u(!0),wp.ajax.post("igd_get_shortcodes",{per_page:m,page:E,sort_by:v,sort_order:w,nonce:igd.nonce}).done((function(e){C(e.total),a(e.shortcodes)})).fail((function(e){console.log(e)})).always((function(){u(!1)}))};Uv((function(){I().then((function(){Yt()&&n(Yt())}))}),[]),Uv((function(){if(t<1)P(x);else{var e=kv(kv({},i.find((function(e){return e.id==t})).config),{},{id:parseInt(t)});P(e)}}),[t]);var D=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return c(!0),wp.ajax.post("igd_update_shortcode",{data:zt(JSON.stringify(e)),nonce:igd.nonce}).done((function(t){if(P(kv(kv({},t.config),{},{id:parseInt(t.id)})),e.id){var n=i.findIndex((function(e){return e.id==t.id})),r=Iv(i);r[n]=kv(kv({},r[n]),t),a(r)}else a([t].concat(Iv(i)));Swal.fire({text:wp.i18n.__("Shortcode has been updated.","integrate-google-drive"),icon:"success",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,toast:!0,position:"top-end",customClass:{container:"igd-swal save-settings-toast"}})})).fail((function(e){console.log(e),Swal.fire({text:wp.i18n.__("Something went wrong.","integrate-google-drive"),icon:"error",timer:2e3,showConfirmButton:!1,toast:!0,position:"top-end"})})).always((function(){c(!1),t&&n(!1)}))},k=Lt();return Uv((function(){A.id?A.id<1?document.title=wp.i18n.__("Add New Shortcode - Integrate Google Drive","integrate-google-drive"):document.title=wp.i18n.__("Edit Shortcode","integrate-google-drive")+" - "+A.title:document.title=wp.i18n.__("All Shortcodes - Integrate Google Drive","integrate-google-drive")}),[t,A]),Uv((function(){k&&(I(),window.scrollTo({top:0,behavior:"smooth"}))}),[E,m]),Uv((function(){k&&I()}),[v,w]),Uv((function(){var e=function(e){if("Enter"===e.key){if("TEXTAREA"===document.activeElement.tagName)return;D(A)}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[A]),React.createElement(Lo,{value:{shortcodes:i,edit:t,setEdit:n,editData:A,setEditData:P,updating:l,total:S,perPage:m,setPerPage:p,page:E,setPage:R,updateShortcode:D,deleteShortcode:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return wp.ajax.post("igd_delete_shortcode",{id:e,nonce:igd.nonce}).done((function(){a((function(t){return t.filter((function(t){return t.id!=e}))})),t&&(Jt(),n(!1)),Swal.fire({title:wp.i18n.__("Shortcode has been deleted","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:1500,timerProgressBar:!0,toast:!0})}))},duplicateShortcode:function(e){return c(!0),wp.ajax.post("igd_duplicate_shortcode",{ids:e,nonce:igd.nonce}).done((function(e){a([].concat(Iv(i),Iv(e))),Swal.fire({title:wp.i18n.__("Duplicated!","integrate-google-drive"),text:wp.i18n.__("Shortcode has been duplicated.","integrate-google-drive"),icon:"success",timer:2e3,showConfirmButton:!1,toast:!0,position:"top-end"})})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:wp.i18n.__("Something went wrong.","integrate-google-drive"),icon:"error",timer:2e3,showConfirmButton:!1,toast:!0,position:"top-end"})})).always((function(){c(!1)}))},sortBy:v,setSortBy:h,sortOrder:w,setSortOrder:b}},React.createElement("div",{className:"igd-shortcode-builder"},React.createElement(jl,null),d&&React.createElement("div",{className:"igd-spinner spinner-large"}),!d&&!t&&!!i.length&&React.createElement(Xl,null),!d&&!t&&!i.length&&React.createElement(Zl,{setEdit:n}),!d&&!!t&&(!!A.id||-1===t)&&React.createElement(Av,null)))}function Gv(e){return Gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(e)}function Hv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hv(Object(n),!0).forEach((function(t){Vv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vv(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Gv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gv(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qv(e){var t=e.setType,n={shortcodes:{title:wp.i18n.__("Module Shortcodes","integrate-google-drive"),description:wp.i18n.__("Insert pre-built module's shortcode.","integrate-google-drive")},browser:{title:wp.i18n.__("File Browser","integrate-google-drive"),description:wp.i18n.__("Insert a file browser to browse specific Google Drive files and folders.","integrate-google-drive"),isPro:!0},gallery:{title:wp.i18n.__("Gallery","integrate-google-drive"),description:wp.i18n.__("Insert a gallery to display specific Google Drive photos and videos with a lightbox preview.","integrate-google-drive")},uploader:{title:wp.i18n.__("File Uploader","integrate-google-drive"),description:wp.i18n.__("Insert a file uploader to upload files to a specific Google Drive folder.","integrate-google-drive"),isPro:!0},media:{title:wp.i18n.__("Media Player","integrate-google-drive"),description:wp.i18n.__("Insert a media player to play specific Google Drive Audio and Video files.","integrate-google-drive"),isPro:!0},search:{title:wp.i18n.__("File Search","integrate-google-drive"),description:wp.i18n.__("Insert a search box to search files and folders in specific Google Drive folders.","integrate-google-drive"),isPro:!0},slider:{title:wp.i18n.__("Slider Carousel","integrate-google-drive"),description:wp.i18n.__("Display Images, Videos, and Documents in a slider carousel.","integrate-google-drive"),isPro:!0},embed:{title:wp.i18n.__("Embed Documents","integrate-google-drive"),description:wp.i18n.__("Embed documents to your page/ post.","integrate-google-drive")},download:{title:wp.i18n.__("Insert Download Links","integrate-google-drive"),description:wp.i18n.__("Insert links to download Google Drive files.","integrate-google-drive")},view:{title:wp.i18n.__("Insert View Links","integrate-google-drive"),description:wp.i18n.__("Insert links to view the files in Google Drive.","integrate-google-drive")}};if(!igd.isPro){var r={},i={};Object.entries(n).forEach((function(e){var t=qv(e,2),n=t[0],a=t[1];a.isPro?i[n]=a:r[n]=a})),n=Wv(Wv({},r),i)}return React.createElement("div",{className:"igd-tinymce-types-wrap"},React.createElement("div",{className:"igd-tinymce-types-header"},React.createElement("h3",null,wp.i18n.__("Select Insert Type","integrate-google-drive")),React.createElement("span",null,wp.i18n.__("Select the insert type that you want to insert into you post or page.","integrate-google-drive"))),React.createElement("div",{className:"igd-tinymce-types"},Object.keys(n).map((function(e){var r="".concat(igd.pluginUrl,"/assets/images/shortcode-builder/types/").concat(e,".svg"),i=n[e],a=i.title,o=i.description,l=i.isPro;return React.createElement("div",{key:e,className:"igd-tinymce-type ".concat(l&&!igd.isPro?"pro-feature":""),onClick:function(){!l||igd.isPro?t(e):On(a+wp.i18n.__(" is available in the Pro version.","integrate-google-drive"))}},l&&!igd.isPro&&React.createElement("div",{className:"pro-badge"},React.createElement("i",{className:"dashicons dashicons-lock"}),React.createElement("span",null,wp.i18n.__("PRO","integrate-google-drive"))),React.createElement("div",{className:"icon-wrap icon-".concat(e)},React.createElement("img",{src:r})),React.createElement("span",{className:"igd-tinymce-type-title"},a),React.createElement("span",{className:"igd-tinymce-type-description"},o))}))))}function Jv(e){return Jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(e)}function Yv(e){return function(e){if(Array.isArray(e))return nh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||th(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$v(Object(n),!0).forEach((function(t){Zv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zv(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Jv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Jv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jv(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||th(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function th(e,t){if(e){if("string"==typeof e)return nh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nh(e,t):void 0}}function nh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rh=wp.components.SelectControl,ih=React,ah=ih.useState,oh=ih.useEffect;function lh(e){var t=e.setContent,n=eh(ah({id:null,isInit:!0,shortcodes:[]}),2),r=n[0],i=n[1],a=r.id,o=r.isInit,l=r.shortcodes;oh((function(){wp.ajax.post("igd_get_shortcodes",{nonce:igd.nonce}).done((function(e){var t=e.shortcodes;return i(Xv(Xv({},r),{},{isInit:!1,shortcodes:t}))}))}),[]);var c=[{label:wp.i18n.__("Select shortcode","integrate-google-drive"),value:""}].concat(Yv(l.map((function(e){return{label:e.title,value:e.id}}))));return React.createElement("div",{className:"igd-module-shortcodes"},React.createElement("h2",null,wp.i18n.__("Module Shortcodes","integrate-google-drive")),React.createElement("p",{className:"description"},wp.i18n.__("Select the already created module shortcode to insert into the post.","integrate-google-drive")),o?React.createElement("div",{className:"igd-spinner spinner-large"}):React.createElement(rh,{options:c,value:a,onChange:function(e){t('[integrate_google_drive id="'.concat(e,'"]')),i(Xv(Xv({},r),{},{id:e}))}}))}function ch(e){return ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(e)}function sh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sh(Object(n),!0).forEach((function(t){uh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uh(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ch(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ch(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ch(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ph=React.useState;function fh(e){var t=e.initData,n=gh(ph(!1),2),r=n[0],i=n[1],a=gh(ph(t?t.type:null),2),o=a[0],l=a[1],c=gh(ph(""),2),s=c[0],d=c[1],u=gh(ph(t||{uniqueId:"igd_"+Math.random().toString(36).substring(7),type:o,showFiles:!0,showFolders:!0,moduleWidth:"100%",moduleHeight:"",embedWidth:"100%",embedHeight:"480px",galleryHeight:300,galleryMargin:5,galleryView:"rounded",showHeader:!0,showBreadcrumbs:!0,allowEmbedPopout:!0,embedType:"readOnly",showRefresh:!0,openedPlaylist:!0,showFullscreen:!0,nextPrevious:!0,volumeButton:!0,view:"list",lazyLoad:!0,lazyLoadNumber:100,lazyLoadType:"pagination",openNewTab:!0,sort:{sortBy:"name",sortDirection:"asc"},preview:!0,allowPreviewPopout:!0,download:!0,folderDownload:!1,zipDownload:!1,displayFor:"everyone",displayUsers:["everyone"],displayExcept:[],slideHeight:"300px",slidesToShow:3,slidesToScroll:1,slideAutoplaySpeed:3e3,slideDots:!0}),2),g=u[0],m=u[1],p=function(){return Swal.close()};function f(e){var t="undefined"==typeof tinyMCE;t&&(window.tinyMCE=window.parent.tinyMCE);var n=tinyMCE.activeEditor;if(n){var r=n.id;["upload-confirmation-message","access-denied-message"].includes(r)&&(r="content");var i=t?window.parent.document.getElementById(r):document.getElementById(r),a=tinyMCE.get(r);if(a&&!a.isHidden())a.execCommand("mceInsertContent",!1,e);else{var o=i.selectionStart,l=i.value.substring(0,o),c=i.value.substring(i.selectionEnd,i.value.length);i.value=l+e+c,i.selectionStart=o+e.length,i.selectionEnd=o+e.length}}else console.warn("No active TinyMCE editor found.")}var v=function(){g.folders?(i(!0),g.folders=g.folders.map((function(e){return e.id?{id:e.id,accountId:e.accountId,name:e.name,type:e.type,permissions:e.permissions,resourceKey:e.resourceKey,webViewLink:e.webViewLink,iconLink:e.iconLink,thumbnailLink:e.thumbnailLink}:e})),wp.ajax.post("igd_get_embed_content",{data:g,nonce:igd.nonce}).done((function(e){f(e)})).fail((function(e){console.log(e)})).always((function(){p()}))):p()},h=function(){var e="";g.folders?(g.folders.map((function(t){var n=t.id,r=t.accountId,i=t.name,a=Rt(t)?"file_ids=".concat(zt(JSON.stringify([n]))):"id=".concat(n,"&accountId=").concat(r),o="".concat(igd.homeUrl,"?igd_download=1&").concat(a);e+='<a class="igd-download-link" href="'.concat(o,'">').concat(i,"</a> <br>")})),f(e),p()):p()},y=function(){var e=zt(JSON.stringify(g));wp.ajax.post("igd_reset_shortcode_transient",{data:e,nonce:igd.nonce}),f('[integrate_google_drive data="'.concat(e,'"]')),p()},w=!!o,b="".concat(igd.pluginUrl,"/assets/images/shortcode-builder/insert-module.svg"),_=wp.i18n.__("Insert Module","integrate-google-drive");return"shortcodes"===o?_=wp.i18n.__("Insert Module Shortcodes","integrate-google-drive"):"browser"===o?_=wp.i18n.__("Insert File Browser","integrate-google-drive"):"embed"===o?_=wp.i18n.__("Embed Documents","integrate-google-drive"):"download"===o?_=wp.i18n.__("Insert Download Links","integrate-google-drive"):"view"===o&&(_=wp.i18n.__("Insert View Links","integrate-google-drive")),React.createElement("div",{className:"igd-module-builder-modal igd-tinymce-modal",onClick:function(e){return e.stopPropagation()}},React.createElement("div",{className:"igd-module-builder-modal-header"},React.createElement("div",{className:"header-title"},React.createElement("img",{src:b,width:20}),React.createElement("h3",null,_)),!!o&&!t&&React.createElement("button",{type:"button",className:"igd-btn btn-back",onClick:function(){l(""),d(""),m({})}},React.createElement("i",{className:"dashicons dashicons-arrow-left-alt2"}),React.createElement("span",null,wp.i18n.__("Back","integrate-google-drive"))),React.createElement("button",{type:"button",className:"igd-btn btn-danger",onClick:p},React.createElement("i",{className:"dashicons dashicons-no-alt"}),React.createElement("span",null,wp.i18n.__("Cancel","integrate-google-drive"))),React.createElement("button",{type:"button",className:"igd-btn btn-primary done ".concat(r?"loading":""," "),onClick:function(){w&&("embed"===o?v():"download"===o?h():"view"===o?function(){if(g.folders){var e="";g.folders.map((function(t){var n=t.webViewLink,r=t.name;e+='<a href="'.concat(n,'" target="_blank" >').concat(r," <br></a>")})),f(e),p()}else p()}():"shortcodes"===o?(f(s),p()):["browser","uploader","gallery","media","search","slider"].includes(o)&&y())}},r?React.createElement("div",{className:"igd-spinner"}):React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,wp.i18n.__("Done","integrate-google-drive")))),!o&&React.createElement(Qv,{setType:l}),"shortcodes"===o&&React.createElement(lh,{setContent:d}),!!o&&"shortcodes"!==o&&React.createElement(Lo,{value:{editData:dh(dh({},g),{},{type:o}),setEditData:m,updateShortcode:function(e){"embed"===o?v():["download","view"].includes(o)?h():y()},isEditor:"classic",builderType:o}},React.createElement(Av,null)))}var vh={init:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?window.parent.jQuery(window.parent.document):jQuery(document);e&&(window.tinymce=e),t.on("click","#igd-media-button",(function(e){e.preventDefault(),vh.openModuleBuilder()}));var n=!1,r=function(e,t){return!!t.dom.hasClass(e,"igd_module_shortcode")},i=function(e){var t=e.dom.get("wp-igd-toolbar");t&&e.dom.remove(t),e.dom.setAttrib(e.dom.select("img[data-wp-igd-select]"),"data-wp-igd-select",null),n=!1};tinymce.PluginManager.add("igd_tinymce_js",(function(e){e.on("BeforeSetcontent",(function(e){e.content=e.content.replace(/\[integrate_google_drive data="([^\]]*)"\]/g,(function(e,t){return'<img src="data:image/svg+xml,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'5\' height=\'5\'></svg>" class="igd_module_shortcode mceItem" title="Integrate Google Drive" data-mce-placeholder="1" data-code="'.concat(t,'"/>')}))})),e.on("PostProcess",(function(e){e.get&&(e.content=function(e){function t(e,t){return(t=new RegExp(t+'="([^"]+)"',"g").exec(e))?t[1]:""}return e.replace(/(?:<p[^>]*>)*(<img[^>]+>)(?:<\/p>)*/g,(function(e,n){return-1!=t(n,"class").indexOf("igd_module_shortcode")?'<p>[integrate_google_drive data="'.concat(t(n,"data-code"),'"]</p>'):e}))}(e.content))})),e.on("mouseup",(function(t){var a,o=t.target,l=e.dom;if(!(t.button&&t.button>1))if("DIV"===o.nodeName&&l.getParent(o,"#wp-igd-toolbar")){if(a=l.select("img[data-wp-igd-select]")[0])if(e.selection.select(a),l.hasClass(o,"remove"))i(e),function(e,t){t.dom.remove(e),i(t)}(a,e);else if(l.hasClass(o,"edit")){var c=e.selection.getContent(),s=/\[integrate_google_drive data="([^\]]*)"\]/g.exec(c);if(s){var d=s[1],u=JSON.parse(Gt(d));vh.openModuleBuilder(u)}i(e)}}else"IMG"===o.nodeName&&!e.dom.getAttrib(o,"data-wp-igd-select")&&r(o,e)?function(e,t){var a,o,l=t.dom;i(t),e&&"IMG"===e.nodeName&&r(e,t)&&(l.setAttrib(e,"data-wp-igd-select",1),a='<div class="dashicons dashicons-edit edit" title="'.concat(wp.i18n.__("Edit","integrate-google-drive"),'" data-mce-bogus="1"></div>\n                    <div class="dashicons dashicons-no-alt remove" title="Remove" data-mce-bogus="1"></div>'),o=l.create("div",{id:"wp-igd-toolbar","data-mce-bogus":"1",contenteditable:!1},a),e.parentNode.insertBefore(o,e),n=!0)}(o,e):"IMG"!==o.nodeName&&i(e)})),e.on("mousedown",(function(t){e.dom.getParent(t.target,"#wp-igd-toolbar")?tinymce.Env.ie&&t.preventDefault():i(e)})),e.on("keydown",(function(t){var r=t.keyCode;if(n){if(t.ctrlKey||t.metaKey||t.altKey||r<48&&r>90||r>186)return;i(e)}})),e.on("cut",(function(){i(e)}))}))},openModuleBuilder:function(e){Swal.fire({html:'<div id="igd-tinymce" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,customClass:{container:"igd-swal igd-module-builder-modal-container"},didOpen:function(){ReactDOM.render(React.createElement(fh,{initData:e}),document.getElementById("igd-tinymce"))},willClose:function(){ReactDOM.unmountComponentAtNode(document.getElementById("igd-tinymce"))}})}};const hh=vh;var yh=jQuery,wh={init:function(){yh(document).on("click",".igd-form-uploader-trigger-cf7",wh.openModal)},openModal:function(e){var t=yh("#tag-generator-panel-google_drive-data"),n={uniqueId:"igd_"+Math.random().toString(36).substring(7),type:"uploader",isFormUploader:"cf7",folders:[]};if(t.val())try{n=JSON.parse(Gt(t.val()))}catch(e){console.log(e)}Swal.fire({html:'<div id="igd-form-uploader-config" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,customClass:{container:"igd-swal igd-module-builder-modal-container"},didOpen:function(){ReactDOM.render(React.createElement(Bp,{initData:n,onUpdate:function(e){wh.updateData(e,t),Swal.close()},onClose:function(){return Swal.close()},isFormBuilder:"cf7"}),document.getElementById("igd-form-uploader-config"))},willClose:function(){ReactDOM.unmountComponentAtNode(document.getElementById("igd-form-uploader-config"))},target:document.querySelector("dialog#tag-generator-panel-google_drive")||"body"})},updateData:function(e,t){var n;if(null!=e&&null!==(n=e.folders)&&void 0!==n&&n.length){var r=e.folders[0];e.folders[0]={id:r.id,accountId:r.accountId,name:r.name,type:r.type}}try{var i=zt(JSON.stringify(e));t.val(i)[0].dispatchEvent(new Event("change",{bubbles:!0})),wp.ajax.post("igd_reset_shortcode_transient",{data:i,nonce:igd.nonce})}catch(e){console.log(e)}}};const bh=wh;var _h=jQuery,Eh={init:function(){Ut(),_h(document).on("click",".igd-form-uploader-trigger-wpforms",Eh.openModal),_h(document).on("wpformsFieldAdd",(function(e,t,n){"igd-uploader"===n&&Ut()}))},openModal:function(){var e={uniqueId:"igd_"+Math.random().toString(36).substring(7),type:"uploader",isFormUploader:"wpforms"},t=_h(this).parent().find(".igd-uploader-data");if(t.val())try{e=JSON.parse(t.val())}catch(e){console.log(e)}Swal.fire({html:'<div id="igd-form-uploader-config" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,customClass:{container:"igd-swal igd-module-builder-modal-container"},didOpen:function(n){ReactDOM.render(React.createElement(Bp,{initData:e,onUpdate:function(e){Eh.updateData(e,t),Swal.close()},onClose:function(){return Swal.close()},isFormBuilder:"wpforms"}),document.getElementById("igd-form-uploader-config"))},willClose:function(e){ReactDOM.unmountComponentAtNode(document.getElementById("igd-form-uploader-config"))}})},updateData:function(e,t){var n;if(null!=e&&null!==(n=e.folders)&&void 0!==n&&n.length){var r=e.folders[0];e.folders[0]={id:r.id,accountId:r.accountId,name:r.name,type:r.type}}var i=JSON.stringify(e);t.val(i).trigger("change");var a=_h(".wpforms-field-igd-uploader.active .igd");ReactDOM.unmountComponentAtNode(a[0]);var o=zt(i);a.attr("data-shortcode-data",o),wp.ajax.post("igd_reset_shortcode_transient",{data:o,nonce:igd.nonce}),Ut()}};const Rh=Eh;var Nh=jQuery,Sh={init:function(){Nh("#igd-form-uploader-config-gravityforms").on("click",Sh.openModal),Nh(document).on("gform_field_added",(function(e,t,n){"integrate_google_drive"===n.type&&Ut()})),Nh(document).on("gform_load_field_settings",(function(e,t){"integrate_google_drive"===t.type&&(Nh(".igd-uploader-data").val(t.defaultValue),void 0!==t.igdData&&""!==t.igdData&&Nh(".igd-uploader-data").val(t.igdData))}))},openModal:function(){var e=Nh(this).parent().find(".igd-uploader-data"),t={uniqueId:"igd_"+Math.random().toString(36).substring(7),type:"uploader",isFormUploader:"gravityforms"};if(e.val())try{t=JSON.parse(e.val())}catch(e){console.log(e)}Swal.fire({html:'<div id="igd-form-uploader-config" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,customClass:{container:"igd-swal igd-module-builder-modal-container"},didOpen:function(){ReactDOM.render(React.createElement(Bp,{initData:t,onUpdate:function(t){Sh.updateData(t,e),Swal.close()},onClose:function(){return Swal.close()},isFormBuilder:"gravityforms"}),document.getElementById("igd-form-uploader-config"))},willClose:function(){ReactDOM.unmountComponentAtNode(document.getElementById("igd-form-uploader-config"))}})},updateData:function(e,t){var n;if(null!=e&&null!==(n=e.folders)&&void 0!==n&&n.length){var r=e.folders[0];e.folders[0]={id:r.id,accountId:r.accountId,name:r.name,type:r.type}}var i=JSON.stringify(e);Nh(t).val(i).trigger("change");var a=Nh(".gfield.field_selected .igd");ReactDOM.unmountComponentAtNode(a.get(0));var o=zt(i);a.attr("data-shortcode-data",o),wp.ajax.post("igd_reset_shortcode_transient",{data:o,nonce:igd.nonce}),Ut()}};const Ch=Sh;var xh=jQuery,Oh={init:function(){xh("#ff_form_editor_app").on("click",".igd-form-uploader-trigger-fluentforms",Oh.openModal);var e=document.querySelector(".panel__body--list");e&&xh(e).on("DOMNodeInserted",(function(e){xh(e.target).find(".igd")&&Ut()}))},openModal:function(){var e=xh(".igd-uploader-data textarea");xh(e).on("input",(function(){var e=xh(this).val(),t=xh(".panel__body--item.selected .igd");ReactDOM.unmountComponentAtNode(t[0]),t.attr("data-shortcode-data",zt(e)),Ut()}));var t={uniqueId:"igd_"+Math.random().toString(36).substring(7),type:"uploader",isFormUploader:"fluentforms"};if(e.val())try{t=JSON.parse(e.val())}catch(e){console.log(e)}Swal.fire({html:'<div id="igd-form-uploader-config" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,customClass:{container:"igd-swal igd-module-builder-modal-container"},didOpen:function(){ReactDOM.render(React.createElement(Bp,{initData:t,onUpdate:function(t){Oh.updateData(t,e)},onClose:function(){return Swal.close()},isFormBuilder:"fluentforms"}),document.getElementById("igd-form-uploader-config"))},willClose:function(){ReactDOM.unmountComponentAtNode(document.getElementById("igd-form-uploader-config"))}})},updateData:function(e,t){var n;if(null!=e&&null!==(n=e.folders)&&void 0!==n&&n.length){var r=e.folders[0];e.folders[0]={id:r.id,accountId:r.accountId,name:r.name,type:r.type}}var i=JSON.stringify(e);Swal.fire({title:wp.i18n.__("Shortcode Data","integrate-google-drive"),text:wp.i18n.__('Please, copy the following text and paste it into the "Shortcode Data" form editor field.',"integrate-google-drive"),input:"textarea",inputValue:i,showCancelButton:!1,showCloseButton:!0,confirmButtonText:wp.i18n.__("Copy","integrate-google-drive"),didOpen:function(e){e.querySelector("textarea").select(),document.execCommand("copy")},reverseButtons:!0,customClass:{container:"igd-swal igd-shortcode-data-modal-container",input:"igd-swal igd-shortcode-data-modal-input"}}),t.val(""),wp.ajax.post("igd_reset_shortcode_transient",{data:zt(i),nonce:igd.nonce})}};const Ah=Oh;var Ph=jQuery,Ih={init:function(){Ut(),Ph("#frm_builder_page").on("click",".igd-form-uploader-trigger-formidableforms",Ih.openModal);var e=Ph("#frm-show-fields");e.length&&e.on("DOMNodeInserted",(function(e){Ph(e.target).find(".igd").length&&Ut()}))},openModal:function(){var e={uniqueId:"igd_"+Math.random().toString(36).substring(7),type:"uploader",isFormUploader:"formidableforms"},t=Ph(".frm-fields:not(.frm_hidden) .igd-uploader-data");if(t.val())try{e=JSON.parse(t.val())}catch(e){console.log(e)}Swal.fire({html:'<div id="igd-form-uploader-config" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,customClass:{container:"igd-swal igd-module-builder-modal-container"},didOpen:function(){ReactDOM.render(React.createElement(Bp,{initData:e,onUpdate:function(e){Ih.updateData(e,t),Swal.close()},onClose:function(){return Swal.close()},isFormBuilder:"formidableforms"}),document.getElementById("igd-form-uploader-config"))},willClose:function(){ReactDOM.unmountComponentAtNode(document.getElementById("igd-form-uploader-config"))}})},updateData:function(e,t){var n;if(null!=e&&null!==(n=e.folders)&&void 0!==n&&n.length){var r=e.folders[0];e.folders[0]={id:r.id,accountId:r.accountId,name:r.name,type:r.type}}var i=JSON.stringify(e);t.val(i).trigger("change");var a=Ph(".edit_field_type_integrate-google-drive.selected .igd");ReactDOM.unmountComponentAtNode(a[0]);var o=zt(i);a.attr("data-shortcode-data",o),wp.ajax.post("igd_reset_shortcode_transient",{data:o,nonce:igd.nonce}),Ut()}};const Dh=Ih;var kh=jQuery,Fh={init:function(){Ut(),kh("#nf-builder").on("click",".igd-form-uploader-trigger-ninjaforms",Fh.openModal)},openModal:function(){var e={uniqueId:"igd_"+Math.random().toString(36).substring(7),type:"uploader",isFormUploader:"ninjaforms"},t=kh("#igd_data");if(t.val())try{e=JSON.parse(t.val())}catch(e){console.log(e)}Swal.fire({html:'<div id="igd-form-uploader-config" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,customClass:{container:"igd-swal igd-module-builder-modal-container"},didOpen:function(){ReactDOM.render(React.createElement(Bp,{initData:e,onUpdate:function(e){Fh.updateData(e,t),Swal.close()},onClose:function(){return Swal.close()},isFormBuilder:"ninjaforms"}),document.getElementById("igd-form-uploader-config"))},willClose:function(){ReactDOM.unmountComponentAtNode(document.getElementById("igd-form-uploader-config"))}})},updateData:function(e,t){var n;if(null!=e&&null!==(n=e.folders)&&void 0!==n&&n.length){var r=e.folders[0];e.folders[0]={id:r.id,accountId:r.accountId,name:r.name,type:r.type}}var i=JSON.stringify(e);t.val(i).trigger("change");var a=kh(".nf-field-wrap.integrate_google_drive.active .igd");ReactDOM.unmountComponentAtNode(a[0]);var o=zt(i);a.attr("data-shortcode-data",o),wp.ajax.post("igd_reset_shortcode_transient",{data:o,nonce:igd.nonce}),Ut()}};const jh=Fh;window.ModuleBuilderModal=Bp,window.IgdShortcode=Rl,window.initShortcode=Ut,function(e){var t=igd.isPro,n=igd.settings.integrations,r=void 0===n?["classic-editor","gutenberg-editor","elementor"]:n,i={init:function(){i.initFileBrowser(),i.initShortcodeBuilder(),e(window).on("elementor/frontend/init",(function(){"undefined"!=typeof elementor&&elementor.hooks.addAction("panel/open_editor/widget",(function(e,t,n){window.parent.tinyMCE&&window.parent.tinyMCE.on("AddEditor",(function(e){hh.init(window.parent.tinymce)}))}))}))},ready:function(){r.includes("classic-editor")&&"undefined"!=typeof tinymce&&hh.init(),r.includes("cf7")&&bh.init(),t&&(t&&r.includes("wpforms")&&Rh.init(),t&&r.includes("gravityforms")&&Ch.init(),t&&r.includes("fluentforms")&&Ah.init(),t&&r.includes("formidableforms")&&Dh.init(),t&&r.includes("ninjaforms")&&jh.init(),e(document).on("submit","#igd-password-form",Zt)),r.includes("gutenberg-editor")&&i.updateBlockCategoryIcon(),e(document).on("click",".igd-offer-notice .offer-btn-main, .igd-offer-notice .notice-dismiss",i.handleNoticeDismiss)},handleNoticeDismiss:function(t){e(this).closest(".igd-admin-notice").slideUp(),wp.ajax.post("igd_dismiss_offer_notice",{nonce:igd.nonce})},initFileBrowser:function(){var e=document.getElementById("igd-app");e&&ReactDOM.render(React.createElement(jo,null),e)},initShortcodeBuilder:function(){var e=document.getElementById("igd-shortcode-builder");e&&ReactDOM.render(React.createElement(zv,null),e)},updateBlockCategoryIcon:function(){var e=React.createElement("svg",{width:"18",height:"18",viewBox:"0 0 87.3 78",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"m6.6 66.85 3.85 6.65c.8 1.4 1.95 2.5 3.3 3.3l13.75-23.8h-27.5c0 1.55.4 3.1 1.2 4.5z",fill:"#0066da"}),React.createElement("path",{d:"m43.65 25-13.75-23.8c-1.35.8-2.5 1.9-3.3 3.3l-25.4 44a9.06 9.06 0 0 0 -1.2 4.5h27.5z",fill:"#00ac47"}),React.createElement("path",{d:"m73.55 76.8c1.35-.8 2.5-1.9 3.3-3.3l1.6-2.75 7.65-13.25c.8-1.4 1.2-2.95 1.2-4.5h-27.502l5.852 11.5z",fill:"#ea4335"}),React.createElement("path",{d:"m43.65 25 13.75-23.8c-1.35-.8-2.9-1.2-4.5-1.2h-18.5c-1.6 0-3.15.45-4.5 1.2z",fill:"#00832d"}),React.createElement("path",{d:"m59.8 53h-32.3l-13.75 23.8c1.35.8 2.9 1.2 4.5 1.2h50.8c1.6 0 3.15-.45 4.5-1.2z",fill:"#2684fc"}),React.createElement("path",{d:"m73.4 26.5-12.7-22c-.8-1.4-1.95-2.5-3.3-3.3l-13.75 23.8 16.15 28h27.45c0-1.55-.4-3.1-1.2-4.5z",fill:"#ffba00"}));wp.blocks&&wp.blocks.updateCategory("igd-category",{icon:e})}};i.init(),e(document).on("ready",i.ready)}(jQuery)})()})();