(()=>{var e={606:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var l,c=[],s=!1,d=-1;function u(){s&&l&&(s=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!s){var e=a(u);s=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,s=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||s||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},159:(e,t,n)=>{"use strict";var r=n(264);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},211:(e,t,n)=>{e.exports=n(159)()},264:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=React.createContext();const t=e;var r=e.Provider;const o=React;var i=n.n(o);const a=Math.min,l=Math.max,c=Math.round,s=Math.floor,d=e=>({x:e,y:e}),u={left:"right",right:"left",bottom:"top",top:"bottom"},f={start:"end",end:"start"};function p(e,t,n){return l(e,a(t,n))}function m(e,t){return"function"==typeof e?e(t):e}function g(e){return e.split("-")[0]}function v(e){return e.split("-")[1]}function h(e){return"x"===e?"y":"x"}function y(e){return"y"===e?"height":"width"}function w(e){return["top","bottom"].includes(g(e))?"y":"x"}function b(e){return h(w(e))}function _(e){return e.replace(/start|end/g,(e=>f[e]))}function E(e){return e.replace(/left|right|bottom|top/g,(e=>u[e]))}function S(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function R(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function A(e,t,n){let{reference:r,floating:o}=e;const i=w(t),a=b(t),l=y(a),c=g(t),s="y"===i,d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,f=r[l]/2-o[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-o.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:u};break;case"left":p={x:r.x-o.width,y:u};break;default:p={x:r.x,y:r.y}}switch(v(t)){case"start":p[a]-=f*(n&&s?-1:1);break;case"end":p[a]+=f*(n&&s?-1:1)}return p}async function x(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:s="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:f=!1,padding:p=0}=m(t,e),g=S(p),v=l[f?"floating"===u?"reference":"floating":u],h=R(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(v)))||n?v:v.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(l.floating)),boundary:s,rootBoundary:d,strategy:c})),y="floating"===u?{...a.floating,x:r,y:o}:a.reference,w=await(null==i.getOffsetParent?void 0:i.getOffsetParent(l.floating)),b=await(null==i.isElement?void 0:i.isElement(w))&&await(null==i.getScale?void 0:i.getScale(w))||{x:1,y:1},_=R(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(h.top-_.top+g.top)/b.y,bottom:(_.bottom-h.bottom+g.bottom)/b.y,left:(h.left-_.left+g.left)/b.x,right:(_.right-h.right+g.right)/b.x}}const O=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:l}=t,c=await async function(e,t){const{placement:n,platform:r,elements:o}=e,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),a=g(n),l=v(n),c="y"===w(n),s=["left","top"].includes(a)?-1:1,d=i&&c?-1:1,u=m(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:h}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return l&&"number"==typeof h&&(p="end"===l?-1*h:h),c?{x:p*d,y:f*s}:{x:f*s,y:p*d}}(t,e);return a===(null==(n=l.offset)?void 0:n.placement)&&null!=(r=l.arrow)&&r.alignmentOffset?{}:{x:o+c.x,y:i+c.y,data:{...c,placement:a}}}}};function C(e){return N(e)?(e.nodeName||"").toLowerCase():"#document"}function k(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function F(e){var t;return null==(t=(N(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function N(e){return e instanceof Node||e instanceof k(e).Node}function j(e){return e instanceof Element||e instanceof k(e).Element}function I(e){return e instanceof HTMLElement||e instanceof k(e).HTMLElement}function P(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof k(e).ShadowRoot)}function T(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=U(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function L(e){return["table","td","th"].includes(C(e))}function D(e){const t=B(),n=U(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function B(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function M(e){return["html","body","#document"].includes(C(e))}function U(e){return k(e).getComputedStyle(e)}function z(e){return j(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function K(e){if("html"===C(e))return e;const t=e.assignedSlot||e.parentNode||P(e)&&e.host||F(e);return P(t)?t.host:t}function H(e){const t=K(e);return M(t)?e.ownerDocument?e.ownerDocument.body:e.body:I(t)&&T(t)?t:H(t)}function W(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=H(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),a=k(o);return i?t.concat(a,a.visualViewport||[],T(o)?o:[],a.frameElement&&n?W(a.frameElement):[]):t.concat(o,W(o,[],n))}function q(e){const t=U(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=I(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,l=c(n)!==i||c(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function Q(e){return j(e)?e:e.contextElement}function V(e){const t=Q(e);if(!I(t))return d(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=q(t);let a=(i?c(n.width):n.width)/r,l=(i?c(n.height):n.height)/o;return a&&Number.isFinite(a)||(a=1),l&&Number.isFinite(l)||(l=1),{x:a,y:l}}const G=d(0);function J(e){const t=k(e);return B()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:G}function X(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),i=Q(e);let a=d(1);t&&(r?j(r)&&(a=V(r)):a=V(e));const l=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==k(e))&&t}(i,n,r)?J(i):d(0);let c=(o.left+l.x)/a.x,s=(o.top+l.y)/a.y,u=o.width/a.x,f=o.height/a.y;if(i){const e=k(i),t=r&&j(r)?k(r):r;let n=e,o=n.frameElement;for(;o&&r&&t!==n;){const e=V(o),t=o.getBoundingClientRect(),r=U(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,s*=e.y,u*=e.x,f*=e.y,c+=i,s+=a,n=k(o),o=n.frameElement}}return R({width:u,height:f,x:c,y:s})}const Y=[":popover-open",":modal"];function Z(e){return Y.some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function $(e){return X(F(e)).left+z(e).scrollLeft}function ee(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=k(e),r=F(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(o){i=o.width,a=o.height;const e=B();(!e||e&&"fixed"===t)&&(l=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:l,y:c}}(e,n);else if("document"===t)r=function(e){const t=F(e),n=z(e),r=e.ownerDocument.body,o=l(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=l(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+$(e);const c=-n.scrollTop;return"rtl"===U(r).direction&&(a+=l(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:c}}(F(e));else if(j(t))r=function(e,t){const n=X(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=I(e)?V(e):d(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:r*i.y}}(t,n);else{const n=J(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return R(r)}function te(e,t){const n=K(e);return!(n===t||!j(n)||M(n))&&("fixed"===U(n).position||te(n,t))}function ne(e,t,n){const r=I(t),o=F(t),i="fixed"===n,a=X(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=d(0);if(r||!r&&!i)if(("body"!==C(t)||T(o))&&(l=z(t)),r){const e=X(t,!0,i,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else o&&(c.x=$(o));return{x:a.left+l.scrollLeft-c.x,y:a.top+l.scrollTop-c.y,width:a.width,height:a.height}}function re(e,t){return I(e)&&"fixed"!==U(e).position?t?t(e):e.offsetParent:null}function oe(e,t){const n=k(e);if(!I(e)||Z(e))return n;let r=re(e,t);for(;r&&L(r)&&"static"===U(r).position;)r=re(r,t);return r&&("html"===C(r)||"body"===C(r)&&"static"===U(r).position&&!D(r))?n:r||function(e){let t=K(e);for(;I(t)&&!M(t);){if(D(t))return t;t=K(t)}return null}(e)||n}const ie={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i="fixed"===o,a=F(r),l=!!t&&Z(t.floating);if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},s=d(1);const u=d(0),f=I(r);if((f||!f&&!i)&&(("body"!==C(r)||T(a))&&(c=z(r)),I(r))){const e=X(r);s=V(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}return{width:n.width*s.x,height:n.height*s.y,x:n.x*s.x-c.scrollLeft*s.x+u.x,y:n.y*s.y-c.scrollTop*s.y+u.y}},getDocumentElement:F,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[..."clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let r=W(e,[],!1).filter((e=>j(e)&&"body"!==C(e))),o=null;const i="fixed"===U(e).position;let a=i?K(e):e;for(;j(a)&&!M(a);){const t=U(a),n=D(a);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||T(a)&&!n&&te(e,a))?r=r.filter((e=>e!==a)):o=t,a=K(a)}return t.set(e,r),r}(t,this._c):[].concat(n),r],c=i[0],s=i.reduce(((e,n)=>{const r=ee(t,n,o);return e.top=l(r.top,e.top),e.right=a(r.right,e.right),e.bottom=a(r.bottom,e.bottom),e.left=l(r.left,e.left),e}),ee(t,c,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:oe,getElementRects:async function(e){const t=this.getOffsetParent||oe,n=this.getDimensions;return{reference:ne(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=q(e);return{width:t,height:n}},getScale:V,isElement:j,isRTL:function(e){return"rtl"===U(e).direction}};function ae(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:d="function"==typeof IntersectionObserver,animationFrame:u=!1}=r,f=Q(e),p=o||i?[...f?W(f):[],...W(t)]:[];p.forEach((e=>{o&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)}));const m=f&&d?function(e,t){let n,r=null;const o=F(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function c(d,u){void 0===d&&(d=!1),void 0===u&&(u=1),i();const{left:f,top:p,width:m,height:g}=e.getBoundingClientRect();if(d||t(),!m||!g)return;const v={rootMargin:-s(p)+"px "+-s(o.clientWidth-(f+m))+"px "+-s(o.clientHeight-(p+g))+"px "+-s(f)+"px",threshold:l(0,a(1,u))||1};let h=!0;function y(e){const t=e[0].intersectionRatio;if(t!==u){if(!h)return c();t?c(!1,t):n=setTimeout((()=>{c(!1,1e-7)}),100)}h=!1}try{r=new IntersectionObserver(y,{...v,root:o.ownerDocument})}catch(e){r=new IntersectionObserver(y,v)}r.observe(e)}(!0),i}(f,n):null;let g,v=-1,h=null;c&&(h=new ResizeObserver((e=>{let[r]=e;r&&r.target===f&&h&&(h.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame((()=>{var e;null==(e=h)||e.observe(t)}))),n()})),f&&!u&&h.observe(f),h.observe(t));let y=u?X(e):null;return u&&function t(){const r=X(e);!y||r.x===y.x&&r.y===y.y&&r.width===y.width&&r.height===y.height||n();y=r,g=requestAnimationFrame(t)}(),n(),()=>{var e;p.forEach((e=>{o&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)})),null==m||m(),null==(e=h)||e.disconnect(),h=null,u&&cancelAnimationFrame(g)}}const le=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=m(e,t),s={x:n,y:r},d=await x(t,c),u=w(g(o)),f=h(u);let v=s[f],y=s[u];if(i){const e="y"===f?"bottom":"right";v=p(v+d["y"===f?"top":"left"],v,v-d[e])}if(a){const e="y"===u?"bottom":"right";y=p(y+d["y"===u?"top":"left"],y,y-d[e])}const b=l.fn({...t,[f]:v,[u]:y});return{...b,data:{x:b.x-n,y:b.y-r}}}}},ce=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:s}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:w=!0,...S}=m(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const R=g(o),A=g(l)===l,O=await(null==c.isRTL?void 0:c.isRTL(s.floating)),C=f||(A||!w?[E(l)]:function(e){const t=E(e);return[_(e),t,_(t)]}(l));f||"none"===h||C.push(...function(e,t,n,r){const o=v(e);let i=function(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:a;default:return[]}}(g(e),"start"===n,r);return o&&(i=i.map((e=>e+"-"+o)),t&&(i=i.concat(i.map(_)))),i}(l,w,h,O));const k=[l,...C],F=await x(t,S),N=[];let j=(null==(r=i.flip)?void 0:r.overflows)||[];if(d&&N.push(F[R]),u){const e=function(e,t,n){void 0===n&&(n=!1);const r=v(e),o=b(e),i=y(o);let a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=E(a)),[a,E(a)]}(o,a,O);N.push(F[e[0]],F[e[1]])}if(j=[...j,{placement:o,overflows:N}],!N.every((e=>e<=0))){var I,P;const e=((null==(I=i.flip)?void 0:I.index)||0)+1,t=k[e];if(t)return{data:{index:e,overflows:j},reset:{placement:t}};let n=null==(P=j.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:P.placement;if(!n)switch(p){case"bestFit":{var T;const e=null==(T=j.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:T[0];e&&(n=e);break}case"initialPlacement":n=l}if(o!==n)return{reset:{placement:n}}}return{}}}},se=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:l,elements:c,middlewareData:s}=t,{element:d,padding:u=0}=m(e,t)||{};if(null==d)return{};const f=S(u),g={x:n,y:r},h=b(o),w=y(h),_=await l.getDimensions(d),E="y"===h,R=E?"top":"left",A=E?"bottom":"right",x=E?"clientHeight":"clientWidth",O=i.reference[w]+i.reference[h]-g[h]-i.floating[w],C=g[h]-i.reference[h],k=await(null==l.getOffsetParent?void 0:l.getOffsetParent(d));let F=k?k[x]:0;F&&await(null==l.isElement?void 0:l.isElement(k))||(F=c.floating[x]||i.floating[w]);const N=O/2-C/2,j=F/2-_[w]/2-1,I=a(f[R],j),P=a(f[A],j),T=I,L=F-_[w]-P,D=F/2-_[w]/2+N,B=p(T,D,L),M=!s.arrow&&null!=v(o)&&D!==B&&i.reference[w]/2-(D<T?I:P)-_[w]/2<0,U=M?D<T?D-T:D-L:0;return{[h]:g[h]+U,data:{[h]:B,centerOffset:D-B-U,...M&&{alignmentOffset:U}},reset:M}}}),de=(e,t,n)=>{const r=new Map,o={platform:ie,...n},i={...o.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(null==a.isRTL?void 0:a.isRTL(t));let s=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:u}=A(s,r,c),f=r,p={},m=0;for(let n=0;n<l.length;n++){const{name:i,fn:g}=l[n],{x:v,y:h,data:y,reset:w}=await g({x:d,y:u,initialPlacement:r,placement:f,strategy:o,middlewareData:p,rects:s,platform:a,elements:{reference:e,floating:t}});d=null!=v?v:d,u=null!=h?h:u,p={...p,[i]:{...p[i],...y}},w&&m<=50&&(m++,"object"==typeof w&&(w.placement&&(f=w.placement),w.rects&&(s=!0===w.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):w.rects),({x:d,y:u}=A(s,f,c))),n=-1)}return{x:d,y:u,placement:f,strategy:o,middlewareData:p}})(e,t,{...o,platform:i})};var ue=n(942),fe=n(606);const pe="react-tooltip-core-styles",me="react-tooltip-base-styles",ge={core:!1,base:!1};function ve({css:e,id:t=me,type:n="base",ref:r}){var o,i;if(!e||"undefined"==typeof document||ge[n])return;if("core"===n&&void 0!==fe&&(null===(o=null==fe?void 0:fe.env)||void 0===o?void 0:o.REACT_TOOLTIP_DISABLE_CORE_STYLES))return;if("base"!==n&&void 0!==fe&&(null===(i=null==fe?void 0:fe.env)||void 0===i?void 0:i.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;"core"===n&&(t=pe),r||(r={});const{insertAt:a}=r;if(document.getElementById(t))return;const l=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.id=t,c.type="text/css","top"===a&&l.firstChild?l.insertBefore(c,l.firstChild):l.appendChild(c),c.styleSheet?c.styleSheet.cssText=e:c.appendChild(document.createTextNode(e)),ge[n]=!0}const he=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:o=10,strategy:i="absolute",middlewares:a=[O(Number(o)),ce({fallbackAxisSideDirection:"start"}),le({padding:5})],border:l})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(null===t)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const c=a;return n?(c.push(se({element:n,padding:5})),de(e,t,{placement:r,strategy:i,middleware:c}).then((({x:e,y:t,placement:n,middlewareData:r})=>{var o,i;const a={left:`${e}px`,top:`${t}px`,border:l},{x:c,y:s}=null!==(o=r.arrow)&&void 0!==o?o:{x:0,y:0},d=null!==(i={top:"bottom",right:"left",bottom:"top",left:"right"}[n.split("-")[0]])&&void 0!==i?i:"bottom",u=l&&{borderBottom:l,borderRight:l};let f=0;if(l){const e=`${l}`.match(/(\d+)px/);f=(null==e?void 0:e[1])?Number(e[1]):1}return{tooltipStyles:a,tooltipArrowStyles:{left:null!=c?`${c}px`:"",top:null!=s?`${s}px`:"",right:"",bottom:"",...u,[d]:`-${4+f}px`},place:n}}))):de(e,t,{placement:"bottom",strategy:i,middleware:c}).then((({x:e,y:t,placement:n})=>({tooltipStyles:{left:`${e}px`,top:`${t}px`},tooltipArrowStyles:{},place:n})))},ye=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),we=(e,t,n)=>{let r=null;const o=function(...o){const i=()=>{r=null,n||e.apply(this,o)};n&&!r&&(e.apply(this,o),r=setTimeout(i,t)),n||(r&&clearTimeout(r),r=setTimeout(i,t))};return o.cancel=()=>{r&&(clearTimeout(r),r=null)},o},be=e=>null!==e&&!Array.isArray(e)&&"object"==typeof e,_e=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((e,n)=>_e(e,t[n])));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!be(e)||!be(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((n=>_e(e[n],t[n])))},Ee=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some((e=>{const n=t.getPropertyValue(e);return"auto"===n||"scroll"===n}))},Se=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(Ee(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},Re="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,Ae=e=>{e.current&&(clearTimeout(e.current),e.current=null)},xe="DEFAULT_TOOLTIP_ID",Oe={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Ce=(0,o.createContext)({getTooltipData:()=>Oe});function ke(e=xe){return(0,o.useContext)(Ce).getTooltipData(e)}var Fe={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},Ne={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const je=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:a,anchorSelect:l,place:c="top",offset:s=10,events:d=["hover"],openOnClick:u=!1,positionStrategy:f="absolute",middlewares:p,wrapper:m,delayShow:g=0,delayHide:v=0,float:h=!1,hidden:y=!1,noArrow:w=!1,clickable:b=!1,closeOnEsc:_=!1,closeOnScroll:E=!1,closeOnResize:S=!1,openEvents:R,closeEvents:A,globalCloseEvents:x,imperativeModeOnly:O,style:C,position:k,afterShow:F,afterHide:N,content:j,contentWrapperRef:I,isOpen:P,defaultIsOpen:T=!1,setIsOpen:L,activeAnchor:D,setActiveAnchor:B,border:M,opacity:U,arrowColor:z,role:K="tooltip"})=>{var H;const W=(0,o.useRef)(null),q=(0,o.useRef)(null),Q=(0,o.useRef)(null),V=(0,o.useRef)(null),G=(0,o.useRef)(null),[J,X]=(0,o.useState)({tooltipStyles:{},tooltipArrowStyles:{},place:c}),[Y,Z]=(0,o.useState)(!1),[$,ee]=(0,o.useState)(!1),[te,ne]=(0,o.useState)(null),re=(0,o.useRef)(!1),oe=(0,o.useRef)(null),{anchorRefs:ie,setActiveAnchor:le}=ke(t),ce=(0,o.useRef)(!1),[se,de]=(0,o.useState)([]),fe=(0,o.useRef)(!1),pe=u||d.includes("click"),me=pe||(null==R?void 0:R.click)||(null==R?void 0:R.dblclick)||(null==R?void 0:R.mousedown),ge=R?{...R}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!R&&pe&&Object.assign(ge,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const ve=A?{...A}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!A&&pe&&Object.assign(ve,{mouseleave:!1,blur:!1,mouseout:!1});const ye=x?{...x}:{escape:_||!1,scroll:E||!1,resize:S||!1,clickOutsideAnchor:me||!1};O&&(Object.assign(ge,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(ve,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(ye,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Re((()=>(fe.current=!0,()=>{fe.current=!1})),[]);const be=e=>{fe.current&&(e&&ee(!0),setTimeout((()=>{fe.current&&(null==L||L(e),void 0===P&&Z(e))}),10))};(0,o.useEffect)((()=>{if(void 0===P)return()=>null;P&&ee(!0);const e=setTimeout((()=>{Z(P)}),10);return()=>{clearTimeout(e)}}),[P]),(0,o.useEffect)((()=>{if(Y!==re.current)if(Ae(G),re.current=Y,Y)null==F||F();else{const e=(e=>{const t=getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay").match(/^([\d.]+)(ms|s)$/);if(!t)return 0;const[,n,r]=t;return Number(n)*("ms"===r?1:1e3)})();G.current=setTimeout((()=>{ee(!1),ne(null),null==N||N()}),e+25)}}),[Y]);const Ee=e=>{X((t=>_e(t,e)?t:e))},xe=(e=g)=>{Ae(Q),$?be(!0):Q.current=setTimeout((()=>{be(!0)}),e)},Oe=(e=v)=>{Ae(V),V.current=setTimeout((()=>{ce.current||be(!1)}),e)},Ce=e=>{var t;if(!e)return;const n=null!==(t=e.currentTarget)&&void 0!==t?t:e.target;if(!(null==n?void 0:n.isConnected))return B(null),void le({current:null});g?xe():be(!0),B(n),le({current:n}),Ae(V)},je=()=>{b?Oe(v||100):v?Oe():be(!1),Ae(Q)},Ie=({x:e,y:t})=>{var n;const r={getBoundingClientRect:()=>({x:e,y:t,width:0,height:0,top:t,left:e,right:e,bottom:t})};he({place:null!==(n=null==te?void 0:te.place)&&void 0!==n?n:c,offset:s,elementReference:r,tooltipReference:W.current,tooltipArrowReference:q.current,strategy:f,middlewares:p,border:M}).then((e=>{Ee(e)}))},Pe=e=>{if(!e)return;const t=e,n={x:t.clientX,y:t.clientY};Ie(n),oe.current=n},Te=e=>{var t;if(!Y)return;const n=e.target;n.isConnected&&((null===(t=W.current)||void 0===t?void 0:t.contains(n))||[document.querySelector(`[id='${a}']`),...se].some((e=>null==e?void 0:e.contains(n)))||(be(!1),Ae(Q)))},Le=we(Ce,50,!0),De=we(je,50,!0),Be=e=>{De.cancel(),Le(e)},Me=()=>{Le.cancel(),De()},Ue=(0,o.useCallback)((()=>{var e,t;const n=null!==(e=null==te?void 0:te.position)&&void 0!==e?e:k;n?Ie(n):h?oe.current&&Ie(oe.current):(null==D?void 0:D.isConnected)&&he({place:null!==(t=null==te?void 0:te.place)&&void 0!==t?t:c,offset:s,elementReference:D,tooltipReference:W.current,tooltipArrowReference:q.current,strategy:f,middlewares:p,border:M}).then((e=>{fe.current&&Ee(e)}))}),[Y,D,j,C,c,null==te?void 0:te.place,s,f,k,null==te?void 0:te.position,h]);(0,o.useEffect)((()=>{var e,t;const n=new Set(ie);se.forEach((e=>{n.add({current:e})}));const r=document.querySelector(`[id='${a}']`);r&&n.add({current:r});const o=()=>{be(!1)},i=Se(D),l=Se(W.current);ye.scroll&&(window.addEventListener("scroll",o),null==i||i.addEventListener("scroll",o),null==l||l.addEventListener("scroll",o));let c=null;ye.resize?window.addEventListener("resize",o):D&&W.current&&(c=ae(D,W.current,Ue,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const s=e=>{"Escape"===e.key&&be(!1)};ye.escape&&window.addEventListener("keydown",s),ye.clickOutsideAnchor&&window.addEventListener("click",Te);const d=[],u=e=>{Y&&(null==e?void 0:e.target)===D||Ce(e)},f=e=>{Y&&(null==e?void 0:e.target)===D&&je()},p=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],m=["click","dblclick","mousedown","mouseup"];Object.entries(ge).forEach((([e,t])=>{t&&(p.includes(e)?d.push({event:e,listener:Be}):m.includes(e)&&d.push({event:e,listener:u}))})),Object.entries(ve).forEach((([e,t])=>{t&&(p.includes(e)?d.push({event:e,listener:Me}):m.includes(e)&&d.push({event:e,listener:f}))})),h&&d.push({event:"pointermove",listener:Pe});const g=()=>{ce.current=!0},v=()=>{ce.current=!1,je()};return b&&!me&&(null===(e=W.current)||void 0===e||e.addEventListener("mouseenter",g),null===(t=W.current)||void 0===t||t.addEventListener("mouseleave",v)),d.forEach((({event:e,listener:t})=>{n.forEach((n=>{var r;null===(r=n.current)||void 0===r||r.addEventListener(e,t)}))})),()=>{var e,t;ye.scroll&&(window.removeEventListener("scroll",o),null==i||i.removeEventListener("scroll",o),null==l||l.removeEventListener("scroll",o)),ye.resize?window.removeEventListener("resize",o):null==c||c(),ye.clickOutsideAnchor&&window.removeEventListener("click",Te),ye.escape&&window.removeEventListener("keydown",s),b&&!me&&(null===(e=W.current)||void 0===e||e.removeEventListener("mouseenter",g),null===(t=W.current)||void 0===t||t.removeEventListener("mouseleave",v)),d.forEach((({event:e,listener:t})=>{n.forEach((n=>{var r;null===(r=n.current)||void 0===r||r.removeEventListener(e,t)}))}))}}),[D,Ue,$,ie,se,R,A,x,pe,g,v]),(0,o.useEffect)((()=>{var e,n;let r=null!==(n=null!==(e=null==te?void 0:te.anchorSelect)&&void 0!==e?e:l)&&void 0!==n?n:"";!r&&t&&(r=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const o=new MutationObserver((e=>{const n=[],o=[];e.forEach((e=>{if("attributes"===e.type&&"data-tooltip-id"===e.attributeName&&(e.target.getAttribute("data-tooltip-id")===t?n.push(e.target):e.oldValue===t&&o.push(e.target)),"childList"===e.type){if(D){const t=[...e.removedNodes].filter((e=>1===e.nodeType));if(r)try{o.push(...t.filter((e=>e.matches(r)))),o.push(...t.flatMap((e=>[...e.querySelectorAll(r)])))}catch(e){}t.some((e=>{var t;return!!(null===(t=null==e?void 0:e.contains)||void 0===t?void 0:t.call(e,D))&&(ee(!1),be(!1),B(null),Ae(Q),Ae(V),!0)}))}if(r)try{const t=[...e.addedNodes].filter((e=>1===e.nodeType));n.push(...t.filter((e=>e.matches(r)))),n.push(...t.flatMap((e=>[...e.querySelectorAll(r)])))}catch(e){}}})),(n.length||o.length)&&de((e=>[...e.filter((e=>!o.includes(e))),...n]))}));return o.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{o.disconnect()}}),[t,l,null==te?void 0:te.anchorSelect,D]),(0,o.useEffect)((()=>{Ue()}),[Ue]),(0,o.useEffect)((()=>{if(!(null==I?void 0:I.current))return()=>null;const e=new ResizeObserver((()=>{setTimeout((()=>Ue()))}));return e.observe(I.current),()=>{e.disconnect()}}),[j,null==I?void 0:I.current]),(0,o.useEffect)((()=>{var e;const t=document.querySelector(`[id='${a}']`),n=[...se,t];D&&n.includes(D)||B(null!==(e=se[0])&&void 0!==e?e:t)}),[a,se,D]),(0,o.useEffect)((()=>(T&&be(!0),()=>{Ae(Q),Ae(V)})),[]),(0,o.useEffect)((()=>{var e;let n=null!==(e=null==te?void 0:te.anchorSelect)&&void 0!==e?e:l;if(!n&&t&&(n=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),n)try{const e=Array.from(document.querySelectorAll(n));de(e)}catch(e){de([])}}),[t,l,null==te?void 0:te.anchorSelect]),(0,o.useEffect)((()=>{Q.current&&(Ae(Q),xe(g))}),[g]);const ze=null!==(H=null==te?void 0:te.content)&&void 0!==H?H:j,Ke=Y&&Object.keys(J.tooltipStyles).length>0;return(0,o.useImperativeHandle)(e,(()=>({open:e=>{if(null==e?void 0:e.anchorSelect)try{document.querySelector(e.anchorSelect)}catch(t){return void console.warn(`[react-tooltip] "${e.anchorSelect}" is not a valid CSS selector`)}ne(null!=e?e:null),(null==e?void 0:e.delay)?xe(e.delay):be(!0)},close:e=>{(null==e?void 0:e.delay)?Oe(e.delay):be(!1)},activeAnchor:D,place:J.place,isOpen:Boolean($&&!y&&ze&&Ke)}))),$&&!y&&ze?o.createElement(m,{id:t,role:K,className:ue("react-tooltip",Fe.tooltip,Ne.tooltip,Ne[i],n,`react-tooltip__place-${J.place}`,Fe[Ke?"show":"closing"],Ke?"react-tooltip__show":"react-tooltip__closing","fixed"===f&&Fe.fixed,b&&Fe.clickable),onTransitionEnd:e=>{Ae(G),Y||"opacity"!==e.propertyName||(ee(!1),ne(null),null==N||N())},style:{...C,...J.tooltipStyles,opacity:void 0!==U&&Ke?U:void 0},ref:W},ze,o.createElement(m,{className:ue("react-tooltip-arrow",Fe.arrow,Ne.arrow,r,w&&Fe.noArrow),style:{...J.tooltipArrowStyles,background:z?`linear-gradient(to right bottom, transparent 50%, ${z} 50%)`:void 0},ref:q})):null},Ie=({content:e})=>o.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Pe=o.forwardRef((({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:a,className:l,classNameArrow:c,variant:s="dark",place:d="top",offset:u=10,wrapper:f="div",children:p=null,events:m=["hover"],openOnClick:g=!1,positionStrategy:v="absolute",middlewares:h,delayShow:y=0,delayHide:w=0,float:b=!1,hidden:_=!1,noArrow:E=!1,clickable:S=!1,closeOnEsc:R=!1,closeOnScroll:A=!1,closeOnResize:x=!1,openEvents:O,closeEvents:C,globalCloseEvents:k,imperativeModeOnly:F=!1,style:N,position:j,isOpen:I,defaultIsOpen:P=!1,disableStyleInjection:T=!1,border:L,opacity:D,arrowColor:B,setIsOpen:M,afterShow:U,afterHide:z,role:K="tooltip"},H)=>{const[W,q]=(0,o.useState)(r),[Q,V]=(0,o.useState)(i),[G,J]=(0,o.useState)(d),[X,Y]=(0,o.useState)(s),[Z,$]=(0,o.useState)(u),[ee,te]=(0,o.useState)(y),[ne,re]=(0,o.useState)(w),[oe,ie]=(0,o.useState)(b),[ae,le]=(0,o.useState)(_),[ce,se]=(0,o.useState)(f),[de,fe]=(0,o.useState)(m),[pe,me]=(0,o.useState)(v),[ge,ve]=(0,o.useState)(null),[he,we]=(0,o.useState)(null),be=(0,o.useRef)(T),{anchorRefs:_e,activeAnchor:Ee}=ke(e),Se=e=>null==e?void 0:e.getAttributeNames().reduce(((t,n)=>{var r;return n.startsWith("data-tooltip-")&&(t[n.replace(/^data-tooltip-/,"")]=null!==(r=null==e?void 0:e.getAttribute(n))&&void 0!==r?r:null),t}),{}),Re=e=>{const t={place:e=>{var t;J(null!==(t=e)&&void 0!==t?t:d)},content:e=>{q(null!=e?e:r)},html:e=>{V(null!=e?e:i)},variant:e=>{var t;Y(null!==(t=e)&&void 0!==t?t:s)},offset:e=>{$(null===e?u:Number(e))},wrapper:e=>{var t;se(null!==(t=e)&&void 0!==t?t:f)},events:e=>{const t=null==e?void 0:e.split(" ");fe(null!=t?t:m)},"position-strategy":e=>{var t;me(null!==(t=e)&&void 0!==t?t:v)},"delay-show":e=>{te(null===e?y:Number(e))},"delay-hide":e=>{re(null===e?w:Number(e))},float:e=>{ie(null===e?b:"true"===e)},hidden:e=>{le(null===e?_:"true"===e)},"class-name":e=>{ve(e)}};Object.values(t).forEach((e=>e(null))),Object.entries(e).forEach((([e,n])=>{var r;null===(r=t[e])||void 0===r||r.call(t,n)}))};(0,o.useEffect)((()=>{q(r)}),[r]),(0,o.useEffect)((()=>{V(i)}),[i]),(0,o.useEffect)((()=>{J(d)}),[d]),(0,o.useEffect)((()=>{Y(s)}),[s]),(0,o.useEffect)((()=>{$(u)}),[u]),(0,o.useEffect)((()=>{te(y)}),[y]),(0,o.useEffect)((()=>{re(w)}),[w]),(0,o.useEffect)((()=>{ie(b)}),[b]),(0,o.useEffect)((()=>{le(_)}),[_]),(0,o.useEffect)((()=>{me(v)}),[v]),(0,o.useEffect)((()=>{be.current!==T&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[T]),(0,o.useEffect)((()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:"core"===T,disableBase:T}}))}),[]),(0,o.useEffect)((()=>{var r;const o=new Set(_e);let i=n;if(!i&&e&&(i=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),i)try{document.querySelectorAll(i).forEach((e=>{o.add({current:e})}))}catch(r){console.warn(`[react-tooltip] "${i}" is not a valid CSS selector`)}const a=document.querySelector(`[id='${t}']`);if(a&&o.add({current:a}),!o.size)return()=>null;const l=null!==(r=null!=he?he:a)&&void 0!==r?r:Ee.current,c=new MutationObserver((e=>{e.forEach((e=>{var t;if(!l||"attributes"!==e.type||!(null===(t=e.attributeName)||void 0===t?void 0:t.startsWith("data-tooltip-")))return;const n=Se(l);Re(n)}))})),s={attributes:!0,childList:!1,subtree:!1};if(l){const e=Se(l);Re(e),c.observe(l,s)}return()=>{c.disconnect()}}),[_e,Ee,he,t,n]),(0,o.useEffect)((()=>{(null==N?void 0:N.border)&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),L&&!ye("border",`${L}`)&&console.warn(`[react-tooltip] "${L}" is not a valid \`border\`.`),(null==N?void 0:N.opacity)&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),D&&!ye("opacity",`${D}`)&&console.warn(`[react-tooltip] "${D}" is not a valid \`opacity\`.`)}),[]);let Ae=p;const xe=(0,o.useRef)(null);if(a){const e=a({content:(null==he?void 0:he.getAttribute("data-tooltip-content"))||W||null,activeAnchor:he});Ae=e?o.createElement("div",{ref:xe,className:"react-tooltip-content-wrapper"},e):null}else W&&(Ae=W);Q&&(Ae=o.createElement(Ie,{content:Q}));const Oe={forwardRef:H,id:e,anchorId:t,anchorSelect:n,className:ue(l,ge),classNameArrow:c,content:Ae,contentWrapperRef:xe,place:G,variant:X,offset:Z,wrapper:ce,events:de,openOnClick:g,positionStrategy:pe,middlewares:h,delayShow:ee,delayHide:ne,float:oe,hidden:ae,noArrow:E,clickable:S,closeOnEsc:R,closeOnScroll:A,closeOnResize:x,openEvents:O,closeEvents:C,globalCloseEvents:k,imperativeModeOnly:F,style:N,position:j,isOpen:I,defaultIsOpen:P,border:L,opacity:D,arrowColor:B,setIsOpen:M,afterShow:U,afterHide:z,activeAnchor:he,setActiveAnchor:e=>we(e),role:K};return o.createElement(je,{...Oe})}));function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function Le(){Le=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),l=new F(r||[]);return o(a,"_invoke",{value:x(e,n,l)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",p="suspendedYield",m="executing",g="completed",v={};function h(){}function y(){}function w(){}var b={};s(b,a,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(N([])));E&&E!==n&&r.call(E,a)&&(b=E);var S=w.prototype=h.prototype=Object.create(b);function R(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(o,i,a,l){var c=u(e[o],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==Te(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(d).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function x(t,n,r){var o=f;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var c=O(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var s=u(t,n,r);if("normal"===s.type){if(o=r.done?g:p,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=g,r.method="throw",r.arg=s.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=u(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Te(t)+" is not iterable")}return y.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:y,configurable:!0}),y.displayName=s(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},R(A.prototype),s(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new A(d(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},R(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return l.type="throw",l.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function De(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Te(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Te(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ke(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function He(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={text:{"application/vnd.oasis.opendocument.text":"Text","text/plain":"Text"},file:{"text/html":"HTML","text/php":"PHP","x-httpd-php":"PHP","text/css":"CSS","text/js":"JavaScript","application/javascript":"JavaScript","application/json":"JSON","application/xml":"XML","application/x-shockwave-flash":"SWF","video/x-flv":"FLV","application/vnd.google-apps.file":"File"},image:{"application/vnd.google-apps.photo":"Photo","image/png":"PNG","image/jpeg":"JPEG","image/jpg":"JPG","image/gif":"GIF","image/bmp":"BMP","image/vnd.microsoft.icon":"ICO","image/tiff":"TIFF","image/tif":"TIF","image/svg+xml":"SVG"},zip:{"application/zip":"ZIP","application/x-rar-compressed":"RAR","application/x-msdownload":"EXE","application/vnd.ms-cab-compressed":"CAB"},audio:{"audio/mpeg":"MP3","video/quicktime":"QT","application/vnd.google-apps.audio":"Audio","audio/x-m4a":"Audio"},video:{"application/vnd.google-apps.video":"Video","video/x-flv":"Video","video/mp4":"Video","video/webm":"Video","video/ogg":"Video","application/x-mpegURL":"Video","video/MP2T":"Video","video/3gpp":"Video","video/quicktime":"Video","video/x-msvideo":"Video","video/x-ms-wmv":"Video"},pdf:{"application/pdf":"PDF"},word:{"application/msword":"MS Word"},doc:{"application/vnd.google-apps.document":"Google Docs"},excel:{"application/vnd.ms-excel":"Excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel"},presentation:{"application/vnd.google-apps.presentation":"Slide","application/vnd.oasis.opendocument.presentation":"Presentation"},powerpoint:{"application/vnd.ms-powerpoint":"Powerpoint"},form:{"application/vnd.google-apps.form":"Form"},folder:{"application/vnd.google-apps.folder":"Folder"},drawing:{"application/vnd.google-apps.drawing":"Drawing"},script:{"application/vnd.google-apps.script":"Script"},sites:{"application/vnd.google-apps.sites":"Sites"},spreadsheet:{"application/vnd.google-apps.spreadsheet":"Spreadsheet","application/vnd.oasis.opendocument.spreadsheet":"Spreadsheet"}},r="File",o="file";return Object.keys(n).map((function(i){t&&n[i][e]?o=i:n[i][e]&&(r=n[i][e])})),t?o:r}function We(e){if(e<1)return 0;var t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(2)+" "+["Byte","KB","MB","GB","TB"][t]}function qe(e){var t;return!e||!e.type||("application/vnd.google-apps.folder"===e.type||"application/vnd.google-apps.folder"===(null===(t=e.shortcutDetails)||void 0===t?void 0:t.targetMimeType))}function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:JSON.parse(at(igd.activeAccount))).id,n=[{accountId:t,id:"root",name:wp.i18n.__("My Drive","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/my-drive.svg")},{accountId:t,id:"shared-drives",name:wp.i18n.__("Shared Drives","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/shared-drives.svg")},{accountId:t,id:"computers",name:wp.i18n.__("Computers","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/computers.svg")},{accountId:t,id:"shared",name:wp.i18n.__("Shared with me","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/shared.svg")},{accountId:t,id:"starred",name:wp.i18n.__("Starred","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/starred.svg")}];return e?n.find((function(t){return t.id===e})):n}function Ve(e){var t,n=null==e||null===(t=e.getSource)||void 0===t||null===(t=t.call(e))||void 0===t||null===(t=t.relativePath)||void 0===t?void 0:t.replace(/^\//,"");return null!=n?n:""}function Ge(e){return Xe(e)||Je(e)}function Je(e){var t,n;return!(null==e||null===(t=e.type)||void 0===t||!t.includes("video/"))||!(null===(n=e.shortcutDetails)||void 0===n||!n.targetMimeType.includes("video/"))}function Xe(e){var t,n;return!(null===(t=e.type)||void 0===t||!t.includes("audio/"))||!(null===(n=e.shortcutDetails)||void 0===n||!n.targetMimeType.includes("audio/"))}function Ye(e){var t,n;return!(null===(t=e.type)||void 0===t||!t.includes("image/"))||!(null===(n=e.shortcutDetails)||void 0===n||!n.targetMimeType.includes("image/"))}function Ze(e,t){return Qe(e,t)}function $e(e,t){e.onerror=null;var n="https://www.gravatar.com/avatar/"+t+"?s=200&d=mm";e.src===n?e.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAyADIAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+t6KMUtACZooxRQAUZpaSgAozRiloASijFGKADNFLRigBM0UUtACUUtJigAopaKAE5oopaAEo5paKAEoopaAE5opaKAEooooAWkoooAMUUUUAFFFFABRRRQAUUUUAGKKKKACiiigApaSigAooooAWkoooAKWkooAKKKKAClpKWgBKKKKACiiloASiiigAop8UTzyLHGrSOxwqqMkmvTPCnwpXYl1rJJY8i0Q8D/eP9B+dAHnVjpl3qcvl2ltLcv6RoWx9fSumsvhXr10AZI4bUH/AJ7Sc/kua9ltLO3sIRDbQxwRDokahR+QqagDyL/hTmp7f+P20z6Zb/CqV58KddtgTGkF0PSKTB/8exXtVFAHzff6Re6VJsvLWW2bt5ikA/Q96qV9LXNrDeRGKeJJ426pIoYH8DXnvir4UxTK9zox8qXqbVj8p/3T2+h/SgDyujFSTwSWszwzRtHKh2sjDBBqOgApaSigAoo7UUAFFFFAC0UlFABRRiigAooooAKKKKAClUFmAAJJ4AApK7r4V+GxqmqNqE6hoLQjaD/FIen5dfyoA634f+B00G2W9vEDajIMgN/yxB7D39fyrtKKSgApaKKACkopaACikxRQByXjzwTF4jtGubdAmpRD5WHHmD+6f6GvFJEeJ2R1KOpwVYYIPpX0zXkvxY8NLZXseqwKFiuDslAHR8dfxA/T3oA8+oxR0ooAKKMUYoAMUUUYoAKKMUUAFGaKM0AFFFFABR3oooAK978CaUNJ8L2MW3bJIgmf/ebn9BgfhXhFtF59zFGP43C/ma+lY0EaKi8KoAFADqKKKAEpaSloAKSlpKACloooASsjxdpY1nw5fW23LmMsn+8OR+orXpTyKAPmSlqzq1uLTVLyAcCKZ0GfZiKq0AFHNFFABS0mKKACiiigAoopaAEo60UUAFFFHegCxp8giv7Zz0SVSfzFfSdfMoPOa+ivD+oDVdEsbsHPmxKT7HHI/PNAGhSUtFABRRRQAlFLRQAlFGaWgBKKWqup3y6bp1zdv92GNnP4DNAHz74gkEuvalIOjXMpH4uaoU53MjszcliSTSUAJRS0lABRS0UAJiiiigAooxRQAUUUfpQAUUUUAFerfCLXlms59KlceZEfMhB7qeoH0PP415TirekapPouowXts22WJsj0I7g+xFAH0hSdqzvD+u2/iLTYry2PDDDoTyjdwa0aAClpOlFAC0lLSUALRSUv4UAJXBfFrXls9Jj02Jx51yQzgdRGP8Tj8jXYa1rFtoWnS3l022NBwO7HsB714Drusz6/qk97cH55DwoPCr2AoAodaKMUUAFFFFABRRRQAUUdaKACiiigAo6UUUAFFFFABiiiigDY8M+J7vwvfefbNujbiWFj8rj/AB969q8O+KrDxNbCS1l2ygfPA5w6fh3HvXkfhz4f6p4hCyiMWtqf+W8wxkf7I6n+XvXpnh74d6X4fkjnCvc3aciaQ4wfYDgfrQB1FFFLQAn50UtJQAtZWv8AiWw8N2pmu5sMR8kSnLv9B/WtWuY8R/D3TPEUjzsJLe7brNG2cn3B4/lQB5P4q8WXfiq88yb93bpnyoFPCj+p96w66bxH8P8AVPDwaUoLq0H/AC3hGcf7w6j+XvXMmgAooooAMUUGjNABRiiigAoozRQAUUUUAFFFFABRRUkEEl1OkMKNJK7BVRRkkntQAW9vLdzJDDG0srkKqKMkmvWPB3wyg00Jd6qq3F31WA8pH9fU/pWl4G8DxeGrYT3CrJqTj5n6iMf3V/qa6ygAAAAAHFHaiigA6UUUUALSUUtACUClpM0ABGRgjg1wPjH4ZQ6isl3pSrb3fVoOiSfT0P6V39FAHzRcW8tpO8M0bRSodrIwwQajr27xz4Hh8S2xnt1WPUox8r9BIP7rf0NeKzwSWs8kMyNHKjFWRhggjtQBHRRRQAUUUUAFFFFABRRRQAUUUdaACvWvhh4PFjbrq12n+kSr+4Vh9xD/ABfU/wAvrXF+AfDX/CR64gkUmzt8STeh9F/E/pmvdAAowOAOMUAKaSiloAKKTNHagApaSjNAC0lAooAMUtJmgUAFGMUUZ4oAWvPvif4PF9bPq9omLiEfv0UffQfxfUfy+legZoIDAg8g8YoA+ZaK6Xx94a/4RzW3Ea4s7jMkJ7D1X8D+mK5qgAooooAKKKKACiiigAoorZ8IaR/bniKytSu6Ivvk/wB0cn+WPxoA9c+HugjQ/DkO9dtzcDzpT9eg/AY/WumpOg7YooAXrSUtJQAUtJS0AJRRRQAuaKKSgBaKSloAKKSigBc0UUlAHNfELQRrvhyfYu64tx50R+nUfiM/jivCq+miOtfP3i/SP7D8RXtqBtjD74/91uR/PH4UAY1FFFABRRRQAUUUd6ACvSPg3p2+6v74j7irCp+pyf5D8683r2n4UWf2bwmsuMGeZ5Py+X/2WgDsqDQaKACij8KSgBaO1JS/hQAUUlFACikpfwooAM0Cij8KAEpe1FFABRRRQAV5Z8ZNO2XWn3yj76GFj9OR/M/lXqdcb8VrMXPhN5MZMEySD8fl/wDZqAPFqKKKACiiigAooooAK9+8DweR4R0tfWEP+fP9aKKAN2iiigApKKKACloooASloooAKSiigApaKKAEooooAXFJRRQAVh+OYPtHhLVF64hL/wDfPP8ASiigDwGiiigAooooA//Z":e.src=n}function et(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.id,o=e.iconLink,i=e.thumbnailLink;e.accountId;e.shortcutDetails&&(r=e.shortcutDetails.targetId);var a=n.w,l=n.h;a||(a=64),l||(l=64);var c=null==o?void 0:o.replace("/16/","/".concat(a,"/"));return i&&(c=function(e){var t,n;return"reader"===(null===(t=e.permissions)||void 0===t||null===(t=t.users)||void 0===t||null===(t=t.anyoneWithLink)||void 0===t?void 0:t.role)||"writer"===(null===(n=e.permissions)||void 0===n||null===(n=n.users)||void 0===n||null===(n=n.anyoneWithLink)||void 0===n?void 0:n.role)}(e)?"custom"===t?"https://drive.google.com/thumbnail?id=".concat(r,"&sz=w").concat(a,"-h").concat(l):"https://drive.google.com/thumbnail?id=".concat(r,"small"===t?"&sz=w300-h300":"medium"===t?"&sz=w600-h400":"large"===t?"&sz=w1024-h768":"full"===t?"&sz=w2048":"&sz=w300-h300"):i.includes("google.com")?"custom"===t?i.replace("=s220","=w".concat(a,"-h").concat(l)):"small"===t?i.replace("=s220","=w300-h300"):"medium"===t?i.replace("=s220","=h600-nu"):"large"===t?i.replace("=s220","=w1024-h768-p-k-nu"):"full"===t?i.replace("=s220",""):i.replace("=s220","=w200-h190-p-k-nu"):tt(e,t,a,l)),c}function tt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,o={id:e.id,accountId:e.accountId,size:t};"custom"===t&&(o.w=n,o.h=r);var i=it(JSON.stringify(o));return"".concat(igd.homeUrl,"/?igd_preview_image=").concat(i)}function nt(){var e=ze(React.useState(!1),2),t=e[0],n=e[1];return React.useEffect((function(){n(!0)}),[]),t}function rt(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:igd.nonce;if(!r||r.preview){n=n.filter((function(e){return!qe(e)}));var c=!r||!1!==r.inlinePreview,s=n.find((function(e){return e.id===t}));if(!c&&s&&s.webViewLink)window.open(s.webViewLink,"_blank");else{var d=!r||!!r.download,u=!r||r.allowPreviewPopout,f=!!r&&r.comment,p=n.map((function(e){var t=e.id,n=e.name,o=e.iconLink,c=e.accountId,s=e.exportAs,u=e.exportLinks,p=e.webContentLink,m=e.description,g=Ge(e),v=Ye(e),h="";if(s&&d&&(u||p)){h="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(e.id,"&accountId=").concat(e.accountId,"&shortcodeId=").concat(a,"&nonce=").concat(l);var y=Object.keys(s);if(y.length){var w=s[y[0]].mimetype;h+="&mimetype=".concat(w)}}var b={thumb:et(e,"small"),downloadUrl:h,subHtml:i?"<h4>".concat(n.replace(/\.[^/.]+$/,""),"</h4>").concat(m?"<p>".concat(m,"</p>"):""):'<div class="item-name">\n                      <img src="'.concat(null==o?void 0:o.replace("/16/","/32/"),'" alt="').concat(n,'" />\n                      <span>').concat(n,"</span>\n                  </div>")};if(f){var _="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname),E="".concat(_,"?id=").concat(t);"disqus"===r.commentMethod?(b.disqusIdentifier=t,b.disqusUrl=E):b.fbHtml='<div class="fb-comments" data-href="'.concat(E,'" data-width="400" data-numposts="5"></div>')}if(g){b.poster=et(e,"large");var S=Je(e)?"video/mp4":"audio/mp3",R="".concat(igd.ajaxUrl,"?action=igd_stream&id=").concat(t,"&account_id=").concat(c,"&shortcodeId=").concat(a,"&nonce=").concat(l);b.video='{"source": [{"src":"'.concat(R,'", "type":"').concat(S,'"}], "attributes": {"preload": "auto","playsinline": true, "autoplay": true, "controls": true, "referrerpolicy": "no-referrer"}}')}else v?b.src=et(e,"full"):(b.iframe=!0,b.iframeTitle=n,b.src="".concat(igd.ajaxUrl,"?action=igd_preview&file_id=").concat(t,"&account_id=").concat(c,"&shortcodeId=").concat(a,"&popout=").concat(!r||!!r.allowPreviewPopout,"&nonce=").concat(l));return b})),m=function(){document.body.style.overflow="hidden"},g=function t(){document.body.style.overflow="",e.target.removeEventListener("lgBeforeOpen",m),e.target.removeEventListener("lgAfterClose",t),e.target.removeEventListener("lgSlideItemLoad",b)};window.dynamicGallery&&(e.target.removeEventListener("lgBeforeOpen",m),e.target.removeEventListener("lgAfterClose",g),e.target.removeEventListener("lgSlideItemLoad",b),window.dynamicGallery.destroy(!0));var v=window.innerWidth<768,h=[lgThumbnail,lgZoom,lgVideo];f&&h.push(lgComment),v||h.push(lgFullscreen);var y={dynamic:!0,dynamicEl:p,plugins:h,addClass:"igd-lightbox ".concat(d?"":"no-download"," ").concat(i?"gallery-lightbox":""," "),counter:i,autoplayVideoOnSlide:!0,preload:3,mobileSettings:{showCloseIcon:!0,thumbWidth:60,thumbHeight:60,download:!0,controls:!0}};i?y.allowMediaOverlap=!0:y.appendSubHtmlTo=".lg-outer",f&&(y.commentBox=!0,"disqus"===r.commentMethod?y.disqusComments=!0:y.fbComments=!0),window.dynamicGallery=lightGallery(e.target,y),e.target.addEventListener("lgBeforeOpen",m),e.target.addEventListener("lgAfterClose",g),e.target.addEventListener("lgSlideItemLoad",b),o&&o.downloadNotification&&document.addEventListener("click",(function(e){e.target.classList.contains("lg-download")&&wp.ajax.post("igd_notification",{files:[s],notifications:o,type:"download",nonce:igd.nonce})}),!1);var w=n.findIndex((function(e){return e.id===t}));dynamicGallery.openGallery(w)}}function b(){var e=document.querySelector(".lg-current");if(e){var t=e.querySelector(".igd-hidepopout");u||t||e.insertAdjacentHTML("beforeend",'<div class="igd-hidepopout">&nbsp;</div>')}}}function ot(){var e=window.IgdShortcode;Array.from(document.querySelectorAll(".igd")).forEach((function(t){var n=t.dataset.shortcodeData;if(n)try{var r=JSON.parse(at(n));ReactDOM.render(React.createElement(e,{data:r}),t)}catch(e){console.error("Could not parse the shortcode data",e)}}))}function it(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}function at(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function lt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JSON.parse(at(igd.activeAccount));return"root"!==e&&Ze(e,t)}function ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"970",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"700",n=window.screenLeft||window.screenX,r=window.screenTop||window.screenY,o=n+(window.innerWidth||document.documentElement.clientWidth||screen.width)/2-e/2,i=r+(window.innerHeight||document.documentElement.clientHeight||screen.height)/2-t/2,a=window.open(igd.authUrl,"newwindow","width=".concat(e,",height=").concat(t,",left=").concat(o,",top=").concat(i));a.focus&&a.focus(),Object.keys(sessionStorage).forEach((function(e){e.includes("igd_last_folder_")&&sessionStorage.removeItem(e)}))}function st(e,t){var n=dt(e,t);return"igd_last_folder_".concat(n)}function dt(e,t){var n="",r=window.location.pathname.replace(/\//g,"_");if(e||"undefined"==typeof pagenow||(r=pagenow.replace(/\//g,"_")),t)n+=t.id;else if(e){n=e.filter((function(e){return qe(e)})).map((function(e){var t;return null===(t=e.id)||void 0===t?void 0:t.slice(0,3)})).join("_")}return"".concat(n,"_").concat(r)}function ut(e,t,n){if(e){var r=st(t,n);sessionStorage.setItem(r,JSON.stringify(Me(Me({},e),{},{pageNumber:0})))}}function ft(e,t){var n=st(e,t);sessionStorage.removeItem(n)}function pt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(e=new Date(e)).getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),o=("0"+e.getDate()).slice(-2);if(t){var i=e.getHours(),a=i<12?"AM":"PM",l=0===i?12:i>12?i-12:i,c=("0"+e.getMinutes()).slice(-2);return"".concat(n,"-").concat(r,"-").concat(o," ").concat(("0"+l).slice(-2),":").concat(c," ").concat(a)}return"".concat(n,"-").concat(r,"-").concat(o)}function mt(){var e;return e=Le().mark((function e(){var t,n,r,o;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("igd_last_review_popup"),n=Number(localStorage.getItem("igd_remind_in_days"))||2,r=(new Date).getTime(),o=24*n*60*60*1e3,!(t&&r-t<=o)){e.next=6;break}return e.abrupt("return");case 6:return localStorage.setItem("igd_last_review_popup",(new Date).getTime()),e.next=9,Swal.fire({title:wp.i18n.__("Are You Enjoying This Plugin?","integrate-google-drive"),text:wp.i18n.__("Your feedback helps us create a better experience for you.","integrate-google-drive"),icon:"question",showDenyButton:!0,confirmButtonText:wp.i18n.__("Yes, I'm enjoying it","integrate-google-drive"),denyButtonText:wp.i18n.__("Not really","integrate-google-drive"),reverseButtons:!0,allowOutsideClick:!1,allowEscapeKey:!1,showCloseButton:!0,customClass:{container:"igd-swal igd-review-swal"}}).then((function(e){e.isConfirmed?Swal.fire({title:wp.i18n.__("We're glad to hear that!","integrate-google-drive"),text:wp.i18n.__("Would you mind taking a few minutes to rate us and write a review?","integrate-google-drive"),icon:"success",showDenyButton:!0,confirmButtonText:wp.i18n.__("Sure, I'd be happy to","integrate-google-drive"),denyButtonText:wp.i18n.__("Maybe later","integrate-google-drive"),reverseButtons:!0,allowOutsideClick:!1,allowEscapeKey:!1,customClass:{container:"igd-swal igd-review-swal"}}).then((function(e){e.isConfirmed?(window.open("https://wordpress.org/support/plugin/integrate-google-drive/reviews/?filter=5#new-post","_blank"),wp.ajax.post("igd_hide_review_notice",{nonce:igd.nonce})):e.isDenied&&localStorage.setItem("igd_remind_in_days",10)})):e.isDenied&&Swal.fire({title:wp.i18n.__("Sorry to hear that!","integrate-google-drive"),text:wp.i18n.__("Could you please provide us with some feedback to help us improve?","integrate-google-drive"),input:"textarea",inputPlaceholder:wp.i18n.__("Enter your feedback here...","integrate-google-drive"),showCancelButton:!1,confirmButtonText:wp.i18n.__("Submit","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,customClass:{container:"igd-swal igd-review-swal"}}).then((function(e){e.isConfirmed?(Swal.fire({title:wp.i18n.__("Thank you for your feedback!","integrate-google-drive"),text:wp.i18n.__("We'll use your feedback to improve our plugin.","integrate-google-drive"),icon:"info",customClass:{container:"igd-swal igd-review-swal"}}),wp.ajax.post("igd_review_feedback",{feedback:e.value,nonce:igd.nonce})):e.isDismissed&&wp.ajax.post("igd_hide_review_notice",{nonce:igd.nonce})}))}));case 9:e.sent;case 10:case"end":return e.stop()}}),e)})),mt=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){De(i,r,o,a,l,"next",e)}function l(e){De(i,r,o,a,l,"throw",e)}a(void 0)}))},mt.apply(this,arguments)}function gt(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function vt(e){var t=e.files,n=e.activeFiles,r=e.setFiles,o=e.setAllFiles,i=e.activeFolder,a=e.setActiveFiles,l=e.activeFile,c=e.notifications,s=e.shortcodeId,d=e.nonce,u=void 0===d?igd.nonce:d,f=n.length?n.map((function(e){return e.id})):[l.id],p=n.length?n[0].accountId:l.accountId;Swal.fire({title:wp.i18n.__("Are you sure?","integrate-google-drive"),text:wp.i18n.sprintf(wp.i18n._n("You are about to delete the file.","You are about to delete %s files.",f.length,"integrate-google-drive"),f.length),icon:"warning",showCancelButton:!0,customClass:{container:"igd-swal igd-swal-reverse"},confirmButtonText:wp.i18n.__("Yes, delete it!","integrate-google-drive"),cancelButtonText:wp.i18n.__("No, cancel!","integrate-google-drive"),reverseButtons:!0,showLoaderOnConfirm:!0,preConfirm:function(){return wp.ajax.post("igd_delete_files",{shortcodeId:s,file_ids:f,account_id:p,nonce:u})}}).then((function(e){if(e.isConfirmed){c&&c.deleteNotification&&wp.ajax.post("igd_notification",{files:n,notifications:c,type:"delete",nonce:u});var l=t.filter((function(e){return!f.includes(e.id)}));r(l),o((function(e){return Me(Me({},e),{},Ue({},i.id,l))})),a([]),Swal.fire({title:wp.i18n.__("Deleted!","integrate-google-drive"),text:wp.i18n.sprintf(wp.i18n._n("File has been deleted.","%d files have been deleted.",f.length,"integrate-google-drive"),f.length),icon:"success",showConfirmButton:!1,timer:1500,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"}})}}))}function ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}"undefined"!=typeof window&&window.addEventListener("react-tooltip-inject-styles",(e=>{e.detail.disableCore||ve({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||ve({css:"\n.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}",type:"base"})}));var wt=React,bt=wt.useState,_t=wt.useRef,Et=wt.useEffect,St=wt.useContext;function Rt(){var e=St(t),n=e.isSearch,r=e.searchFiles,o=e.setFiles,i=e.listFiles,a=e.activeFolder,l=e.setActiveFolder,c=e.setIsSearchResults,s=e.initFolders,d=e.searchKeyword,u=e.setSearchKeyword,f=e.initialSearchTerm,p=_t(null),m=ht(bt(!1),2),g=m[0],v=m[1],h=_t(),y=ht(bt(n||f),2),w=y[0],b=y[1],_=function(e){if(e&&e.preventDefault(),v(!1),c(!1),!d)return Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Please enter a keyword to search","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",customClass:{container:"igd-swal"}}),void v(!0);r(d)},E=nt();return Et((function(){if(E&&d&&!(d.length<5))return p.current=setTimeout((function(){_()}),1500),function(){clearTimeout(p.current)}}),[d]),React.createElement("form",{ref:h,className:"header-action-item igd-search-bar ".concat(w?"active":""," ").concat(g?"error":""),onSubmit:_},(!n||n&&!!d)&&React.createElement("div",{className:"search-dismiss",onClick:function(){n||b(!w),u(""),v(!1),c(!1),a?n?(c(!1),l(null),o([])):i(a):o(s&&!n?s:[])}},React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M1.5 1.5L10.5 10.5M1.5 10.5L10.5 1.5L1.5 10.5Z",stroke:"#BABABA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),React.createElement("input",{type:"text",placeholder:wp.i18n.__("Enter a keyword to search","integrate-google-drive"),value:d,onChange:function(e){u(e.target.value)}}),React.createElement("div",{className:"search-submit",onClick:function(){var e;w?_():(b(!0),null===(e=h.current)||void 0===e||e.querySelector("input").focus())}},React.createElement("svg",{"data-tooltip-content":wp.i18n.__("Search","integrate-google-drive"),"data-tooltip-id":"search",width:"20",height:"20",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("circle",{cx:"9.7659",cy:"9.76639",r:"8.98856",stroke:"#3D3D3D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),React.createElement("path",{d:"M16.0176 16.4849L19.5416 19.9997",stroke:"#3D3D3D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),React.createElement(Pe,{id:"search",place:"bottom",effect:"solid",className:"igd-tooltip"})))}var At=React.useContext,xt=igd.settings.rememberLastFolder,Ot=void 0===xt||xt;function Ct(){var e=At(t),n=e.breadcrumbs,r=e.initFolders,o=e.setFiles,i=e.activeFolder,a=e.setActiveFolder,l=e.setActiveFile,c=e.listFiles,s=e.initParentFolder,d=e.show,u=e.isShortcodeBuilder,f=e.activeAccount,p=e.setIsOptions,m=e.setActiveFiles,g=!!n&&Object.keys(n),v=g.length>2?g[0]:"",h=g.length>3?g.slice(1,-2):[],y=g.length?g.slice(-2):[],w=function(e){e.preventDefault(),e.stopPropagation(),p(!1),m([]),l(i),d(e)};return React.createElement("div",{className:"igd-breadcrumb"},React.createElement("div",{className:"breadcrumb-item",onClick:function(e){r?s?(a(s),c(s)):(a(null),o(r),Ot&&ft(r,s)):(a(null),o([]),Ot&&ft(r,s))}},React.createElement("i",{className:"dashicons dashicons-admin-home"}),React.createElement("span",{className:""},wp.i18n.__("Home","integrate-google-drive"))),!!i&&React.createElement(React.Fragment,null,!!v&&React.createElement("div",{className:"breadcrumb-item ".concat(u||i.id!==v?"":"active"),onClick:function(e){i.id===v?w(e):c({id:v,name:n[v],accountId:i.accountId})}},React.createElement("span",null,gt(n[v]))),!!h.length&&React.createElement(React.Fragment,null,React.createElement("div",{"data-tooltip-id":"collapsed_breadcrumbs",className:"breadcrumb-item"},React.createElement("i",{className:"dashicons dashicons-ellipsis"}),React.createElement("i",{className:"dashicons dashicons-arrow-right-alt2"})),React.createElement(Pe,{id:"collapsed_breadcrumbs",place:"bottom",variant:"light",effect:"solid",openOnClick:"click",globalEventOff:"click",clickable:!0,className:"collapsed-breadcrumbs igd-tooltip",getContent:function(){return h.map((function(e){return React.createElement("div",{key:e,className:"collapsed-breadcrumbs-item",onClick:function(t){c({id:e,name:n[e],accountId:i.accountId})}},React.createElement("span",null,n[e]))}))}})),y.map((function(e){return React.createElement("div",{key:e,className:"breadcrumb-item ".concat(lt(i.id,f)||u||i.id!==e?"":"active"),onClick:function(t){lt(i.id,f)||(i.id===e?w(t):c({id:e,name:n[e],accountId:i.accountId}))}},React.createElement("span",null,gt(n[e])))}))))}function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ft(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nt=React,jt=Nt.useEffect,It=Nt.useState;function Pt(e){var t=e.text,n=e.isDismissable,r=void 0===n||n,o=kt(It(!0),2),i=o[0],a=o[1];return jt((function(){i||ReactDOM.unmountComponentAtNode(document.getElementById("igd-pro-modal"))}),[i]),jt((function(){var e=jQuery;function t(){var e=(new Date).getTime()+2.3*24*60*60*1e3;localStorage.setItem("igd_offer_time",e),n=e}r&&e(document).on("click",".igd-pro-modal-wrap",(function(t){e(t.target).hasClass("igd-pro-modal-wrap")&&a(!1)}));var n=localStorage.getItem("igd_offer_time");!n||isNaN(n)?t():n=parseInt(n),setInterval((function(){var r=(new Date).getTime(),o=n-r;o<0&&(t(),o=n-r);var i=Math.floor(o/864e5),a=Math.floor(o%864e5/36e5),l=Math.floor(o%36e5/6e4),c=Math.floor(o%6e4/1e3);e(".timer .days span:first").text(i),e(".timer .hours span:first").text(a),e(".timer .minutes span:first").text(l),e(".timer .seconds span:first").text(c)}),1e3)}),[]),i?React.createElement("div",{className:"igd-pro-modal-wrap"},React.createElement("div",{className:"igd-pro-modal"},React.createElement("span",{className:"igd-pro-modal-close",onClick:function(){return a(!1)}},"×"),React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/offer.svg"),alt:"Upgrade to Pro"}),React.createElement("h3",null,wp.i18n.__("Unlock PRO Features","integrate-google-drive")),React.createElement("p",null,t),React.createElement("div",{className:"discount"},React.createElement("span",{className:"discount-special"},wp.i18n.__("Special","igd-dark-mode")),React.createElement("span",{className:"discount-text"},wp.i18n.__("30% OFF","igd-dark-mode"))),React.createElement("div",{className:"timer"},React.createElement("div",{className:"days"},React.createElement("span",null,"0"),React.createElement("span",null,"DAYS")),React.createElement("div",{className:"hours"},React.createElement("span",null,"0"),React.createElement("span",null,"HOURS")),React.createElement("div",{className:"minutes"},React.createElement("span",null,"0"),React.createElement("span",null,"MINUTES")),React.createElement("div",{className:"seconds"},React.createElement("span",null,"0"),React.createElement("span",null,"SECONDS"))),React.createElement("div",{className:"igd-pro-modal-actions"},React.createElement("a",{href:igd.upgradeUrl,className:"igd-btn btn-primary"},wp.i18n.__("Claim Discount","integrate-google-drive"))))):null}function Tt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wp.i18n.__("Upgrade to PRO to use this feature.","integrate-google-drive"),t=document.getElementById("igd-pro-modal");t||((t=document.createElement("div")).id="igd-pro-modal",document.body.appendChild(t)),ReactDOM.render(React.createElement(Pt,{text:e}),t)}function Lt(e){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(e)}function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Lt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kt=React,Ht=Kt.useContext,Wt=Kt.useState;function qt(){var e,n=Ht(t),r=n.shortcodeId,o=n.activeAccount,i=n.setActiveAccount,a=n.files,l=n.activeFiles,c=n.setActiveFiles,s=n.allFolders,d=n.getFiles,u=n.isShortcodeBuilder,f=n.initFolders,p=n.activeFile,m=n.activeFolder,g=n.isSearch,v=n.setShowSidebar,h=n.sort,y=n.setSort,w=n.permissions,b=n.notifications,_=n.showBreadcrumbs,E=n.isOptions,S=n.setIsOptions,R=n.showRefresh,A=n.showSorting,x=n.shortcodeBuilderType,O=n.isMobile,C=n.show,k=n.hideAll,F=n.setFiles,N=n.setAllFiles,j=n.nonce,I="gallery"===x,P=igd.isPro,T={name:wp.i18n.__("Name","integrate-google-drive"),size:wp.i18n.__("Size","integrate-google-drive"),created:wp.i18n.__("Created","integrate-google-drive"),updated:wp.i18n.__("Modified","integrate-google-drive")},L={asc:wp.i18n.__("Ascending","integrate-google-drive"),desc:wp.i18n.__("Descending","integrate-google-drive")},D=JSON.parse(at(igd.accounts)),B=Ut(Wt(!1),2),M=B[0],U=B[1],z=function(){return U(!1)};return e=z,React.useEffect((function(){var t=function(t){var n;null!==(n=document.activeElement)&&void 0!==n&&n.contains(t.target)||e()};return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[e]),React.createElement("div",{className:"igd-file-browser-header"},(!g||u)&&_&&React.createElement(Ct,null),React.createElement("div",{className:"header-action"},O&&!u&&igd.isAdmin&&React.createElement("i",{className:"dashicons dashicons-menu-alt3 header-action-item sidebar-toggle",onClick:function(){return v((function(e){return!e}))}}),!!I&&!!w&&!!w.photoProof&&React.createElement("button",{className:"igd-btn btn-primary ".concat(l.length?"":"disabled"," photo-proofing-btn"),onClick:function(){w.photoProofMaxSelection>0&&l.length>w.photoProofMaxSelection?Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.sprintf(wp.i18n.__("You can not select more than %s files.","integrate-google-drive"),w.photoProofMaxSelection),icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}}):Swal.fire({title:wp.i18n.sprintf(wp.i18n.__("Approve Selection (%s selected)","integrate-google-drive"),l.length),text:wp.i18n.__("Are you sure you want to approve the selected files?","integrate-google-drive"),input:"textarea",inputValue:"",inputAttributes:{autocapitalize:"off",placeholder:wp.i18n.__("Enter a message to send to the author","integrate-google-drive")},showCancelButton:!1,confirmButtonText:wp.i18n.__("Approve","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,customClass:{container:"igd-swal"},preConfirm:function(e){return wp.ajax.post("igd_photo_proof",{shortcode_id:r,message:e,selected:l,email:w.photoProofEmail,nonce:j||igd.nonce}).done((function(){Swal.fire({title:wp.i18n.__("Sent!","integrate-google-drive"),text:wp.i18n.__("Your selected images have been sent to the author.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,toast:!0})})).fail((function(e){Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:(null==e?void 0:e.message)||wp.i18n.__("An error occurred while sending the files.","integrate-google-drive"),icon:"error",showConfirmButton:!0,confirmButtonText:"OK",customClass:{container:"igd-swal"}})}))}})},disabled:!l.length},React.createElement("i",{className:"dashicons dashicons-camera"}),React.createElement("span",null,wp.i18n.__("Send Selection","integrate-google-drive")),l.length>0&&React.createElement("span",{className:"selection-count"},"(",l.length,")")),!["shared","shared-drives","computers"].includes(null==m?void 0:m.id)&&!!l.length&&(!w||w.delete)&&React.createElement("div",{"data-tooltip-content":wp.i18n.__("Delete","integrate-google-drive"),"data-tooltip-id":"delete",className:"header-action-item action-delete",onClick:function(){return vt({files:a,activeFiles:l,setFiles:F,setAllFiles:N,activeFolder:m,setActiveFiles:c,setActiveAccount:i,isOptions:E,activeFile:p,notifications:b,shortcodeId:r,nonce:j})}},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/delete.svg"),alt:"Delete Files"}),React.createElement(Pe,{id:"delete",effect:"solid",place:"bottom",className:"igd-tooltip"})),(f||m)&&(!w||w.allowSearch||g)&&React.createElement(Rt,null),R&&(!g||u)&&m&&React.createElement("div",{"data-tooltip-content":wp.i18n.__("Refresh","integrate-google-drive"),"data-tooltip-id":"sync",className:"header-action-item action-update",onClick:function(){m&&d(m,"refresh")}},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/update.svg"),alt:"Sync Files"}),React.createElement(Pe,{id:"sync",effect:"solid",place:"bottom",className:"igd-tooltip"})),A&&(!g||u)&&m&&React.createElement(React.Fragment,null,React.createElement("div",{"data-tooltip-id":"sort",className:"header-action-item action-sort"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/sort.svg"),alt:"Sort"})),React.createElement(Pe,{id:"sort",effect:"solid",place:"bottom",className:"igd-tooltip",render:function(){return wp.i18n.__("Sort","integrate-google-drive")}}),React.createElement(Pe,{id:"sort",variant:"light",openOnClick:"click",globalEventOff:"click",className:"igd-sort-modal igd-tooltip",place:"bottom",border:"1px solid #ddd",clickable:!0,effect:"solid"},React.createElement("div",{className:"igd-sort-modal-inner"},React.createElement("div",{className:"igd-sort-modal-inner-section"},React.createElement("span",{className:"igd-sort-modal-inner-section-title"},wp.i18n.__("SORT BY","integrate-google-drive")),Object.keys(T).map((function(e){return React.createElement("div",{key:e,className:"sort-item ".concat(h.sortBy===e?"active":""),onClick:function(){return y(Bt(Bt({},h),{},{sortBy:e}))}},React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,T[e]))}))),React.createElement("div",{className:"igd-sort-modal-inner-section"},React.createElement("span",{className:"igd-sort-modal-inner-section-title"},wp.i18n.__("SORT DIRECTION","integrate-google-drive")),Object.keys(L).map((function(e){return React.createElement("div",{key:e,className:"sort-item ".concat(h.sortDirection===e?"active":""),onClick:function(){return y((function(t){return Bt(Bt({},t),{},{sortDirection:e})}))}},React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,L[e]))})))))),null!==E&&(u||(!I||I&&!!w&&!!w.download&&!!w.zipDownload)&&(!g||g&&!!a.length))&&React.createElement("div",{"data-tooltip-content":wp.i18n.__("Options","integrate-google-drive"),"data-tooltip-id":"options",onClick:function(e){e.preventDefault(),S(!E),E?k():C(e)},className:"header-action-item action-options"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/options.svg"),alt:"Options"}),React.createElement(Pe,{id:"options",effect:"solid",place:"bottom",className:"igd-tooltip"})),(!f||s)&&React.createElement(React.Fragment,null,React.createElement("div",{className:"header-action-item action-accounts user-box","data-tooltip-id":"switch-account",onClick:function(){return U((function(e){return!e}))}},React.createElement("img",{referrerPolicy:"no-referrer",className:"user-image",src:o.photo,onError:function(e){return $e(e.currentTarget,o.email)}}),React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/arrow-down.svg"),className:"user-arrow"})),React.createElement(Pe,{id:"switch-account",isOpen:M,place:"bottom",variant:"light",effect:"solid",openOnClick:"click",globalEventOff:"click",clickable:!0,border:"1px solid #ddd",resizeHide:!1,className:"user-box-modal-wrap igd-tooltip"},React.createElement("div",{className:"user-box-modal"},React.createElement("span",{className:"user-box-modal-title"},wp.i18n.__("Switch Account","integrate-google-drive")),Object.keys(D).map((function(e){var t=D[e],n=t.id,r=t.name,a=t.photo,l=t.email,c=o.id===n;return React.createElement("div",{key:e,className:"user-box-account ".concat(c?"active":""),onClick:function(){z(),i(D[e])}},React.createElement("img",{referrerPolicy:"no-referrer",onError:function(e){return $e(e.currentTarget,l)},src:a}),React.createElement("div",{className:"account-info"},React.createElement("span",{className:"account-name"},r),React.createElement("span",{className:"account-email"},l)),c&&React.createElement("i",{className:"dashicons dashicons-saved active-badge"}))})),!u&&!f&&React.createElement(React.Fragment,null,React.createElement("button",{"data-tooltip-content":"Multiple Accounts - PRO","data-tooltip-id":"addAccountPromo",className:"igd-btn btn-primary",onClick:function(){z(),P||!Object.keys(D).length?igd.authUrl?ct():window.location=igd.adminUrl+"/admin.php?page=integrate-google-drive-settings":Tt(wp.i18n.__("Upgrade to PRO to add multiple accounts.","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-plus"}),React.createElement("span",null,wp.i18n.__("Add account","integrate-google-drive"))),!P&&!!Object.keys(D).length&&React.createElement(Pe,{id:"addAccountPromo",effect:"solid",place:"right",variant:"warning",className:"igd-tooltip"})))))))}function Qt(e){return function(e){if(Array.isArray(e))return Vt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gt(e){var t=e.file,n=e.isSelected,r=e.selectedFolders,o=void 0===r?[]:r,i=e.setSelectedFolders;return React.createElement("button",{className:"select-btn ".concat(n?"active":""),onClick:function(e){e.preventDefault(),e.stopPropagation(),i(n?Qt(o.filter((function(e){return e.id!=t.id}))):[].concat(Qt(o),[t]))}},React.createElement("i",{className:"dashicons ".concat(n?"dashicons-no":"dashicons-plus")}),React.createElement("span",null,n?wp.i18n.__("Remove","integrate-google-drive"):wp.i18n.__("Select","integrate-google-drive")))}var Jt=React.useContext;function Xt(){var e=Jt(t),n=e.activeAccount,r=e.initFolders,o=e.activeFolder,i=e.setActiveFolder,a=e.selectedFolders,l=e.shortcodeBuilderType,c=e.listFiles,s=e.setSelectedFolders,d=e.isList,u=e.selectionType,f="uploader"===l,p="embed"===l,m="view"===l,g="download"===l,v="slider"===l,h=Qe(!1,n);r&&(h=h.filter((function(e){return r.includes(e.id)})));var y=l&&!m&&!g&&!p&&!v;return f?y=!a.length||"root"===a[0].id:"parent"===u&&(y=!0),h.map((function(e){var t=e.id,n=e.name,r=e.iconLink,l=a&&!!a.find((function(e){return e.id===t}));return React.createElement("div",{key:t,className:"".concat(t===(null==o?void 0:o.id)?"active":""," file-item root-item folder-item"),onClick:function(t){t.stopPropagation(),i(e),c(e)}},React.createElement("img",{src:r,alt:n}),React.createElement("span",null,n),y&&"root"===t&&React.createElement(Gt,{file:e,isSelected:l,selectedFolders:a,setSelectedFolders:s,isList:d}))}))}var Yt=window.React,Zt=Yt.useRef,$t=Yt.useContext;function en(){var e=$t(t),n=e.activeAccount,r=e.activeFolder,o=e.isUpload,i=e.setIsUpload,a=e.isMobile,l=e.setShowSidebar,c=n.storage,s=void 0===c?{}:c,d=Math.round(100*s.usage/s.limit),u=!(!r||Ze(r.id,n)&&"root"!==r.id),f=Zt(null);return React.createElement("div",{ref:f,className:"igd-sidebar-wrap"},React.createElement("div",{className:"igd-sidebar"},React.createElement("div",{className:"sidebar-uploader"},React.createElement("button",{id:"igd_upload_files",disabled:!u,className:"".concat(o?"active":u?"":"disabled"," igd-btn"),onClick:function(){i((function(e){return!e})),a&&l(!1)}},React.createElement("i",{className:"dashicons dashicons-cloud-upload"}),React.createElement("span",null,wp.i18n.__("Upload Files","integrate-google-drive")))),React.createElement("div",{className:"sidebar-folders"},React.createElement(Xt,null)),React.createElement("div",{className:"storage-info-wrap"},React.createElement("i",{className:"dashicons dashicons-database"}),React.createElement("div",{className:"storage-info"},React.createElement("div",{className:"storage-info-sidebar"},React.createElement("div",{style:{width:"".concat(d,"%")},className:"storage-info-fill ".concat(d>90?"fill-danger":"")})),React.createElement("span",null,We(s.usage)," of ",We(s.limit)," used")))))}function tn(e){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn(e)}function nn(e){return function(e){if(Array.isArray(e))return sn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||cn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){an(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function an(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=tn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||cn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(e,t){if(e){if("string"==typeof e)return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sn(e,t):void 0}}function sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dn=React,un=dn.useState,fn=dn.useEffect,pn=dn.useRef,mn=dn.useContext;dn.useCallback;function gn(){var e=mn(t),n=e.shortcodeId,r=e.activeAccount,o=void 0===r?JSON.parse(at(igd.activeAccount)):r,i=e.setActiveAccount,a=e.notifications,l=e.folders,c=e.filters,s=e.maxFiles,d=e.maxFileSize,u=e.minFileSize,f=e.activeFolder,p=e.isUpload,m=e.setIsUpload,g=e.isFormUploader,v=e.isRequired,h=e.showUploadLabel,y=e.uploadLabelText,w=e.uploadFileName,b=e.isWooCommerceUploader,_=e.wcItemId,E=e.wcProductId,S=e.initUploadedFiles,R=void 0===S?[]:S,A=e.setFiles,x=e.setAllFiles,O=e.enableFolderUpload,C=void 0===O?!!f:O,k=e.uploadImmediately,F=void 0===k?!!f||b:k,N=e.overwrite,j=e.showUploadConfirmation,I=e.uploadConfirmationMessage,P=e.nonce,T=e.enableUploadDescription,L=void 0===T?!l:T,D=c||{},B=D.allowExtensions,M=D.allowAllExtensions,U=D.allowExceptExtensions,z=pn(R),K=ln(un(R),2),H=K[0],W=K[1],q=ln(un([]),2),Q=q[0],V=q[1],G=ln(un([]),2),J=G[0],X=G[1],Y=ln(un(0),2),Z=Y[0],$=Y[1],ee=ln(un(!1),2),te=ee[0],ne=ee[1],re=ln(un([]),2),oe=re[0],ie=re[1],ae=ln(un([]),2),le=ae[0],ce=ae[1],se=pn(null),de=pn(null),ue=pn(null),fe=f;if(!fe){var pe=l?l.filter((function(e){return qe(e)})):[];fe=pe&&pe.length?pe[0]:{id:"root",accountId:o.id}}var me=function(e){if(e){var t=z.current,n=t.findIndex((function(t){return t.id===e.id}))+1;n<t.length&&ye(t[n])}},ge=function(e,t,n){if(!e)return n(!0);var r=t.name.split(".").pop();(M?!e.split(",").map((function(e){return e.trim()})).includes(r):e.split(",").map((function(e){return e.trim()})).includes(r))?n(!0):(this.trigger("Error",{code:"EXT_ERROR",file:t}),n(!1))},ve=function(e,t,n){if(!(e=1024*e*1024))return n(!0);t.size<e?(this.trigger("Error",{code:"SIZE_MIN_ERROR",file:t}),n(!1)):n(!0)},he=function(e,t,n){if(!e)return n(!0);var r=this.files.length;R.length&&(r=de.current.querySelectorAll(".file-list-item.uploaded").length),r>=e?(this.trigger("Error",{code:"FILES_MAX_ERROR",file:t}),n(!1)):n(!0)},ye=function(e){if(e){se.current.stop(),$(0),V((function(t){return t.find((function(t){return t.id===e.id}))?t:[].concat(nn(t),[e])}));var t=Ve(e);wp.ajax.post("igd_get_upload_url",{shortcodeId:n,data:{name:e.name,queueIndex:z.current.findIndex((function(t){return t.id===e.id}))+1,size:e.size,type:e.type,fileId:e.id,description:e.description,folderId:fe.id,uploadFileName:w,accountId:fe.accountId,path:t&&t.substring(0,t.lastIndexOf("/")+1),overwrite:N,isWooCommerceUploader:b,wcProductId:E,wcItemId:_},nonce:P||igd.nonce}).done((function(e){se.current.setOption("url",e),se.current.start()})).fail((function(t){console.log(t),me(e),X(J.filter((function(t){return t.id!==e.id}))),V(J.filter((function(t){return t.id!==e.id}))),$(0)}))}},we=function(){var e={browse_button:de.current.querySelector(".browse-files"),drop_element:de.current,multipart:!1,multi_selection:!s||s>1,filters:{max_files:s,file_ext:M?U:B,max_file_size:d?"".concat(parseInt(d),"mb"):0,min_file_size:u},init:{FilesAdded:function(e,t){ne(!1),X((function(e){return[].concat(nn(e),nn(t))})),z.current=[].concat(nn(z.current),nn(t)),V((function(e){var n=nn(e);return F&&!e.length&&(ye(t[0]),n=[].concat(nn(e),[t[0]])),n})),L&&ce([].concat(nn(le),nn(t.map((function(e){return e.id})))))},FilesRemoved:function(e,t){X((function(e){return e.filter((function(e){return!t.find((function(t){return t.id===e.id}))}))})),z.current=z.current.filter((function(e){return!t.find((function(t){return t.id===e.id}))}))},FileUploaded:function(e,t,r){!function(e,t){V((function(t){return t.filter((function(t){return t.id!==e.id}))})),me(e);var r=JSON.parse(t.response);if(r){var o={file:r=on(on({},r),{},{type:r.mimeType,accountId:fe.accountId,pluploadId:e.id,path:C&&Ve(e)})};b&&(o.wcItemId=_,o.wcProductId=E),W((function(e){return[].concat(nn(e),[r])})),X((function(t){return t.filter((function(t){return t.id!==e.id}))})),wp.ajax.post("igd_file_uploaded",on(on({shortcodeId:n},o),{},{nonce:P||igd.nonce})).done((function(e){A&&(A((function(t){return[e].concat(nn(t))})),x((function(t){return on(on({},t),{},an({},fe.id,[e].concat(nn(t[fe.id]||[]))))})))}))}}(t,r)},UploadProgress:function(e,t){$(t.percent)},UploadComplete:function(){V([]),X([]),setTimeout((function(){ne(!0)}),!g&&j?1e3:0)},Error:function(e,t){return function(e,t){var n;switch(e){case-600:n=wp.i18n.__("File size exceeds the maximum upload size.","integrate-google-drive")+"(".concat(d?"".concat(parseInt(d),"mb"):0,")");break;case"SIZE_MIN_ERROR":n=wp.i18n.__("File size is less than the minimum upload size.","integrate-google-drive")+"(".concat(u,"mb)");break;case"EXT_ERROR":n=wp.i18n.__("This file type is not allowed","integrate-google-drive");break;case"FILES_MAX_ERROR":n=wp.i18n.__("You can not upload more than","integrate-google-drive")+" ".concat(s," ").concat(wp.i18n.__("files","integrate-google-drive"));break;default:n=t.error}z.current=z.current.map((function(e){return e.id===t.id&&(e.error=n),e}))}(t.code,t.file)}}};return!M&&B&&(e.filters.mime_types=[{title:"Allowed files",extensions:B}]),e},be=function(){if(plupload.buildUrl=function(e){return e},plupload.addFileFilter("file_ext",ge),plupload.addFileFilter("min_file_size",ve),plupload.addFileFilter("max_files",he),se.current=new plupload.Uploader(we()),se.current.init(),C){var e=new mOxie.FileInput({browse_button:de.current.querySelector(".browse-folder"),directory:!0});e.init(),e.onchange=function(){se.current.addFile(e.files)}}};fn((function(){return be(),function(){se.current&&se.current.destroy()}}),[]);var _e=function(){if(jQuery){var e=jQuery,t=e(de.current).closest("form");if(t.length){var n=e(de.current).parent().next(".upload-file-list"),r=function(e){return e.map((function(e){return{id:e.id,accountId:e.accountId,name:e.name,iconLink:e.iconLink,thumbnailLink:e.thumbnailLink,size:e.size,parents:e.parents,path:C&&e.path}}))}(H);if(["metform","elementor","ninjaforms","cf7","wpforms"].includes(g)){var o=r.map((function(e){var t="https://drive.google.com/file/d/".concat(e.id,"/view");return"".concat(e.name," — ( ").concat(t," )")})).join(", \n\n");n.val(o).change()}else n.val(JSON.stringify(r)).change();if(t.trigger("change"),!F&&!t.find(".file-list-item.active").length){var i=t.find(":submit");i.length?(i.is("input")?i.val(ue.current):i.text(ue.current),i.trigger("click")):t.submit()}}}};fn((function(){te&&H.length&&(a&&a.uploadNotification&&wp.ajax.post("igd_notification",{files:H,notifications:a,type:"upload",nonce:P||igd.nonce}),g&&_e(),n||wp.ajax.post("igd_update_storage_size",{nonce:igd.nonce}).done((function(e){i((function(t){return on(on({},t),{},{storage:on(on({},t.storage),{},{usage:e})})}))})).fail((function(e){console.error(e)})))}),[te]),fn((function(){if(J.length&&!Q.length&&g&&!F&&de.current){var e=jQuery(de.current).closest("form");if(e.length){var t=jQuery(e).find(":submit");if(t.length){var n=t.parent();t.addClass("igd-disabled");var r=function(e){e.preventDefault();var n=t.is("input");ue.current=t.is("input")?t.val():t.text(),n?t.val(wp.i18n.__("Uploading Files...","integrate-google-drive")):t.text(wp.i18n.__("Uploading Files...","integrate-google-drive")),ye(J[0])};return n.on("click",r),function(){t&&(n.off("click",r),t.removeClass("igd-disabled"))}}}}}),[J]),fn((function(){if(g){var e=jQuery(de.current).closest("form"),t=function(e){X([]),V([]),W([]),z.current=[]};return e.on("reset",t),function(){return e.off("reset",t)}}}),[]);var Ee=!g&&!b&&!F&&j&&H.length&&te,Se=J.length||z.current.filter((function(e){return!e.error})).length,Re=J.length?F||Q.length?wp.i18n.__("Item(s) Uploading...","integrate-google-drive"):wp.i18n.__("Item(s) Selected","integrate-google-drive"):wp.i18n.__("Item(s) Uploaded","integrate-google-drive"),Ae=function(e,t){var r=t.description,o=t.descriptionUpdated;if(e&&r&&t.hasOwnProperty("descriptionUpdated")&&!o){var i=H.find((function(e){return e.pluploadId===t.id||e.id===t.id}));Swal.fire({title:!1,text:wp.i18n.__("Description has been updated.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal save-settings-toast"},position:"top-end"});var a={shortcodeId:n,id:i.id,accountId:i.accountId,description:r,nonce:P||igd.nonce};b&&(a.wcItemId=_,a.wcProductId=E),wp.ajax.post("igd_update_description",a).done((function(e){z.current=z.current.map((function(e){return e.id===t.id&&(e.descriptionUpdated=!0),e}))})).fail((function(e){console.log(e)}))}};return React.createElement("div",{onDragEnter:function(){return de.current.classList.add("drag-active")},onDragLeave:function(){return de.current.classList.remove("drag-active")},onDrop:function(){return de.current.classList.remove("drag-active")},ref:de,className:"igd-file-uploader igd-module-uploader ".concat(g?" igd-form-uploader":""," ").concat(!v||J.length||z.current.length?"":"required-error","  ").concat(Ee?"show-confirmation":""," ")},React.createElement("div",{className:"igd-file-uploader-body"},!!Ee&&React.createElement("div",{className:"upload-confirmation"},React.createElement("div",{className:"upload-confirmation-message",dangerouslySetInnerHTML:{__html:I}}),(!s||s>H.length)&&React.createElement("button",{type:"button",className:"igd-btn btn-primary",onClick:function(){return ne(!1)}},wp.i18n.__("Upload More Files","integrate-google-drive"))),React.createElement("div",{className:"igd-file-uploader-inner"},h&&React.createElement("h4",{className:"igd-file-uploader-label"},y),React.createElement("i",{className:"dashicons dashicons-cloud-upload"}),React.createElement("p",null,wp.i18n.__("Drag and drop files here","integrate-google-drive")),React.createElement("p",{className:"or"},wp.i18n.__("OR","integrate-google-drive")),React.createElement("div",{className:"igd-file-uploader-buttons"},React.createElement("button",{type:"button",className:"browse-files",onMouseOver:function(){navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&se.current.refresh()}},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M842.24 355.413333l-232.106667-256a42.666667 42.666667 0 0 0-31.573333-14.08h-298.666667A107.946667 107.946667 0 0 0 170.666667 192v640A107.946667 107.946667 0 0 0 279.893333 938.666667h464.213334A107.946667 107.946667 0 0 0 853.333333 832V384a42.666667 42.666667 0 0 0-11.093333-28.586667zM597.333333 213.333333l116.906667 128h-85.333333a33.706667 33.706667 0 0 1-31.573334-36.266666z m146.773334 640H279.893333a22.613333 22.613333 0 0 1-23.893333-21.333333v-640a22.613333 22.613333 0 0 1 23.893333-21.333333H512v134.4A119.04 119.04 0 0 0 627.626667 426.666667H768v405.333333a22.613333 22.613333 0 0 1-23.893333 21.333333z",fill:"currentColor"}),React.createElement("path",{d:"M597.333333 554.666667h-42.666666v-42.666667a42.666667 42.666667 0 0 0-85.333334 0v42.666667h-42.666666a42.666667 42.666667 0 0 0 0 85.333333h42.666666v42.666667a42.666667 42.666667 0 0 0 85.333334 0v-42.666667h42.666666a42.666667 42.666667 0 0 0 0-85.333333z",fill:"currentColor"})),React.createElement("span",null,wp.i18n.__("Browse Files","integrate-google-drive"))),C&&React.createElement("button",{type:"button",className:"browse-folder",onMouseOver:function(){navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&se.current.refresh()}},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M597.333333 554.666667h-42.666666v-42.666667a42.666667 42.666667 0 0 0-85.333334 0v42.666667h-42.666666a42.666667 42.666667 0 0 0 0 85.333333h42.666666v42.666667a42.666667 42.666667 0 0 0 85.333334 0v-42.666667h42.666666a42.666667 42.666667 0 0 0 0-85.333333z",fill:"currentColor"}),React.createElement("path",{d:"M832 300.8h-298.666667L421.12 165.12a42.666667 42.666667 0 0 0-32.853333-15.786667H192A105.386667 105.386667 0 0 0 85.333333 253.013333v517.973334a105.386667 105.386667 0 0 0 106.666667 103.68h640a105.386667 105.386667 0 0 0 106.666667-103.68V404.48a105.386667 105.386667 0 0 0-106.666667-103.68z m21.333333 469.333333a19.626667 19.626667 0 0 1-21.333333 18.346667h-640a19.626667 19.626667 0 0 1-21.333333-18.346667V253.013333a19.626667 19.626667 0 0 1 21.333333-18.346666h176.213333l110.933334 135.68a42.666667 42.666667 0 0 0 32.853333 15.786666h320a19.626667 19.626667 0 0 1 21.333333 18.346667z",fill:"currentColor"})),React.createElement("span",null,wp.i18n.__("Browse Folder","integrate-google-drive")))),p&&React.createElement("i",{className:"cancel-upload dashicons dashicons-no",onClick:function(){return m(!1)}}),React.createElement("div",{className:"upload-info"},!!u&&React.createElement("span",{className:"max-size-label"},wp.i18n.__("Min File Size:","integrate-google-drive")," ",u,"MB"),!!d&&React.createElement("span",{className:"max-size-label"},wp.i18n.__("Max File Size:","integrate-google-drive")," ",d,"MB")))),!!z.current.length&&!Ee&&React.createElement("div",{className:"file-list-wrapper"},React.createElement("div",{className:"file-list-header"},React.createElement("span",{className:"file-count"},Se),React.createElement("span",{className:"file-status-text"},Re)),React.createElement("div",{className:"file-list"},nn(new Set(z.current)).map((function(e){var t=e.id,r=e.name,o=e.size,i=e.type,a=e.error,l=e.description,c=Q.find((function(e){return e.id===t})),s=H.find((function(e){return e.id===t||e.pluploadId===t})),d=oe.find((function(e){return e.id===t})),u=Ve(e);return React.createElement("div",{key:t,className:"file-list-item ".concat(c?"active":""," ").concat(s?"uploaded":""),id:t},function(e,t){var n=function(e){var t=He(e,!0);return t=t||"file","".concat(igd.pluginUrl,"/assets/images/icons/").concat(t,".png")}(e);return t.thumbnailLink?n=t.thumbnailLink:null!=e&&e.startsWith("image/")&&(n=URL.createObjectURL(t.getNative())),React.createElement("img",{width:32,height:32,src:n})}(i,e),React.createElement("div",{className:"file-info"},React.createElement("div",{className:"upload-item"},React.createElement("span",{className:"upload-item-name"},u||r),React.createElement("span",{className:"upload-item-size"},"(",plupload.formatSize(o),")")),React.createElement("div",{className:"file-info-percentage"},!!s&&React.createElement("i",{className:"dashicons dashicons-saved"}),!s&&c&&!a&&!d&&React.createElement("div",{className:"igd-spinner"}),!s&&!!c&&!!Z&&React.createElement("span",{className:"percentage"},Z,"%"),!s&&c&&!d&&!a&&React.createElement("i",{className:"dashicons dashicons-controls-pause",onClick:function(){se.current.stop(),ie([].concat(nn(oe),[e]))}}),!s&&d&&!a&&React.createElement("i",{className:"dashicons dashicons-controls-play",onClick:function(){se.current.start(),ie(oe.filter((function(e){return e.id!==t})))}}),React.createElement("i",{className:"remove-file dashicons dashicons-no-alt",onClick:function(){if(se.current.removeFile(e),X((function(e){return e.filter((function(e){return e.id!==t}))})),z.current=z.current.filter((function(e){return e.id!==t})),s){W((function(e){return e.filter((function(e){return e.id!==s.id}))}));var r={id:s.id,account_id:s.accountId,nonce:igd.nonce};b&&(r.isWooCommerceUploader=!0,r.wcProductId=E,r.wcItemId=_),wp.ajax.post("igd_upload_remove_file",on(on({shortcodeId:n},r),{},{nonce:P||igd.nonce}))}else c&&(se.current.stop(),$(0),me(e)),se.current.removeFile(e),se.current.setOption("url",""),V((function(e){return e.filter((function(e){return e.id!==t}))}))}})),a?React.createElement("span",{className:"file-info-error"},a):React.createElement("div",{className:"file-info-progress",style:{"--percentage":c?"".concat(Z||2,"%"):0}},React.createElement("span",{className:"file-info-progress-bar"})),!!L&&React.createElement("textarea",{className:"file-description",placeholder:wp.i18n.__("Add a description...","integrate-google-drive"),rows:2,disabled:c||d||a,onChange:function(e){var n=e.target.value;z.current=z.current.map((function(e){return e.id===t&&(e.description=n,e.descriptionUpdated=!1),e})),X((function(e){return e.map((function(e){return e.id===t?on(on({},e),{},{description:n,descriptionUpdated:!1}):e}))}))},autoFocus:!0,onBlur:function(){return Ae(s,e)},onKeyDown:function(t){"Enter"===t.key&&(t.preventDefault(),Ae(s,e))},value:l})))}))),!!J.length&&!g&&!b&&!F&&React.createElement("button",{type:"button",className:"igd-btn start-upload",onClick:function(){ye(J[0])}},React.createElement("i",{className:"dashicons dashicons-cloud-upload"}),Q.length?wp.i18n.__("Uploading Files...","integrate-google-drive"):wp.i18n.__("Start Upload","integrate-google-drive"))))}var vn=n(211),hn=n.n(vn),yn=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),wn="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,bn=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),_n="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(bn):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var En=["top","right","bottom","left","width","height","size","weight"],Sn="undefined"!=typeof MutationObserver,Rn=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&l()}function a(){_n(i)}function l(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);o=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){wn&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Sn?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){wn&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;En.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),An=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},xn=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||bn},On=In(0,0,0,0);function Cn(e){return parseFloat(e)||0}function kn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Cn(e["border-"+n+"-width"])}),0)}function Fn(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return On;var r=xn(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=Cn(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,l=Cn(r.width),c=Cn(r.height);if("border-box"===r.boxSizing&&(Math.round(l+i)!==t&&(l-=kn(r,"left","right")+i),Math.round(c+a)!==n&&(c-=kn(r,"top","bottom")+a)),!function(e){return e===xn(e).document.documentElement}(e)){var s=Math.round(l+i)-t,d=Math.round(c+a)-n;1!==Math.abs(s)&&(l-=s),1!==Math.abs(d)&&(c-=d)}return In(o.left,o.top,l,c)}var Nn="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof xn(e).SVGGraphicsElement}:function(e){return e instanceof xn(e).SVGElement&&"function"==typeof e.getBBox};function jn(e){return wn?Nn(e)?function(e){var t=e.getBBox();return In(0,0,t.width,t.height)}(e):Fn(e):On}function In(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Pn=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=In(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=jn(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Tn=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return An(a,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),a}(t);An(this,{target:e,contentRect:n})},Ln=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new yn,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof xn(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Pn(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof xn(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Tn(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Dn="undefined"!=typeof WeakMap?new WeakMap:new yn,Bn=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Rn.getInstance(),r=new Ln(t,n,this);Dn.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Bn.prototype[e]=function(){var t;return(t=Dn.get(this))[e].apply(t,arguments)}}));const Mn=void 0!==bn.ResizeObserver?bn.ResizeObserver:Bn;function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zn(){return zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zn.apply(this,arguments)}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Un(e,t,n[t])}))}return e}function Hn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Wn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var qn={cursor:"pointer"},Qn=function(e){var t=e.index,n=e.onClick,r=e.photo,o=e.margin,a=e.direction,l=e.top,c=e.left,s=e.key,d={margin:o,display:"block"};"column"===a&&(d.position="absolute",d.left=c,d.top=l);return i().createElement("img",zn({key:s,style:n?Kn({},d,qn):d},r,{onClick:n?function(e){n(e,{photo:r,index:t})}:null}))},Vn=hn().shape({key:hn().string,src:hn().string.isRequired,width:hn().number.isRequired,height:hn().number.isRequired,alt:hn().string,title:hn().string,srcSet:hn().oneOfType([hn().string,hn().array]),sizes:hn().oneOfType([hn().string,hn().array])});Qn.propTypes={index:hn().number.isRequired,onClick:hn().func,photo:Vn.isRequired,margin:hn().number,top:function(e){if("column"===e.direction&&"number"!=typeof e.top)return new Error("top is a required number when direction is set to `column`")},left:function(e){if("column"===e.direction&&"number"!=typeof e.left)return new Error("left is a required number when direction is set to `column`")},direction:hn().string};var Gn=function(e,t){return t||(t=0),Number(Math.round(e+"e"+t)+"e-"+t)},Jn=function(e){var t=e.width,n=e.height;return Gn(t/n,2)};function Xn(e){this.content=[],this.scoreFunction=e}Xn.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},remove:function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]==e){var r=this.content.pop();if(n==t-1)break;this.content[n]=r,this.bubbleUp(n),this.sinkDown(n);break}},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e],n=this.scoreFunction(t);e>0;){var r=Math.floor((e+1)/2)-1,o=this.content[r];if(n>=this.scoreFunction(o))break;this.content[r]=t,this.content[e]=o,e=r}},sinkDown:function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var o=2*(e+1),i=o-1,a=null;if(i<t){var l=this.content[i],c=this.scoreFunction(l);c<r&&(a=i)}if(o<t){var s=this.content[o];this.scoreFunction(s)<(null==a?r:c)&&(a=o)}if(null==a)break;this.content[e]=this.content[a],this.content[a]=n,e=a}}};var Yn=function(e,t,n){var r=function(e,t,n){var r={},o={},i={};i[t]=0;var a=new Xn((function(e){return e.weight}));for(a.push({id:t,weight:0});a.size();){var l=a.pop(),c=l.id;if(!o[c]){var s=e(c)||{};for(var d in o[c]=1,s){var u=l.weight+s[d];(void 0===i[d]||i[d]>u)&&(i[d]=u,a.push({id:d,weight:u}),r[d]=c)}}}if(void 0===i[n])throw new Error("There is no path from ".concat(t," to ").concat(n));return r}(e,t,n);return function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse()}(r,n)},Zn=function(e,t,n){return(t-e.length*(2*n))/e.reduce((function(e,t){return e+Jn(t)}),0)},$n=function(e,t,n,r,o,i){var a=e.slice(t,n),l=Zn(a,r,i);return Math.pow(Math.abs(l-o),2)},er=function(e){var t=e.containerWidth,n=e.limitNodeSearch,r=e.targetRowHeight,o=e.margin,i=e.photos,a=function(e,t,n,r,o){return function(i){var a={};a[+(i=+i)]=0;for(var l=i+1;l<n.length+1&&!(l-i>r);++l)a[l.toString()]=$n(n,i,l,t,e,o);return a}}(r,t,i,n,o),l=Yn(a,"0",i.length);l=l.map((function(e){return+e}));for(var c=1;c<l.length;++c)for(var s=i.slice(l[c-1],l[c]),d=Zn(s,t,o),u=l[c-1];u<l[c];++u)i[u].width=Gn(d*Jn(i[u]),1),i[u].height=d;return i},tr=i().memo((function(e){var t=e.photos,n=e.onClick,r=e.direction,a=e.margin,l=e.limitNodeSearch,c=e.targetRowHeight,s=e.columns,d=e.renderImage,u=Wn((0,o.useState)(0),2),f=u[0],p=u[1],m=(0,o.useRef)(null);(0,o.useLayoutEffect)((function(){var e=null,t=new Mn((function(t){var n=t[0].contentRect.width;f!==n&&(e=window.requestAnimationFrame((function(){p(Math.floor(n))})))}));return t.observe(m.current),function(){t.disconnect(),window.cancelAnimationFrame(e)}}));var g=function(e,r){var o=r.index;n(e,{index:o,photo:t[o],previous:t[o-1]||null,next:t[o+1]||null})};if(!f)return i().createElement("div",{ref:m}," ");var v,h,y=f-1;"row"===r&&("function"==typeof l&&(l=l(f)),"function"==typeof c&&(c=c(f)),void 0===l&&(l=2,f>=450&&(l=function(e){var t=e.targetRowHeight,n=e.containerWidth;return Gn(n/t/1.5)+8}({containerWidth:f,targetRowHeight:c}))),v={display:"flex",flexWrap:"wrap",flexDirection:"row"},h=er({containerWidth:y,limitNodeSearch:l,targetRowHeight:c,margin:a,photos:t})),"column"===r&&("function"==typeof s&&(s=s(f)),void 0===s&&(s=1,f>=500&&(s=2),f>=900&&(s=3),f>=1500&&(s=4)),v={position:"relative"},h=function(e){for(var t=e.photos,n=e.columns,r=e.containerWidth,o=e.margin,i=(r-2*o*n)/n,a=t.map((function(e){var t=e.height/e.width*i;return Kn({},e,{width:Gn(i,1),height:Gn(t,1)})})),l=[],c=[],s=0;s<n;s++)l[s]=Gn(s*(i+2*o),1),c[s]=0;var d=a.map((function(e){var t=c.reduce((function(e,t,n){return t<c[e]?n:e}),0);e.top=c[t],e.left=l[t],c[t]=c[t]+e.height+2*o;var n=c.reduce((function(e,t,n){return t>c[e]?n:e}),0);return e.containerHeight=c[n],e}));return d}({containerWidth:y,columns:s,margin:a,photos:t}),v.height=h[h.length-1].containerHeight);var w=d||Qn;return i().createElement("div",{className:"react-photo-gallery--gallery"},i().createElement("div",{ref:m,style:v},h.map((function(e,t){var o=e.left,i=e.top,l=e.containerHeight,c=Hn(e,["left","top","containerHeight"]);return w({left:o,top:i,key:e.key||e.src,containerHeight:l,index:t,margin:a,direction:r,onClick:n?g:null,photo:c})}))))}));tr.propTypes={photos:hn().arrayOf(Vn).isRequired,direction:hn().string,onClick:hn().func,columns:hn().oneOfType([hn().func,hn().number]),targetRowHeight:hn().oneOfType([hn().func,hn().number]),limitNodeSearch:hn().oneOfType([hn().func,hn().number]),margin:hn().number,renderImage:hn().func},tr.defaultProps={margin:2,direction:"row",targetRowHeight:300};const nr=tr;var rr=React.useContext;function or(){var e=rr(t),n=e.isUpload,r=e.permissions,o=e.setIsUpload,i=e.isShortcodeBuilder,a=e.shortcodeBuilderType,l=e.files,c=!i&&(!a||"browser"===a)&&(!r||r.upload),s=wp.i18n.__("There are no items here.","integrate-google-drive"),d=wp.i18n.__("The folder is empty.","integrate-google-drive");return i&&l.length&&(s=wp.i18n.__("No items available for selection.","integrate-google-drive"),d=wp.i18n.__("This folder doesn't contain any selectable items.","integrate-google-drive")),React.createElement("div",{className:"igd-root-placeholder empty-folder-placeholder ".concat(n?"igd-hidden":"")},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/empty-folder-placeholder.svg"),alt:"Empty Folder"}),React.createElement("span",{className:"igd-root-placeholder-title"},s),React.createElement("span",{className:"igd-root-placeholder-text"},d),c&&React.createElement("button",{type:"button",className:"igd-btn btn-primary uploader-btn",onClick:function(){return o(!0)}},React.createElement("i",{className:"dashicons dashicons-cloud-upload"}),wp.i18n.__("Upload Files","integrate-google-drive")))}function ir(e){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(e)}function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach((function(t){cr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ir(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ir(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||ur(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(e){return function(e){if(Array.isArray(e))return fr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ur(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ur(e,t){if(e){if("string"==typeof e)return fr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fr(e,t):void 0}}function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pr=React,mr=pr.useEffect,gr=pr.useState,vr=pr.useContext,hr=igd.settings.rememberLastFolder,yr=void 0===hr||hr,wr=function(e){var t=e.id,n=e.activeFiles,r=e.setActiveFiles,o=e.files;return React.createElement("div",{className:"item-selection",onClick:function(e){e.stopPropagation(),n.find((function(e){return e.id===t}))?r((function(e){return e.filter((function(e){return e.id!==t}))})):r((function(e){return[].concat(dr(e),[o.find((function(e){return e.id===t}))])}))}},React.createElement("svg",{fill:"#FFFFFFB2",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},React.createElement("radialGradient",{id:"shadow",cx:"38",cy:"95.488",r:"10.488",gradientTransform:"matrix(1 0 0 -1 -26 109)",gradientUnits:"userSpaceOnUse"},React.createElement("stop",{offset:".832",stopColor:"#010101"}),React.createElement("stop",{offset:"1",stopColor:"#010101",stopOpacity:"0"})),React.createElement("circle",{opacity:".26",fill:"url(#shadow)",cx:"12",cy:"13.512",r:"10.488"}),React.createElement("circle",{fill:"#FFF",cx:"12",cy:"12.2",r:"8.292"}),React.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),React.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})))};function br(){var e=vr(t),n=e.shortcodeId,r=e.galleryLayout,o=e.galleryColumns,i=e.galleryAspectRatio,a=e.galleryHeight,l=e.galleryMargin,c=e.galleryView,s=e.galleryFolderView,d=e.galleryOverlay,u=e.overlayDisplayType,f=e.galleryOverlayTitle,p=e.galleryOverlayDescription,m=e.galleryOverlaySize,g=e.galleryImageSize,v=e.galleryCustomSizeWidth,h=e.galleryCustomSizeHeight,y=e.activeAccount,w=e.files,b=e.listFiles,_=e.breadcrumbs,E=e.initFolders,S=e.setFiles,R=e.activeFolder,A=e.setActiveFolder,x=e.permissions,O=e.setActiveFiles,C=e.activeFiles,k=e.selectAll,F=e.isLoading,N=e.initParentFolder,j=e.notifications,I=e.nonce,P=sr(gr({}),2),T=P[0],L=P[1],D=!!_&&Object.keys(_),B=sr(gr([]),2),M=B[0],U=B[1],z=sr(gr([]),2),K=z[0],H=z[1];mr((function(){if(!w.length)return U([]),void H([]);var e=w.filter((function(e){return qe(e)||["root","shared","computers","starred","shared-drives"].includes(e.id)}));U(e);var t=w.filter((function(e){return Ye(e)||Je(e)})).map((function(e){var t=e.id,n=e.accountId,o=e.type,i=e.description,a=e.name,l=e.size,c=e.metaData,s=void 0===c?{}:c,d={id:t,accountId:n,type:o,name:a,description:i,size:l,src:et(e,g,{w:v,h})};return"grid"!==r&&(s.width&&!Je(e)||(s.width=600),s.height&&!Je(e)||(s.height=400),d.width=s.width,d.height=s.height),d}));H(t)}),[w]),mr((function(){M.length&&"title"!==s&&M.forEach((function(e){Ze(e.id,y)||W(e)}))}),[M,y]);var W=function(e){function t(e,t){var n=jQuery(e);setTimeout((function(){e.dataset.intervalId&&clearInterval(e.dataset.intervalId),e.dataset.intervalId=setInterval((function(){var e=n.find("img"),t=e.filter(".active").length?e.filter(".active"):e.first();if(t.length){var r=t.next().length?t.next():e.first();e.removeClass("active"),r.addClass("active")}}),3e3)}),1500*t)}wp.ajax.post("igd_get_files",{data:{folder:e},nonce:I||igd.nonce}).done((function(n){var r=n.files,o=n.error;if(o)Swal.fire({html:o,icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}});else{var i=r.filter((function(e){return Ye(e)||Je(e)}));i=i.slice(0,10),L((function(t){return lr(lr({},t),{},cr({},e.id,i))})),document.querySelectorAll(".igd-gallery-folder-images").forEach(t)}})).fail((function(e){return console.log(e)}))},q=nt();mr((function(){if(q)if(k){O(k?w.filter((function(e){return!(qe(e)&&!x.folderDownload)})):[]);var e=K.map((function(e){return lr(lr({},e),{},{isSelected:!0})}));H(e)}else{O([]);var t=K.map((function(e){return lr(lr({},e),{},{isSelected:!1})}));H(t)}}),[k]);var Q=function(){var e=window.innerWidth;return e<768?o.xs:e<992?o.sm:e<1200?o.md:e<1600?o.lg:e>=1920?o.xl:o.md},V=sr(gr(Q()),2),G=V[0],J=V[1];return mr((function(){var e=function(){J(Q())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),React.createElement(React.Fragment,null,React.createElement("div",{className:"igd-module-gallery gallery-view-".concat(c," gallery-layout-").concat(r),style:{"--column-width":"calc(".concat(100/G,"% - ").concat(2*l,"px)"),"--aspect-ratio":"".concat(i)}},React.createElement("div",{className:"file-list"},!!D.length&&!!R&&React.createElement("div",{className:"go-prev file-item folder-item",style:{margin:"".concat(l,"px")},onClick:function(e){if(D.length>1){var t=D[D.length-2],n={id:t,name:_[t],accountId:y.id};b(n)}else if(A(""),S(E),yr){var r=st(E,N);r&&sessionStorage.removeItem(r)}}},React.createElement("i",{className:"dashicons dashicons-arrow-left-alt"}),React.createElement("span",null,wp.i18n.__("Previous folder","integrate-google-drive"))),!!M.length&&M.map((function(e){var t=e.id,n=e.name,r=e.iconLink,o=C.find((function(e){return e.id===t})),i=null==r?void 0:r.replace("/16/","/64/");return React.createElement("div",{key:t,className:"file-item ".concat(o?"active":""," ").concat("title"===s?"folder-item":""),style:{margin:"".concat(l,"px")},onClick:function(){return b(e)}},(x.download&&x.zipDownload&&x.folderDownload||x.photoProof)&&React.createElement(wr,{id:t,activeFiles:C,setActiveFiles:O,files:w}),"thumbnail"===s&&React.createElement("div",{className:"igd-gallery-folder-images"},T[t]&&T[t].length>0?T[t].map((function(e,t){var n=e.id,r=e.name,o=et(e,g,{w:v,h});return React.createElement("img",{key:n,className:"".concat(0===t?"active":""),onError:function(e){e.target.src=i},src:o,alt:r,referrerPolicy:"no-referrer"})})):React.createElement("img",{className:"active",src:i,alt:n,referrerPolicy:"no-referrer"})),React.createElement("div",{className:"file-item-footer"},React.createElement("div",{className:"file-icon-wrap"},Ze(t,y)?React.createElement("i",{className:"file-icon dashicons ".concat(i," footer-icon")}):React.createElement("img",{className:"file-icon",src:i,alt:n,referrerPolicy:"no-referrer"})),React.createElement("span",null,n)))}))),!!K.length&&React.createElement(nr,{photos:K,margin:parseInt(l),targetRowHeight:"justified"===r&&a,columns:G,direction:"masonry"===r?"column":"row",renderImage:function(e){var t=e.photo,r=e.margin,o=e.direction,i=e.top,a=e.left,l=t.name,c=t.description,s=t.src,g=t.size,v=t.id,h=t.accountId,y=t.width,b=t.height,_={display:"block",margin:"".concat(r,"px"),width:"".concat(y,"px"),height:"".concat(b,"px")};"column"===o&&(_.position="absolute",_.left="".concat(a,"px"),_.top="".concat(i,"px"));var E=C.find((function(e){return e.id===v}));return React.createElement("div",{className:"igd-gallery-item ".concat(E?"active":""),style:_,onClick:function(e){return function(e,t){rt(e,t,w.filter((function(e){return Ye(e)||Je(e)})),x,j,!0,n,I)}(e,v)}},(x.download&&x.zipDownload||x.photoProof)&&React.createElement(wr,{id:v,activeFiles:C,setActiveFiles:O,files:w}),React.createElement("img",{src:s,alt:l,referrerPolicy:"no-referrer",onError:function(e){var t=e.currentTarget,n=t.src,r=tt({id:v,accountId:h},"medium");n!==r&&(t.src=r)}}),Je(t)&&React.createElement("i",{className:"dashicons dashicons-controls-play file-playback-icon"}),!!d&&React.createElement("div",{className:"igd-gallery-item-overlay type-".concat(u)},!!f&&React.createElement("div",{className:"overlay-title"},l.replace(/\.[^/.]+$/,"")),!!p&&!!c&&React.createElement("p",{className:"overlay-description"},c),!!m&&React.createElement("span",{className:"overlay-size"},We(g))))}})),q&&!F&&!M.length&&!K.length&&React.createElement(or,null))}function _r(){return React.createElement("div",{className:"igd-root-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/computers-placeholder.svg"),alt:"Computers"}),React.createElement("span",{className:"igd-root-placeholder-title"},wp.i18n.__("No Computers Syncing","integrate-google-drive")),React.createElement("span",{className:"igd-root-placeholder-text"},wp.i18n.__("The files synced with computers will display here.","integrate-google-drive")))}function Er(){return React.createElement("div",{className:"igd-root-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/shared-placeholder.svg"),alt:"Shared Files"}),React.createElement("span",{className:"igd-root-placeholder-title"},wp.i18n.__("Shared With Me","integrate-google-drive")),React.createElement("span",{className:"igd-root-placeholder-text"},wp.i18n.__("Files and folders others have shared with you.","integrate-google-drive")))}function Sr(){return React.createElement("div",{className:"igd-root-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/starred-placeholder.svg"),alt:"Starred Files"}),React.createElement("span",{className:"igd-root-placeholder-title"},wp.i18n.__("Nothing is starred","integrate-google-drive")),React.createElement("span",{className:"igd-root-placeholder-text"},wp.i18n.__("Adds star to files and folders that you want to find easily later.","integrate-google-drive")))}function Rr(){return React.createElement("div",{className:"igd-root-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/shared-drives-placeholder.svg"),alt:"Shared Drives"}),React.createElement("span",{className:"igd-root-placeholder-title"},wp.i18n.__("No Shared Drives","integrate-google-drive")),React.createElement("span",{className:"igd-root-placeholder-text"},wp.i18n.__("The Drives others have shared with you.","integrate-google-drive")))}function Ar(e){var t=e.activeFolder.id;return React.createElement(React.Fragment,null,"computers"===t&&React.createElement(_r,null),"shared-drives"===t&&React.createElement(Rr,null),"shared"===t&&React.createElement(Er,null),"starred"===t&&React.createElement(Sr,null))}function xr(e){var t=e.isSearchResults,n=e.searchBoxText;return React.createElement("div",{className:"igd-root-placeholder search-placeholder ".concat(t?"empty-placeholder":"")},t&&React.createElement("svg",{width:100,height:100,className:"igd-placeholder-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 259 223",fill:"none"},React.createElement("g",{clipPath:"url(#clip0_1110_10155)"},React.createElement("path",{d:"M127.836 80.9443C127.836 103.828 127.836 126.64 127.836 149.523C127.836 157.696 124.072 161.391 115.905 161.391C81.2469 161.391 46.5181 161.391 11.8603 161.391C3.97712 161.391 0.07102 157.553 0.07102 149.665C0.07102 116.264 0.14204 82.8631 0 49.462C0 46.4062 1.0653 46.0509 3.62202 46.1219C12.4995 46.2641 21.377 46.193 30.2545 46.193C40.4104 46.193 46.092 40.4367 46.163 30.4164C46.163 21.3199 46.234 12.1524 46.092 3.05595C46.092 0.923972 46.3761 0.000114277 48.8618 0.0711803C71.5882 0.213312 94.3146 0.142246 117.041 0.142246C123.788 0.142246 127.836 4.19301 127.836 11.0153C127.907 34.2539 127.836 57.6346 127.836 80.9443ZM65.6935 103.046C76.9147 103.046 88.2069 103.046 99.428 103.046C103.689 103.046 105.891 101.34 105.891 98.2133C105.891 95.2285 103.689 93.4519 99.6411 93.4519C77.2698 93.4519 54.8985 93.4519 32.5272 93.4519C28.479 93.4519 26.2774 95.1575 26.2064 98.1423C26.1354 101.198 28.479 103.046 32.5982 103.046C43.6773 103.046 54.6854 103.046 65.6935 103.046ZM66.1196 67.6549C55.0405 67.6549 43.8904 67.6549 32.8112 67.6549C28.6211 67.6549 26.2774 69.3605 26.2774 72.4164C26.2774 75.4722 28.55 77.3199 32.7402 77.3199C54.9695 77.3199 77.1277 77.3199 99.357 77.3199C103.618 77.3199 105.891 75.6143 105.891 72.5585C105.891 69.4316 103.618 67.726 99.428 67.726C88.2779 67.6549 77.1988 67.6549 66.1196 67.6549ZM48.6487 117.756C43.1091 117.756 37.5696 117.685 32.03 117.756C28.266 117.756 26.2064 119.533 26.2774 122.518C26.2774 125.361 28.55 127.208 32.101 127.208C43.0381 127.208 54.0462 127.208 64.9833 127.208C68.5343 127.208 70.807 125.218 70.807 122.447C70.807 119.604 68.5343 117.828 64.9123 117.756C59.5148 117.756 54.0462 117.756 48.6487 117.756Z",fill:"#C1E9C9"}),React.createElement("path",{d:"M148.999 101.482C148.999 124.081 148.999 146.751 148.999 169.35C148.999 178.376 145.377 182 136.287 182C101.984 182 67.6104 182 33.3077 182C24.6433 182 20.4531 177.452 21.1633 168.924C21.3053 167.574 21.5894 166.934 23.0098 167.076C23.72 167.147 24.4302 167.076 25.1404 167.076C55.3239 167.076 85.5074 167.076 115.691 167.076C127.409 167.076 133.588 160.894 133.588 149.097C133.588 107.523 133.659 65.9494 133.517 24.3758C133.517 21.2489 134.298 20.4672 137.352 20.5383C145.164 20.8225 148.999 24.518 148.999 32.4774C148.999 55.5027 148.999 78.5281 148.999 101.482Z",fill:"#C1E9C9"}),React.createElement("path",{d:"M40.4817 18.6906C40.4817 22.9545 40.5527 27.2185 40.4817 31.4825C40.4106 36.9545 37.0727 40.4368 31.6752 40.5078C22.9397 40.5789 14.1332 40.5078 5.39776 40.5078C3.19614 40.5078 1.42064 39.8682 0.568403 37.6652C-0.212817 35.6043 0.710443 34.0408 2.13084 32.5484C12.2157 22.4571 22.3005 12.3657 32.4564 2.27433C33.9478 0.781945 35.5813 -0.355111 37.7829 0.639812C39.9135 1.56367 40.4817 3.34032 40.4817 5.54337C40.4106 9.87839 40.4817 14.2845 40.4817 18.6906Z",fill:"#C1E9C9"})),React.createElement("g",{clipPath:"url(#clip1_1110_10155)"},React.createElement("path",{d:"M148.9 79.6302C120.227 79.6302 91.6528 79.6302 62.9789 79.6302C51.4894 79.6302 46.8936 84.6083 48.4922 96.058C53.3877 132.199 58.4831 168.241 63.5784 204.382C64.5775 211.252 69.1733 214.935 76.9662 214.935C99.4456 215.035 121.925 214.935 144.405 214.935C169.382 214.935 194.359 214.935 219.336 214.935C221.035 214.935 222.633 214.935 224.332 215.234C226.33 215.632 227.529 217.026 227.529 219.117C227.429 221.208 226.23 222.502 224.232 222.801C222.733 223 221.234 222.9 219.736 222.9C172.779 222.9 125.822 222.9 78.8644 222.9C64.2778 222.9 57.484 217.126 55.4858 202.789C50.1906 166.747 45.1952 130.606 40.1997 94.5646C38.801 84.3096 44.4958 75.5482 54.5866 72.4617C56.2851 71.9639 57.2841 71.6652 57.7837 69.5744C59.682 62.3064 63.6783 59.6182 71.7709 59.5186C95.2495 59.5186 118.728 59.4191 142.207 59.6182C145.603 59.6182 147.801 58.8217 149.2 55.6357C150.199 53.2462 151.698 50.9563 153.097 48.7659C156.094 43.8873 160.49 41.0996 166.285 41.0996C187.465 41 208.546 40.9005 229.727 41.0996C236.62 41.1991 241.116 46.0777 241.416 52.8479C241.516 55.1379 241.516 57.5274 241.416 59.8173C241.216 66.3884 240.417 72.163 249.409 75.1499C256.902 77.639 259.799 85.7035 258.8 93.7681C255.203 121.347 251.207 148.926 247.411 176.504C247.011 179.292 245.912 181.582 242.915 181.283C239.418 180.985 239.018 178.197 239.418 175.31C241.916 157.588 244.413 139.865 246.811 122.143C248.21 112.486 249.609 102.828 250.807 93.0711C251.607 86.4005 247.411 80.9245 240.817 79.9289C238.818 79.6302 236.82 79.6302 234.822 79.6302C206.248 79.6302 177.574 79.6302 148.9 79.6302Z",fill:"#2FB44B"}),React.createElement("path",{d:"M225.431 149.025C225.331 153.904 223.632 161.072 219.536 167.444C218.037 169.834 218.237 171.228 220.235 173.219C230.126 182.777 239.818 192.634 249.509 202.391C253.205 206.074 253.705 209.659 251.007 212.347C248.31 215.035 244.813 214.537 241.116 210.853C231.525 201.395 222.034 191.937 212.542 182.379C210.444 180.188 209.046 179.491 206.048 181.383C190.962 191.14 171.48 190.144 157.593 179.292C143.605 168.34 138.11 150.22 143.506 133.394C148.901 116.667 164.486 105.118 182.57 104.521C205.549 103.724 225.431 123.039 225.431 149.025ZM183.569 176.106C200.254 176.007 213.542 162.566 213.342 145.939C213.242 129.71 199.454 116.269 183.269 116.468C166.684 116.568 153.297 130.208 153.496 146.735C153.596 163.063 167.084 176.206 183.569 176.106Z",fill:"#2FB44B"}),React.createElement("path",{d:"M107.738 171.427C112.933 171.427 118.029 171.228 123.224 171.427C128.519 171.626 131.316 174.613 131.516 179.89C131.616 182.18 131.616 184.569 131.516 186.859C131.316 191.937 128.519 195.023 123.524 195.222C112.933 195.421 102.243 195.421 91.6526 195.222C86.6572 195.123 83.8598 191.937 83.56 186.959C83.4601 184.967 83.56 182.976 83.56 180.985C83.6599 174.215 86.3575 171.526 93.3511 171.427C98.0468 171.327 102.842 171.327 107.738 171.427Z",fill:"#2FB44B"}),React.createElement("circle",{cx:"183",cy:"146",r:"30",fill:"white"}),React.createElement("rect",{width:"26.9682",height:"2.81029",transform:"matrix(0.708463 0.705748 0.708463 -0.705748 172.83 137.269)",fill:"#2FB44B"}),React.createElement("rect",{width:"27.6664",height:"2.81029",transform:"matrix(-0.708463 0.705748 0.708463 0.705748 191.885 135.286)",fill:"#2FB44B"})),React.createElement("defs",null,React.createElement("clipPath",{id:"clip0_1110_10155"},React.createElement("rect",{width:"149",height:"182",fill:"white"})),React.createElement("clipPath",{id:"clip1_1110_10155"},React.createElement("rect",{width:"219",height:"182",fill:"white",transform:"translate(40 41)"})))),t?React.createElement("h3",{className:"igd-root-placeholder-title"},wp.i18n.__("No results found!","integrate-google-drive")):React.createElement("h3",{className:"igd-root-placeholder-title"},n),!t&&React.createElement(Rt,null))}var Or=React.useContext;function Cr(){var e=Or(t),n=e.files,r=e.searchKeywordRef,o=e.isSearch,i=e.activeFolder,a=n.length?n.length:wp.i18n.__("No","integrate-google-drive"),l=wp.i18n.sprintf(wp.i18n.__('Search results for "%s": %s items found.',"integrate-google-drive"),"<strong>".concat(r.current,"</strong>"),a);return React.createElement("div",{className:"search-result-info"},(!o||!i)&&React.createElement("span",{dangerouslySetInnerHTML:{__html:l}}),React.createElement("button",{onClick:function(e){var t=e.target.closest(".igd-file-browser").querySelector(".search-dismiss");t&&t.click()},className:"clear-button igd-btn btn-warning"},wp.i18n.__("Clear","integrate-google-drive")))}function kr(e){return function(e){if(Array.isArray(e))return Fr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Fr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nr=React.useMemo,jr="...",Ir=function(e,t){var n=t-e+1;return Array.from({length:n},(function(t,n){return n+e}))};const Pr=function(e){var t=e.onPageChange,n=e.pageCount,r=e.siblingCount,o=void 0===r?1:r,i=e.currentPage,a=void 0===i?1:i,l=e.className,c=function(e){var t=e.pageCount,n=e.siblingCount,r=void 0===n?1:n,o=e.currentPage;return Nr((function(){if(r+5>=t)return Ir(1,t);var e=Math.max(o-r,1),n=Math.min(o+r,t),i=e>2,a=n<t-2,l=1,c=t;if(!i&&a){var s=Ir(1,2+2*r);return[].concat(kr(s),[jr,t])}if(i&&!a){var d=Ir(t-(2+2*r)+1,t);return[l,jr].concat(kr(d))}if(i&&a){var u=Ir(e,n);return[l,jr].concat(kr(u),[jr,c])}}),[t,r,o])}({pageCount:n,siblingCount:o,currentPage:a});if(0===a||(null==c?void 0:c.length)<2)return null;var s=c[(null==c?void 0:c.length)-1];return React.createElement("ul",{className:"pagination-container ".concat(l||"")},React.createElement("li",{className:"pagination-item ".concat(1===a?"disabled":""),onClick:function(){return 1!==a&&void t(a-1)}},React.createElement("svg",{height:"15px",width:"15px",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 490.787 490.787"},React.createElement("pat",{d:"M362.671,490.787c-2.831,0.005-5.548-1.115-7.552-3.115L120.452,253.006c-4.164-4.165-4.164-10.917,0-15.083L355.119,3.256c4.093-4.237,10.845-4.354,15.083-0.262c4.237,4.093,4.354,10.845,0.262,15.083c-0.086,0.089-0.173,0.176-0.262,0.262L143.087,245.454l227.136,227.115c4.171,4.16,4.179,10.914,0.019,15.085C368.236,489.664,365.511,490.792,362.671,490.787z"}),React.createElement("path",{d:"M362.671,490.787c-2.831,0.005-5.548-1.115-7.552-3.115L120.452,253.006c-4.164-4.165-4.164-10.917,0-15.083L355.119,3.256c4.093-4.237,10.845-4.354,15.083-0.262c4.237,4.093,4.354,10.845,0.262,15.083c-0.086,0.089-0.173,0.176-0.262,0.262L143.087,245.454l227.136,227.115c4.171,4.16,4.179,10.914,0.019,15.085C368.236,489.664,365.511,490.792,362.671,490.787z"}))),c.map((function(e){return e===jr?React.createElement("li",{key:e,className:"pagination-item dots"},"…"):React.createElement("li",{key:e,className:"pagination-item ".concat(e===a?"selected":""),onClick:function(){return t(e)}},e)})),React.createElement("li",{className:"pagination-item ".concat(a===s?"disabled":""),onClick:function(){return a!==s&&void t(a+1)}},React.createElement("svg",{height:"15px",width:"15px",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 490.8 490.8"},React.createElement("path",{d:"M135.685,3.128c-4.237-4.093-10.99-3.975-15.083,0.262c-3.992,4.134-3.992,10.687,0,14.82l227.115,227.136L120.581,472.461c-4.237,4.093-4.354,10.845-0.262,15.083c4.093,4.237,10.845,4.354,15.083,0.262c0.089-0.086,0.176-0.173,0.262-0.262l234.667-234.667c4.164-4.165,4.164-10.917,0-15.083L135.685,3.128z"}),React.createElement("path",{d:"M128.133,490.68c-5.891,0.011-10.675-4.757-10.686-10.648c-0.005-2.84,1.123-5.565,3.134-7.571l227.136-227.115L120.581,18.232c-4.171-4.171-4.171-10.933,0-15.104c4.171-4.171,10.933-4.171,15.104,0l234.667,234.667c4.164,4.165,4.164,10.917,0,15.083L135.685,487.544C133.685,489.551,130.967,490.68,128.133,490.68z"}))))};function Tr(e){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(e)}function Lr(e){return function(e){if(Array.isArray(e))return Dr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach((function(t){Ur(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ur(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Tr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zr=React,Kr=zr.useEffect,Hr=zr.useRef,Wr=zr.useContext;function qr(){var e=document.querySelector(".igd-tutor-attachment-modal"),n=igd.settings,r=n.preloader,o=void 0===r?"default":r,i=n.rememberLastFolder,a=void 0===i||i,l=Wr(t),c=l.shortcodeId,s=l.nonce,d=l.isLoading,u=l.activeAccount,f=l.initFolders,p=l.initParentFolder,m=l.files,g=void 0===m?[]:m,v=l.setFiles,h=l.activeFiles,y=l.setActiveFiles,w=l.breadcrumbs,b=l.activeFolder,_=l.setActiveFolder,E=l.isShortcodeBuilder,S=l.selectedFolders,R=l.setSelectedFolders,A=l.isList,x=l.showLastModified,O=l.showFileSizeField,C=l.shortcodeBuilderType,k=l.isUpload,F=l.permissions,N=l.isSearchResults,j=l.isMobile,I=l.setIsOptions,P=l.listFiles,T=l.show,L=l.hideAll,D=l.isSelectFiles,B=l.selectionType,M=l.setActiveFile,U=l.isLMS,z=l.isWooCommerce,K=l.getFiles,H=l.notifications,W=l.lazyLoad,q=l.lazyLoadNumber,Q=l.lazyLoadType,V=l.searchBoxText,G="browser"===C,J="uploader"===C,X="gallery"===C,Y="embed"===C,Z="search"===C,$="media"===C,ee="view"===C,te="download"===C,ne="slider"===C,re=J&&S.length;S&&S.length&&D&&["single","parent","template"].includes(B)&&(re=!0);var oe=[!!G,!!$,!!ne,!!X,!!Y,!!ee,!!te,!!U,!!z,!!D&&!B].includes(!0),ie=!(!b||Ze(b.id,u)&&"root"!==b.id),ae=Hr(),le=function(e,t){var n=ze(React.useState(t?"igd-item-col-1":"igd-item-col-4"),2),r=n[0],o=n[1];function i(e){if(t)o("igd-item-col-1");else{var n=e[0].contentRect.width,r={1:320,2:480,3:768,4:992,5:1200,6:1520},i="";if(n>1520)i="igd-item-col-6";else for(var a in r)if(n<r[a]){i="igd-item-col-".concat(a);break}o(i)}}return React.useEffect((function(){if(e.current){var t=new ResizeObserver(i);return t.observe(e.current),function(){t.disconnect()}}}),[e,t]),r}(ae,A);!W||"scroll"!==Q||!E&&Z||function(e,t,n,r,o,i,a){React.useEffect((function(){var a=e.current;if(a&&!n&&!o&&r&&r.pageNumber&&!(r.pageNumber<1)){var l=document.body.classList.contains("block-editor-page"),c=document.body.classList.contains("elementor-editor-active"),s=document.body.classList.contains("et-fb");if(!(l||c||s)||i){var d=function(e){for(var t=e.parentElement,n=null;t;)"div"===t.nodeName.toLowerCase()&&(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)&&(n=t),t=t.parentElement;return n}(a),u=d?d.scrollTop:window.pageYOffset,f=function(){var e=d?d.scrollTop:window.pageYOffset,n=e>u;if(u=e,n)if(d)d.scrollHeight-e<=d.clientHeight&&t(r,"lazy");else{var o=a.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight;o.bottom<=i+5&&t(r,"lazy")}},p=d||window;return p.addEventListener("scroll",f),function(){p.removeEventListener("scroll",f)}}}}),[e,t,n,r])}(ae,K,d,b,N,E);var ce=w?Object.keys(w):[],se=!1;W&&"pagination"!==Q&&(null==b?void 0:b.pageNumber)>0&&g.length<((null==b?void 0:b.pageNumber)-1)*q&&_(Mr(Mr({},b),{},{pageNumber:0}));var de=Hr(!1);return Kr((function(){if(!("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&g.length&&"undefined"!=typeof DragSelect&&ae.current){var e=new DragSelect({selectables:ae.current.querySelectorAll(".file-item"),area:ae.current.querySelector(".file-list"),draggability:!1});return e.subscribe("DS:update",(function(){de.current=!0})),e.subscribe("DS:end",(function(e){var t=e.items;setTimeout((function(){if(t.length&&de.current){var e=t.map((function(e){return g.find((function(t){return t.id===e.getAttribute("data-id")}))}));E?R(e):y(e)}de.current=!1}),50)})),function(){e.unsubscribe("DS:update"),e.unsubscribe("DS:end"),e.stop()}}}),[g]),React.createElement("div",{ref:ae,className:"igd-body ".concat(d?"lazy"===d&&"pagination"!==Q?"lazy-loading":"loading":"")},(N||Z&&!E&&b)&&!d&&React.createElement(Cr,null),(!X||E)&&React.createElement("div",{className:"file-list ".concat(A?"list-view":""," ").concat(le," ").concat(g.length||Ze(b,u)?"":"empty"),onClick:function(){if(!de.current){var e=document.querySelector(".igd-context-menu")?300:0;setTimeout((function(){M(null),y([])}),e)}},onContextMenu:function(e){e.preventDefault(),I(!1),y([]),Ze(b.id,u)&&"root"!==b.id||(M(b),T(e))}},!X&&A&&!!g.length&&(x||O)&&React.createElement("div",{className:"list-view-header"},React.createElement("span",{className:"col-name"},wp.i18n.__("Name","integrate-google-drive")),O&&React.createElement("span",{className:"col-size"},wp.i18n.__("Size","integrate-google-drive")),x&&React.createElement("span",{className:"col-modified"},wp.i18n.__("Modified","integrate-google-drive"))),(!b||!b&&!!f)&&(!Z||E)&&!N&&React.createElement(Xt,null),(!Z||E)&&!!b&&!!ce.length&&React.createElement("div",{className:"go-prev file-item folder-item",onClick:function(e){if(M(null),f){if(ce.length>1){var t=ce[ce.length-2],n=[ce[ce.length-3]],r={id:t,name:w[t],accountId:u.id,parents:n};P(r)}else if(_(null),v(f),a){var o=st(f,p);o&&sessionStorage.removeItem(o)}}else if(ce.length>1){var i=ce[ce.length-2],l=[ce[ce.length-3]],c={id:i,name:w[i],accountId:u.id,parents:l};P(c)}else v([]),_(null)}},React.createElement("i",{className:"dashicons dashicons-arrow-left-alt2"}),React.createElement("span",null,wp.i18n.__("Previous folder","integrate-google-drive"))),!!g.length&&g.map((function(t,n){var r=t.id,o=t.name,i=t.type,a=t.iconLink,l=void 0===a?"":a,d=t.thumbnailLink,u=t.size,f=t.updated;if(r){var p=qe(t),m=h.find((function(e){return(null==e?void 0:e.id)===r})),v=S&&!!S.find((function(e){return e.id===r})),w=E&&(oe||p)&&(!U||!p)&&(!e||!p);re&&(w=(S[0].id||S[0])===r);var b=null==l?void 0:l.replace("/16/","/64/"),_=et(t,"small"),C=!se&&p&&!g.slice(n+1).some(qe);return C&&(se=!0),React.createElement(React.Fragment,null,C&&!A&&React.createElement("div",{className:"folder-file-divider"}),React.createElement("div",{key:r,"data-id":r,className:"file-item ".concat(p?"folder-item":"","  ").concat(C?"folder-item-last":""," ").concat(m||v?"active":""),onClick:function(e){e.stopPropagation(),L(),j?p?P(t):E?R([].concat(Lr(S),[t])):(M(t),rt(e,r,g,F,H,!1,c,s)):(e.detail&&1!=e.detail||E?p?P(t):E&&w&&R(v?Lr(S.filter((function(e){return e.id!=t.id}))):[].concat(Lr(S),[t])):(e.ctrlKey||e.shiftKey||e.metaKey)&&!J?y((function(e){return e.find((function(e){return e.id===t.id}))?e.filter((function(e){return e.id!==t.id})):[].concat(Lr(e),[t])})):p?P(t):(M(t),rt(e,r,g,F,H,!1,c,s)),console.log(t))},onDoubleClick:function(e){e.stopPropagation(),E||(p?P(t):(M(t),rt(e,r,g,F,H,!1,c,s)))},onContextMenu:function(e){e.preventDefault(),e.stopPropagation(),L(),I(!1),t["shared-drives"]||E||(y([t]),M(t),T(e))},title:o},!p&&!A&&React.createElement("img",{src:_,alt:o,loading:"lazy",className:"igd-file-thumbnail ".concat(d?"has-thumbnail":""),referrerPolicy:"no-referrer",onError:function(e){var n=e.currentTarget,r=n.src,o=tt(t,"medium");r!==o&&(n.src=o)}}),!A&&Ge(t)&&React.createElement("i",{className:"dashicons dashicons-controls-play file-playback-icon"}),React.createElement("div",{className:"file-item-footer"},React.createElement("div",{className:"file-icon-wrap"},React.createElement("img",{className:"file-icon",referrerPolicy:"no-referrer",src:b,alt:"icon"}),"application/vnd.google-apps.shortcut"===i&&React.createElement("svg",{className:"shortcut-icon",viewBox:"0 0 16 16",fill:"none",focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"16px"},React.createElement("circle",{cx:"8",cy:"8",r:"8",fill:"white"}),React.createElement("path",{d:"M10,3H6V4H8.15A5,5,0,0,0,10,13V12A4,4,0,0,1,9,4.65V7h1Z",fill:"#5F6368"})),!E&&(!F||F.download&&F.zipDownload&&(!p||F.folderDownload))&&React.createElement("span",{className:"file-item-checkbox ".concat(m?"checked":""),onClick:function(e){e.stopPropagation(),M(null),y(m?function(e){return e.filter((function(e){return e.id!==t.id}))}:[].concat(Lr(h),[t]))}},React.createElement("span",{className:"box"}))),React.createElement("span",{className:"file-item-name"},o),O&&(A?React.createElement("span",{className:"file-item-size"},u?We(u):"—"):(!F||F.download)&&!p&&!!u&&React.createElement("span",{className:"file-item-size"},We(u))),!E&&(!F||F.download&&(!p||F.folderDownload)||F.details||F.delete||F.rename||F.move||F.copy||F.edit||F.preview)&&React.createElement("span",{className:"file-item-options",onClick:function(e){e.stopPropagation(),I(!1),M(t),T(e)}},React.createElement("i",{className:"dashicons dashicons-ellipsis"}))),A&&x&&React.createElement("span",{className:"file-item-date"},pt(f,!0)),w&&React.createElement(Gt,{file:t,isSelected:v,selectedFolders:S,setSelectedFolders:R,isList:A})))}}))),!E&&X&&React.createElement(br,null),!!g.length&&W&&"button"===Q&&(null==b?void 0:b.pageNumber)>0&&React.createElement("button",{className:"igd-btn btn-primary igd-load-more ".concat(g.length?"":"igd-hidden"),onClick:function(e){e.stopPropagation(),K(b,"lazy")}},d&&React.createElement("span",{className:"igd-spinner"}),d?wp.i18n.__("Loading...","integrate-google-drive"):wp.i18n.__("Load more","integrate-google-drive")),!N&&!!g.length&&W&&"pagination"===Q&&(null==b?void 0:b.count)>q&&React.createElement(Pr,{className:"igd-pagination",pageCount:Math.ceil((null==b?void 0:b.count)/q),currentPage:(null==b?void 0:b.pageNumber)||1,onPageChange:function(e){_(Mr(Mr({},b),{},{pageNumber:e})),K(Mr(Mr({},b),{},{pageNumber:e}),"lazy");var t=ae.current.closest(".igd-file-browser");t&&t.scrollIntoView({behavior:"smooth"})}}),!d&&(f||b&&(!Ze(b.id,u)||"root"===b.id))&&!g.length&&(E||!X)&&(E||!Z)&&!N&&React.createElement(or,null),!Z&&!N&&!E&&!X&&ie&&k&&React.createElement(gn,null),!N&&!d&&!g.length&&b&&Ze(b.id,u)&&React.createElement(Ar,{activeFolder:b}),!d&&(!E&&Z||N)&&!g.length&&React.createElement(xr,{isSearchResults:N,searchBoxText:V}),d&&React.createElement("div",{className:"loading-wrap"},igd.settings.customPreloader?React.createElement("img",{src:igd.settings.customPreloader,alt:"Loading..."}):React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/preloader/").concat(o,".svg"),alt:"Loading..."})))}function Qr(e){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(e)}function Vr(e){return function(e){if(Array.isArray(e))return $r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(n),!0).forEach((function(t){Xr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Qr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||Zr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zr(e,t){if(e){if("string"==typeof e)return $r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$r(e,t):void 0}}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var eo=React,to=eo.useContext,no=eo.useState,ro=eo.useEffect;function oo(){var e,n,r,o,i=to(t),a=i.shortcodeId,l=i.files,c=i.activeAccount,s=i.activeFile,d=i.setShowDetails,u=i.activeFolder,f=i.setFiles,p=i.listFiles,m=i.setAllFiles,g=i.initParentFolder,v=i.initFolders,h=i.nonce,y=Yr(no(null),2),w=y[0],b=y[1],_=w||{},E=_.id,S=_.accountId,R=_.name,A=_.iconLink,x=_.type,O=_.size,C=_.owner,k=_.updated,F=_.created,N=_.description,j=_.parents,I=Yr(no(null),2),P=I[0],T=I[1],L=Yr(no(!1),2),D=L[0],B=L[1],M=Yr(no(""),2),U=M[0],z=M[1];ro((function(){b(null),s?b(s):u&&!Ze(u.id,c)&&b(u)}),[s,u]),ro((function(){if(null!=w&&w.parents){var e=w.parents[0];(null==u?void 0:u.id)!==e?(T("loading"),wp.ajax.post("igd_get_file",{shortcodeId:a,id:e,accountId:S,nonce:h||igd.nonce}).done((function(e){T(e)})).fail((function(e){console.log(e),T(null)}))):T(u)}else T(null)}),[w,u]);var K=null==A?void 0:A.replace("/16/","/64/"),H=[{key:"type",label:wp.i18n.__("Type","integrate-google-drive"),value:He(x)},{key:"size",label:wp.i18n.__("Size","integrate-google-drive"),value:O&&We(O)},{key:"owner",label:wp.i18n.__("Owner","integrate-google-drive"),value:C},{key:"updated",label:wp.i18n.__("Updated","integrate-google-drive"),value:k&&pt(k)},{key:"created",label:wp.i18n.__("Created","integrate-google-drive"),value:F&&pt(F)}];return ro((function(){return function(){var e=jQuery(".igd-details-wrap"),t=e.outerWidth(),n=e.parents(".igd-file-browser").find(".igd-body"),r=e.parents(".igd-file-browser").find(".igd-sidebar-wrap"),o="calc(100% - ".concat(t,"px)");if(r.length>0){var i=r.outerWidth();o="calc(100% - ".concat(t+i,"px)")}return n.css("width",o),function(){n.css("width","100%")}}()}),[]),React.createElement("div",{className:"igd-details-wrap"},React.createElement("div",{className:"igd-details"},React.createElement("i",{className:"close-details dashicons dashicons-no",onClick:function(){d(!1),localStorage.removeItem("igd_show_details")}}),w&&!Ze(w.id,c)?React.createElement(React.Fragment,null,React.createElement("div",{className:"details-item name"},React.createElement("img",{src:K}),React.createElement("span",null,R)),H.map((function(e){var t=e.key,n=e.label,r=e.value;if(r)return React.createElement("div",{key:t,className:"details-item field-".concat(t)},React.createElement("span",{className:"details-item-label"},n),React.createElement("span",{className:"details-item-value"},r))})),(null==w||null===(e=w.imageMediaMetadata)||void 0===e?void 0:e.width)&&(null==w||null===(n=w.imageMediaMetadata)||void 0===n?void 0:n.height)&&React.createElement("div",{className:"details-item field-dimension"},React.createElement("span",{className:"details-item-label"},wp.i18n.__("Dimension","integrate-google-drive")),React.createElement("span",{className:"details-item-value"},null==w||null===(r=w.imageMediaMetadata)||void 0===r?void 0:r.width," x ",null==w||null===(o=w.imageMediaMetadata)||void 0===o?void 0:o.height)),!(null==j||!j.length)&&u&&u.id!==(null==g?void 0:g.id)&&React.createElement("div",{className:"details-item field-location"},React.createElement("span",{className:"details-item-label"},wp.i18n.__("Location","integrate-google-drive")),P&&React.createElement("div",{className:"details-item-value"},"loading"===P?React.createElement("span",{className:"igd-spinner"}):React.createElement("div",{className:"location-wrap",onClick:function(){p(P)}},React.createElement("img",{src:P.iconLink}),React.createElement("span",null,P.name)))),((null==w?void 0:w.description)||!v)&&React.createElement("div",{className:"details-item field-description"},React.createElement("span",{className:"details-item-label"},wp.i18n.__("Description","integrate-google-drive")),!v&&React.createElement("i",{className:"dashicons ".concat(D?"dashicons-saved":"dashicons-edit"),onClick:function(){D?(!function(){var e=l.map((function(e){return e.id===E?Jr(Jr({},e),{},{description:U}):e}));f(Vr(e)),b(Jr(Jr({},w),{},{description:U})),m((function(t){return Jr(Jr({},t),{},Xr({},null==u?void 0:u.id,Vr(e)))})),wp.ajax.post("igd_update_description",{shortcodeId:a,id:E,accountId:S,description:U,nonce:h||igd.nonce}).done((function(){Swal.fire({title:wp.i18n.__("Updated!","integrate-google-drive"),text:wp.i18n.__("Description has been updated.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"},position:"top-end"})}))}(),B(!1)):(B(!0),z(N))}}),!D&&(N?React.createElement("span",{className:"details-item-value"},N):React.createElement("span",{className:"description-placeholder"},wp.i18n.__("Add description","integrate-google-drive"))),!v&&D&&React.createElement("textarea",{onChange:function(e){return z(e.target.value)},value:U,rows:4}))):React.createElement("div",{className:"details-placeholder"},React.createElement("i",{className:"dashicons dashicons-pressthis"}),React.createElement("span",null,wp.i18n.__("Select a file or folder to view its details.","integrate-google-drive")))))}function io(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=io(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const ao=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=io(e))&&(r&&(r+=" "),r+=t);return r};var lo=n(606);function co(){return co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},co.apply(this,arguments)}function so(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var uo=(0,o.createContext)({});function fo(){return(0,o.useContext)(uo)}var po=function(e){return i().createElement(uo.Provider,{value:e.refTracker},e.children)};function mo(){var e=new Map;return{on:function(t,n){var r;return e.has(t)?null==(r=e.get(t))||r.add(n):e.set(t,new Set([n])),this},off:function(t,n){return n?e.get(t).delete(n):e.delete(t),this},emit:function(t,n){if("production"!==lo.env.NODE){var r=t;e.has(t)||0===r||console.error("It seems that the menu you are trying to display is not renderer or you have a menu id mismatch.","You used the menu id: "+t)}return e.has(t)&&e.get(t).forEach((function(e){e(n)})),this}}}var go=mo();function vo(){return(0,o.useRef)(new Map).current}var ho={show:function(e){var t=e.id,n=e.event,r=e.props,o=e.position;n.preventDefault&&n.preventDefault(),go.emit(0).emit(t,{event:n.nativeEvent||n,props:r,position:o})},hideAll:function(){go.emit(0)}};function yo(){var e,t,n,r,o=new Map,i=!1;function a(){r[e].node.focus()}function l(){return-1!==e||(c(),!1)}function c(){e+1<r.length?e++:e+1===r.length&&(e=0),i&&s(),a()}function s(){if(l()&&!n){var c=o.get(t),s=c.isRoot,d=c.items,u=c.focusedIndex,f=c.parentNode;t.classList.remove("react-contexify__submenu--is-open"),r=d,t=f,s&&(n=!0,o.clear()),i||(e=u,a())}}return{init:function(t){r=t,e=-1,n=!0},moveDown:c,moveUp:function(){-1===e||0===e?e=r.length-1:e-1<r.length&&e--,i&&s(),a()},openSubmenu:function(){if(l()&&e>=0&&r[e].isSubmenu){var c=Array.from(r[e].submenuRefTracker.values()),s=r[e].node;return o.set(s,{isRoot:n,focusedIndex:e,parentNode:t||s,items:r}),s.classList.add("react-contexify__submenu--is-open"),t=s,c.length>0?(e=0,r=c):i=!0,n=!1,a(),!0}return!1},closeSubmenu:s}}var wo={fade:"fade",flip:"flip",scale:"scale",slide:"slide"},bo=function(){};function _o(e){return"function"==typeof e}function Eo(e){return"string"==typeof e}function So(e,t){return o.Children.map(o.Children.toArray(e).filter(Boolean),(function(e){return(0,o.cloneElement)(e,t)}))}function Ro(e,t){return _o(e)?e(t):e}function Ao(e,t){return _o(t)?co({},e,t(e)):co({},e,t)}var xo=function(e){var t,n,r,a=e.id,l=e.theme,c=e.style,s=e.className,d=e.children,u=e.animation,f=void 0===u?"scale":u,p=e.onHidden,m=void 0===p?bo:p,g=e.onShown,v=void 0===g?bo:g,h=so(e,["id","theme","style","className","children","animation","onHidden","onShown"]),y=(0,o.useReducer)(Ao,{x:0,y:0,visible:!1,triggerEvent:{},propsFromTrigger:null,willLeave:!1}),w=y[0],b=y[1],_=(0,o.useRef)(null),E=(0,o.useRef)(!1),S=(n=w.visible,r=(0,o.useRef)(),(0,o.useEffect)((function(){r.current=n}),[n]),r.current),R=vo(),A=(0,o.useState)((function(){return yo()}))[0];function x(e){var t=e.event,n=e.props,r=e.position;t.stopPropagation();var o=r||function(e){var t={x:0,y:0};return function(e){return"touchend"===e.type}(e)&&e.changedTouches&&e.changedTouches.length>0?(t.x=e.changedTouches[0].clientX,t.y=e.changedTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),(!t.x||t.x<0)&&(t.x=0),(!t.y||t.y<0)&&(t.y=0),t}(t),i=o.x,a=o.y;setTimeout((function(){b({visible:!0,willLeave:!1,x:i,y:a,triggerEvent:t,propsFromTrigger:n})}),0)}function O(e){var t=e;(void 0===t||2!==t.button&&!0!==t.ctrlKey||"contextmenu"===t.type)&&(!function(e){return!(!e||!(Eo(e)||"exit"in e&&e.exit))}(f)?b((function(e){return{visible:!e.visible&&e.visible}})):b((function(e){return{willLeave:e.visible}})))}(0,o.useEffect)((function(){return E.current=!0,go.on(a,x).on(0,O),function(){go.off(a,x).off(0,O)}}),[a]),(0,o.useEffect)((function(){E.current&&w.visible!==S&&(w.visible?v():m())}),[w.visible,m,v]),(0,o.useEffect)((function(){w.visible?A.init(Array.from(R.values())):R.clear()}),[w.visible,A,R]),(0,o.useEffect)((function(){if(w.visible){var e=window,t=e.innerWidth,n=e.innerHeight,r=_.current,o=r.offsetWidth,i=r.offsetHeight,a=w.x,l=w.y;a+o>t&&(a-=a+o-t),l+i>n&&(l-=l+i-n),b({x:a,y:l})}}),[w.visible]),(0,o.useEffect)((function(){function e(e){switch(e.preventDefault(),e.key){case"Enter":A.openSubmenu()||O();break;case"Escape":O();break;case"ArrowUp":A.moveUp();break;case"ArrowDown":A.moveDown();break;case"ArrowRight":A.openSubmenu();break;case"ArrowLeft":A.closeSubmenu()}}return w.visible&&(window.addEventListener("resize",O),window.addEventListener("contextmenu",O),window.addEventListener("click",O),window.addEventListener("scroll",O),window.addEventListener("keydown",e),window.addEventListener("blur",O)),function(){window.removeEventListener("resize",O),window.removeEventListener("contextmenu",O),window.removeEventListener("click",O),window.removeEventListener("scroll",O),window.removeEventListener("keydown",e),window.removeEventListener("blur",O)}}),[w.visible,A]);var C,k,F=w.visible,N=w.triggerEvent,j=w.propsFromTrigger,I=w.x,P=w.y,T=w.willLeave,L=ao("react-contexify",s,((t={})["react-contexify__theme--"+l]=l,t),f?Eo(f)?ao(((C={})["react-contexify__will-enter--"+f]=f&&F&&!T,C["react-contexify__will-leave--"+f+" react-contexify__will-leave--'disabled'"]=f&&F&&T,C)):"enter"in f&&"exit"in f?ao(((k={})["react-contexify__will-enter--"+f.enter]=f.enter&&F&&!T,k["react-contexify__will-leave--"+f.exit+" react-contexify__will-leave--'disabled'"]=f.exit&&F&&T,k)):null:null),D=co({},c,{left:I,top:P,opacity:1});return i().createElement(po,{refTracker:R},F&&i().createElement("div",Object.assign({},h,{className:L,onAnimationEnd:function(){w.willLeave&&w.visible&&b({visible:!1,willLeave:!1})},style:D,ref:_,role:"menu"}),So(d,{propsFromTrigger:j,triggerEvent:N})))},Oo=function(e){var t,n=e.children,r=e.className,o=e.style,a=e.triggerEvent,l=e.data,c=e.propsFromTrigger,s=e.onClick,d=void 0===s?bo:s,u=e.disabled,f=void 0!==u&&u,p=e.hidden,m=void 0!==p&&p,g=so(e,["children","className","style","triggerEvent","data","propsFromTrigger","onClick","disabled","hidden"]),v=fo(),h={data:l,triggerEvent:a,props:c},y=Ro(f,h);if(Ro(m,h))return null;var w=ao("react-contexify__item",r,((t={})["react-contexify__item--disabled"]=y,t));return i().createElement("div",Object.assign({},g,{className:w,style:o,onClick:function(e){h.event=e,y?e.stopPropagation():d(h)},onKeyDown:function(e){"Enter"===e.key&&(h.event=e,d(h))},ref:function(e){e&&!y&&v.set(e,{node:e,isSubmenu:!1})},tabIndex:-1,role:"menuitem","aria-disabled":y}),i().createElement("div",{className:"react-contexify__item__content"},n))};var Co=function(e){var t,n=e.arrow,r=void 0===n?"▶":n,a=e.children,l=e.disabled,c=void 0!==l&&l,s=e.hidden,d=void 0!==s&&s,u=e.label,f=e.className,p=e.triggerEvent,m=e.propsFromTrigger,g=e.style,v=so(e,["arrow","children","disabled","hidden","label","className","triggerEvent","propsFromTrigger","style"]),h=fo(),y=vo(),w=(0,o.useRef)(null),b=(0,o.useState)({left:"100%",top:0,bottom:"initial"}),_=b[0],E=b[1],S={triggerEvent:p,props:m},R=Ro(c,S),A=Ro(d,S);if((0,o.useEffect)((function(){if(w.current){var e=window,t=e.innerWidth,n=e.innerHeight,r=w.current.getBoundingClientRect(),o={};r.right<t?(o.left="100%",o.right=void 0):(o.right="100%",o.left=void 0),r.bottom>n?(o.bottom=0,o.top="initial"):o.bottom="initial",E(o)}}),[]),A)return null;var x=ao("react-contexify__item",f,((t={})["react-contexify__item--disabled"]=R,t)),O=co({},g,_);return i().createElement(po,{refTracker:y},i().createElement("div",Object.assign({},v,{className:x,ref:function(e){e&&!R&&h.set(e,{node:e,isSubmenu:!0,submenuRefTracker:y})},tabIndex:-1,role:"menuitem","aria-haspopup":!0,"aria-disabled":R}),i().createElement("div",{className:"react-contexify__item__content",onClick:function(e){e.stopPropagation()}},u,i().createElement("span",{className:"react-contexify__submenu-arrow"},r)),i().createElement("div",{className:"react-contexify react-contexify__submenu",ref:w,style:O},So(a,{propsFromTrigger:m,triggerEvent:p}))))};function ko(e){return ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(e)}function Fo(e){return function(e){if(Array.isArray(e))return Lo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||To(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function No(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?No(Object(n),!0).forEach((function(t){Io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):No(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Io(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ko(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ko(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ko(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Po(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||To(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function To(e,t){if(e){if("string"==typeof e)return Lo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lo(e,t):void 0}}function Lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Do=React,Bo=Do.useState,Mo=Do.useEffect;function Uo(e){var t=e.files,n=e.setFiles,r=e.allFiles,o=e.setAllFiles,i=e.activeAccount,a=e.initFolders,l=Po(Bo(null),2),c=l[0],s=l[1],d=Po(Bo(null),2),u=d[0],f=d[1],p=Po(Bo(null),2),m=p[0],g=p[1],v=Po(Bo([]),2),h=v[0],y=v[1],w=Po(Bo(!1),2),b=w[0],_=w[1],E=t.map((function(e){return e.id})),S=t.map((function(e){return e.parents[0]}));function R(e){return s(e.id),wp.ajax.post("igd_get_files",{data:{folder:e},nonce:igd.nonce,user_key:igd.userKey}).done((function(t){var n=t.files;n=n.filter((function(e){return qe(e)})),f((function(t){return jo(jo({},t),{},Io({},e.id,n))}))})).fail((function(e){console.log(e)})).always((function(){s(null)}))}Mo((function(){var e={id:"root",accountId:i.id};R(e).then((function(t){y([e])}))}),[]);var A=!!m&&(E.includes(m.id)||S.includes(m.id));m&&["computers","shared","starred","shared-drives"].includes(m.id)&&(A=!0),m&&"root"===m.id&&S.includes("root")&&(A=!0);var x=Qe(!1,i);return a&&(x=a.filter((function(e){return qe(e)}))),React.createElement("div",{className:"move-folders-wrap"},React.createElement("div",{className:"move-folders"},x.map((function(e){var t=e.id,n=e.name,r=e.iconLink,o=h.find((function(e){return e.id===t})),i=!!m&&m.id===t;return React.createElement(React.Fragment,null,React.createElement("div",{key:t,className:"move-folder ".concat(i?"active":""),onClick:function(){g(i?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(o?"down":"right"),onClick:function(n){n.stopPropagation(),y((function(n){return o?n.filter((function(e){return e.id!==t})):[].concat(Fo(n),[e])})),o||u&&u[t]||R(e)}}),React.createElement("img",{src:r,alt:n}),React.createElement("div",{className:"file-item-checkbox ".concat(i?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,n),c===t&&React.createElement("div",{className:"igd-spinner"})),o&&React.createElement(zo,{folders:u[t]?u[t]:[],childFolders:u,selectedFolder:m,setSelectedFolder:g,getFolders:R,openFolders:h,setOpenFolders:y,loading:c}))}))),React.createElement("button",{disabled:A,type:"button",className:"igd-btn ".concat(A?"disabled":"btn-primary"),onClick:function(){_(!0),wp.ajax.post("igd_move_file",{file_ids:E,folder_id:m.id,account_id:m.accountId,nonce:igd.nonce}).done((function(e){if(n((function(e){return e.filter((function(e){return!E.includes(e.id)}))})),r[m.id]){var i=[].concat(Fo(r[m.id]),Fo(t));o((function(e){return jo(jo({},e),{},Io({},m.id,i))}))}Swal.fire({title:wp.i18n.__("Success","integrate-google-drive"),text:wp.i18n._n("File moved successfully","Files moved successfully",E.length,"integrate-google-drive"),icon:"success",toast:!0,showConfirmButton:!1,timer:2e3,timerProgressBar:!0})})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Error moving file(s)","integrate-google-drive"),icon:"error",toast:!0,showConfirmButton:!1,timer:3e3,timerProgressBar:!0})})).always((function(){_(!1)}))}},b&&React.createElement("div",{className:"igd-spinner"}),b?wp.i18n.__("Moving...","integrate-google-drive"):wp.i18n.__("Move","integrate-google-drive")))}function zo(e){var t=e.folders,n=e.childFolders,r=e.selectedFolder,o=e.setSelectedFolder,i=e.getFolders,a=e.openFolders,l=e.setOpenFolders,c=e.loading;return t.length?t.map((function(e){var t=a.find((function(t){return t.id===e.id})),s=!!r&&r.id===e.id;return React.createElement("div",{key:e.id,className:"move-folder-wrap"},React.createElement("div",{className:"move-folder ".concat(s?"active":""),onClick:function(){o(s?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(t?"down":"right"),onClick:function(r){r.stopPropagation(),l(t?function(t){return t.filter((function(t){return t.id!==e.id}))}:function(t){return[].concat(Fo(t),[e])}),t||n&&n[e.id]||i(e)}}," "),React.createElement("img",{src:e.iconLink,alt:e.name}),React.createElement("div",{className:"file-item-checkbox ".concat(s?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,e.name),c===e.id&&React.createElement("div",{className:"igd-spinner"})),t&&n[e.id]&&React.createElement(zo,{folders:n[e.id],childFolders:n,getFolders:i,setSelectedFolder:o,selectedFolder:r,openFolders:a,setOpenFolders:l,loading:c}))})):!c&&React.createElement("div",{className:"move-folder-wrap empty"},React.createElement("i",{className:"dashicons dashicons-warning"}),React.createElement("span",null,wp.i18n.__("No folders found!","integrate-google-drive")))}function Ko(e){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(e)}function Ho(e){return function(e){if(Array.isArray(e))return Jo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Go(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wo(Object(n),!0).forEach((function(t){Qo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ko(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ko(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ko(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||Go(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Go(e,t){if(e){if("string"==typeof e)return Jo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jo(e,t):void 0}}function Jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xo=React,Yo=Xo.useState,Zo=Xo.useEffect;Xo.useContext;function $o(e){var t=e.context,n=t.shortcodeId,r=t.activeAccount,o=t.setAllFiles,i=t.allFiles,a=t.initFolders,l=t.activeFiles,c=t.activeFile,s=t.isOptions,d=t.nonce,u=s?l:[c],f=Vo(Yo(null),2),p=f[0],m=f[1],g=Vo(Yo(null),2),v=g[0],h=g[1],y=Vo(Yo(null),2),w=y[0],b=y[1],_=Vo(Yo([]),2),E=_[0],S=_[1],R=Vo(Yo(!1),2),A=R[0],x=R[1];function O(e){return m(e.id),wp.ajax.post("igd_get_files",{shortcodeId:n,data:{folder:e},nonce:d||igd.nonce}).done((function(t){var n=t.files;n=n.filter((function(e){return qe(e)})),h((function(t){return qo(qo({},t),{},Qo({},e.id,n))}))})).fail((function(e){console.log(e)})).always((function(){m(null)}))}Zo((function(){var e={id:"root",accountId:r.id};O(e).then((function(t){S([e])}))}),[]);var C=!1;w&&["computers","shared","starred","shared-drives"].includes(w.id)&&(C=!0);var k=Qe(!1,r);return a&&(k=a.filter((function(e){return qe(e)}))),React.createElement("div",{className:"move-folders-wrap"},React.createElement("div",{className:"move-folders"},k.map((function(e){var t=e.id,n=e.name,r=e.iconLink,o=E.find((function(e){return e.id===t})),i=!!w&&w.id===t;return React.createElement(React.Fragment,null,React.createElement("div",{key:t,className:"move-folder ".concat(i?"active":""),onClick:function(){b(i?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(o?"down":"right"),onClick:function(n){n.stopPropagation(),S((function(n){return o?n.filter((function(e){return e.id!==t})):[].concat(Ho(n),[e])})),o||v&&v[t]||O(e)}}),React.createElement("img",{src:r,alt:n}),React.createElement("div",{className:"file-item-checkbox ".concat(i?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,n),p===t&&React.createElement("div",{className:"igd-spinner"})),o&&React.createElement(ei,{folders:v[t]?v[t]:[],childFolders:v,selectedFolder:w,setSelectedFolder:b,getFolders:O,openFolders:E,setOpenFolders:S,loading:p}))}))),React.createElement("button",{disabled:C,type:"button",className:"igd-btn ".concat(C?"disabled":"btn-primary"),onClick:function(){x(!0),wp.ajax.post("igd_copy_file",{shortcodeId:n,files:u,folder_id:w.id,nonce:d||igd.nonce}).done((function(e){if(Swal.fire({title:wp.i18n.__("Success","integrate-google-drive"),text:wp.i18n._n("File moved successfully","Files moved successfully",e.length,"integrate-google-drive"),icon:"success",toast:!0,showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),i[w.id]){var t=[].concat(Ho(i[w.id]),Ho(e));o((function(e){return qo(qo({},e),{},Qo({},w.id,t))}))}})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Error copying file(s)","integrate-google-drive"),icon:"error",toast:!0,showConfirmButton:!1,timer:3e3,timerProgressBar:!0})})).always((function(){x(!1)}))}},A&&React.createElement("div",{className:"igd-spinner"}),A?wp.i18n.sprintf(wp.i18n.__("Copying %s files","integrate-google-drive"),u.length):wp.i18n.__("Copy","integrate-google-drive")))}function ei(e){var t=e.folders,n=e.childFolders,r=e.selectedFolder,o=e.setSelectedFolder,i=e.getFolders,a=e.openFolders,l=e.setOpenFolders,c=e.loading;return t.length?t.map((function(e){var t=a.find((function(t){return t.id===e.id})),s=!!r&&r.id===e.id;return React.createElement("div",{key:e.id,className:"move-folder-wrap"},React.createElement("div",{className:"move-folder ".concat(s?"active":""),onClick:function(){o(s?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(t?"down":"right"),onClick:function(r){r.stopPropagation(),l(t?function(t){return t.filter((function(t){return t.id!==e.id}))}:function(t){return[].concat(Ho(t),[e])}),t||n&&n[e.id]||i(e)}}," "),React.createElement("img",{src:e.iconLink,alt:e.name}),React.createElement("div",{className:"file-item-checkbox ".concat(s?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,e.name),c===e.id&&React.createElement("div",{className:"igd-spinner"})),t&&n[e.id]&&React.createElement(ei,{folders:n[e.id],childFolders:n,getFolders:i,setSelectedFolder:o,selectedFolder:r,openFolders:a,setOpenFolders:l,loading:c}))})):!c&&React.createElement("div",{className:"move-folder-wrap empty"},React.createElement("i",{className:"dashicons dashicons-warning"}),React.createElement("span",null,wp.i18n.__("No folders found!","integrate-google-drive")))}function ti(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ni(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ri=React,oi=ri.useState,ii=ri.useEffect;function ai(e){var t=e.file,n=e.isDirectLink,r=e.shortcodeId,o=e.nonce,i=t.id,a=t.name,l=t.accountId,c=t.type;function s(e){var t=jQuery(e.target).parents("#igd-share-modal").find(".share-link input").val();function n(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.focus(),t.select(),document.execCommand("Copy"),t.remove()}function r(){Swal.fire({title:wp.i18n.__("Copied","integrate-google-drive"),text:wp.i18n.__("Link copied to clipboard","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})}navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(t).then((function(){r()})).catch((function(){n(t),r()})):(n(t),r())}var d=it(JSON.stringify({id:i,accountId:l,type:c,name:a})),u=n?"".concat(igd.homeUrl,"/?direct_file=").concat(d):null,f=n?"".concat(igd.homeUrl,"/?direct_file=").concat(d,"&embed=1"):null,p=ti(oi(u),2),m=p[0],g=p[1],v=ti(oi(f),2),h=v[0],y=v[1];ii((function(){n||(Swal.showLoading(),wp.ajax.post("igd_get_share_link",{shortcodeId:r,file:t,nonce:o||igd.nonce}).done((function(e){g(e.viewLink),y(e.embedLink)})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})})).always((function(){Swal.hideLoading()})))}),[]);var w=ti(oi("link"),2),b=w[0],_=w[1],E=igd.settings.channels,S=void 0===E?["shareLink","embedCode","email"]:E;return m&&React.createElement(React.Fragment,null,React.createElement("div",{className:"share-link"},"link"===b?React.createElement("input",{type:"text",value:m,readOnly:!0,onClick:s}):React.createElement("textarea",{readOnly:!0,onClick:function(){document.querySelector(".share-link textarea").select(),document.execCommand("copy"),setTimeout((function(){Swal.fire({title:wp.i18n.__("Copied!","integrate-google-drive"),text:wp.i18n.__("Embed code copied to clipboard.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})}),500)}},'<iframe src="'.concat(h,'" width="100%" height="480" frameBorder="0" allowTransparency="true" allow="encrypted-media" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>'))),React.createElement("div",{className:"share-links"},S.includes("shareLink")&&React.createElement("div",{className:"share-item link",onClick:function(e){_("link"),s(e)}},React.createElement("i",{className:"dashicons dashicons-admin-links"}),React.createElement("span",null,wp.i18n.__("Copy Link","integrate-google-drive"))),S.includes("embedCode")&&React.createElement("div",{className:"share-item embed",onClick:function(){return _("embed")}},React.createElement("i",{className:"dashicons dashicons-editor-code"}),React.createElement("span",null,wp.i18n.__("Embed","integrate-google-drive"))),S.includes("email")&&React.createElement("a",{className:"share-item email",href:"mailto:?subject=".concat(a,"&body=").concat(m),onClick:function(){return _("link")}},React.createElement("i",{className:"dashicons dashicons-email"}),React.createElement("span",null,wp.i18n.__("Email","integrate-google-drive"))),S.includes("facebook")&&React.createElement("a",{className:"share-item facebook",href:"https://www.facebook.com/sharer/sharer.php?u=".concat(m),target:"_blank",onClick:function(){return _("link")}},React.createElement("i",{className:"dashicons dashicons-facebook"}),React.createElement("span",null,wp.i18n.__("Facebook","integrate-google-drive"))),S.includes("twitter")&&React.createElement("a",{className:"share-item twitter",href:"https://twitter.com/intent/tweet?text=".concat(a,"&url=").concat(m),target:"_blank",onClick:function(){return _("link")}},React.createElement("i",{className:"dashicons dashicons-twitter"}),React.createElement("span",null,wp.i18n.__("Twitter","integrate-google-drive"))),S.includes("whatsapp")&&React.createElement("a",{className:"share-item whatsapp",href:"https://wa.me/?text=".concat(m),target:"_blank",onClick:function(){return _("link")}},React.createElement("i",{className:"dashicons dashicons-whatsapp"}),React.createElement("span",null,wp.i18n.__("WhatsApp","integrate-google-drive")))))}function li(e){return li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},li(e)}function ci(e){return function(e){if(Array.isArray(e))return si(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return si(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?di(Object(n),!0).forEach((function(t){fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=li(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=li(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==li(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pi=React.useContext;function mi(){var e=pi(t),n=e.shortcodeId,r=e.activeAccount,o=e.getFiles,i=e.activeFiles,a=e.setActiveFiles,l=e.activeFile,c=e.activeFolder,s=e.permissions,d=e.notifications,u=e.shortcodeBuilderType,f=e.isOptions,p=e.setIsOptions,m=e.isList,g=e.setIsList,v=e.setShowDetails,h=e.setIsUpload,y=e.isShortcodeBuilder,w=e.contextMenuId,b=e.selectAll,_=e.setSelectAll,E=e.files,S=e.setFiles,R=e.setAllFiles,A=e.allFiles,x=e.initFolders,O=e.initParentFolder,C=e.setActiveAccount,k=e.nonce,F="search"===u,N="gallery"===u,j="uploader"===u,I=l&&c&&l.id===c.id,P=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?wp.i18n.__("Direct Link","integrate-google-drive"):wp.i18n.__("Share","integrate-google-drive");Swal.fire({title:t,html:'<div id="igd-share-modal"></div>',didOpen:function(){var t=document.getElementById("igd-share-modal");ReactDOM.render(React.createElement(ai,{file:l,isDirectLink:e,shortcodeId:n,nonce:k}),t)},showCloseButton:!0,showConfirmButton:!1,showCancelButton:!1,customClass:{container:"igd-swal share-modal"}})},T=(null==l?void 0:l.permissions)||{},L=!!T.canEdit,D=!!T.canPreview,B=!!T.canRename;s&&(s.refresh=!0,s.selectAll=s.download&&s.zipDownload);var M=[{key:"doc",title:wp.i18n.__("Google Doc","integrate-google-drive"),icon:"dashicons-media-document"},{key:"sheet",title:wp.i18n.__("Google Sheet","integrate-google-drive"),icon:"dashicons-media-spreadsheet"},{key:"slide",title:wp.i18n.__("Google Slide","integrate-google-drive"),icon:"dashicons-media-interactive"}],U=0;f&&(U=i.filter((function(e){return!s||!qe(e)||s.folderDownload})).length);var z=[{key:"refresh",title:wp.i18n.__("Refresh","integrate-google-drive"),icon:"dashicons-update-alt"},{key:"newFolder",title:wp.i18n.__("New Folder","integrate-google-drive"),icon:"dashicons-open-folder"},{key:"createDoc",title:wp.i18n.__("Create Document","integrate-google-drive"),icon:"dashicons-welcome-add-page"},{key:"upload",title:wp.i18n.__("Upload Files","integrate-google-drive"),icon:"dashicons-cloud-upload"},{key:"preview",title:s&&!1===s.inlinePreview?wp.i18n.__("Preview in a new window","integrate-google-drive"):wp.i18n.__("Preview","integrate-google-drive"),icon:"dashicons-visibility"},{key:"drive",title:wp.i18n.__("Open in Google Drive","integrate-google-drive"),icon:"dashicons-migrate"},{key:"details",title:wp.i18n.__("View Details","integrate-google-drive"),icon:"dashicons-info-outline"},{key:"directLink",title:wp.i18n.__("Direct Link","integrate-google-drive"),icon:"dashicons-admin-links"},{key:"share",title:wp.i18n.__("Share","integrate-google-drive"),icon:"dashicons-share"},{key:"selectAll",title:b?wp.i18n.__("Deselect All","integrate-google-drive"):wp.i18n.__("Select All","integrate-google-drive"),icon:"dashicons-screenoptions"},{key:"edit",title:wp.i18n.__("Edit (New Window)","integrate-google-drive"),icon:"dashicons-edit-page"},{key:"download",title:wp.i18n.__("Download","integrate-google-drive")+"".concat(U>1?" (".concat(U,")"):""),icon:"dashicons-download"},{key:"import",title:wp.i18n.__("Import to Media Library","integrate-google-drive")+"".concat(f&&i.length>1?" (".concat(i.length,")"):""),icon:"dashicons-migrate"},{key:"move",title:wp.i18n.__("Move","integrate-google-drive")+"".concat(f&&i.length>1?" (".concat(i.length,")"):""),icon:"dashicons-editor-break"},{key:"rename",title:wp.i18n.__("Rename","integrate-google-drive"),icon:"dashicons-edit"},{key:"copy",title:wp.i18n.__("Copy","integrate-google-drive")+"".concat(f&&i.length>1?" (".concat(i.length,")"):""),icon:"dashicons-admin-page"},{key:"delete",title:wp.i18n.__("Delete","integrate-google-drive")+"".concat(f&&i.length>1?" (".concat(i.length,")"):""),icon:"dashicons-trash"},{key:"view",title:m?wp.i18n.__("Grid View","integrate-google-drive"):wp.i18n.__("List View","integrate-google-drive"),icon:m?"dashicons-grid-view":"dashicons-list-view"}].filter((function(e){var t=e.key;if((!y||["view","selectAll"].includes(t))&&(!F||["preview","download","view"].includes(t))&&("drive"!==t||!f&&!x)&&(!s||s[t])&&("view"!==t||(!N||y)&&f)&&("edit"!==t||L)&&(!["share","directLink","details"].includes(t)||l)&&("selectAll"!==t||E.length&&f&&!j)&&("preview"!==t||!(!l&&(1!==i.length||qe(i[0]))||l&&(!D||qe(l))||f&&(1!==i.length||qe(i[0]))))&&("copy"!==t||!(f&&!i.length||!f&&l&&qe(l)||f&&i.length&&i.some((function(e){return qe(e)}))))&&("move"!==t||!f||i.length)&&("import"!==t||!(f&&(!i.length||i.some((function(e){return qe(e)})))||l&&qe(l)))&&("rename"!==t||!f||!(i.length>1)&&B)&&("delete"!==t||!(f&&!i.length||l&&!T.canDelete))&&("download"!==t||!(!l&&!i.length||l&&(!l.permissions||!qe(l)&&!l.permissions.canDownload||qe(l)&&s&&(null==s||!s.folderDownload))||f&&!U))&&(I||c&&f&&!l&&!i.length||!["refresh","newFolder","upload","createDoc"].includes(t))&&(!(f&&c&&["computers","shared-drives"].includes(c.id))||["view"].includes(t))&&!(f&&c&&"shared"===c.id&&["newFolder","upload","createDoc","move","delete"].includes(t))&&(!I||i.length||f||["refresh","newFolder","upload","createDoc"].includes(t)))return!0}));return z.length||!s||s.view||p(null),React.createElement(xo,{id:w,className:"igd-context-menu",animation:wo.fade,onHidden:function(){return p(!1)}},z.map((function(t){var u=t.key,y=t.title,w=t.icon;return React.createElement(Oo,{key:u,onClick:function(t){t.data;var y=t.event;t.triggerEvent;if(p(!1),"newFolder"===u)return a([]),void Swal.fire({title:wp.i18n.__("New Folder","integrate-google-drive"),text:wp.i18n.__("Enter new folder name","integrate-google-drive"),input:"text",inputValue:"",inputAttributes:{autocapitalize:"off"},showCancelButton:!1,confirmButtonText:wp.i18n.__("Create","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,customClass:{container:"igd-swal"},preConfirm:function(e){return e?wp.ajax.post("igd_new_folder",{shortcodeId:n,name:e,parent_id:c.id,account_id:c.accountId,nonce:k||igd.nonce}).done((function(e){var t=[].concat(ci(E),[e]);S(t),R((function(e){return ui(ui({},e),{},fi({},c.id,t))})),Swal.close(),Swal.fire({title:"Created!",text:"Folder has been created.",icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})})).fail((function(e){Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:"OK",customClass:{container:"igd-swal"}})})):Swal.showValidationMessage(wp.i18n.__("Please enter a name","integrate-google-drive"))}});if("refresh"!==u)if("upload"!==u)if("edit"!==u)if("share"!==u)if("directLink"!==u)if("preview"!==u)if("drive"!==u)if("download"!==u)if("rename"!==u)if("move"!==u)if("copy"!==u){if("import"===u)return igd.isPro?void function(){var e=f?i.filter((function(e){return!qe(e)})):[l].filter((function(e){return!qe(e)}));Swal.fire({title:wp.i18n.sprintf(wp.i18n._n("Importing %d file","Importing %d files",e.length,"integrate-google-drive"),e.length),text:wp.i18n.__("Please wait...","integrate-google-drive"),icon:"info",showConfirmButton:!1,allowEscapeKey:!1,allowEnterKey:!1,allowOutsideClick:!1,customClass:{container:"igd-swal"},didOpen:function(){Swal.showLoading(),wp.ajax.send("igd_import_media",{data:{files:e,nonce:k||igd.nonce},success:function(e){console.log(e)},error:function(e){console.log(e)},complete:function(){Swal.fire({title:wp.i18n.__("Imported!","integrate-google-drive"),text:wp.i18n.__("File(s) have been imported.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"}})}})}})}():void Tt(wp.i18n.__("Upgrade to PRO to import cloud files to the Media Library.","integrate-google-drive"));if("delete"!==u)return"view"===u?(g(!m),void function(e,t,n){var r=dt(t,n);localStorage.setItem("igd_listing_view_".concat(r),e)}(m?"grid":"list",x,O)):"details"===u?(v(!0),void localStorage.setItem("igd_show_details",1)):void("selectAll"!==u||_((function(e){return!e})));vt({files:E,activeFiles:i,setFiles:S,setAllFiles:R,activeFolder:c,setActiveFiles:a,setActiveAccount:C,isOptions:f,activeFile:l,notifications:d,shortcodeId:n,nonce:k})}else Swal.fire({title:wp.i18n.__("Copy","integrate-google-drive"),text:wp.i18n.__("Select destination","integrate-google-drive"),html:'<div id="igd-copy"></div>',showCancelButton:!1,showConfirmButton:!1,showCloseButton:!0,customClass:{container:"igd-swal igd-copy-swal"},didOpen:function(t){ReactDOM.render(React.createElement($o,{context:e}),document.getElementById("igd-copy"))},willClose:function(){ReactDOM.unmountComponentAtNode(document.getElementById("igd-copy"))}});else Swal.fire({title:wp.i18n.__("Move","integrate-google-drive"),text:wp.i18n.__("Select destination","integrate-google-drive"),html:'<div id="igd-move"></div>',showCancelButton:!1,showConfirmButton:!1,showCloseButton:!0,customClass:{container:"igd-swal igd-move-swal"},didOpen:function(e){var t=document.getElementById("igd-move");ReactDOM.render(React.createElement(Uo,{files:f?i:[l],setFiles:S,allFiles:A,setAllFiles:R,activeAccount:r,initFolders:x}),t)},willClose:function(){var e=document.getElementById("igd-move");ReactDOM.unmountComponentAtNode(e)}});else Swal.fire({title:wp.i18n.__("Rename","integrate-google-drive"),text:wp.i18n.__("Enter new name","integrate-google-drive"),input:"text",inputValue:l.name,inputAttributes:{autocapitalize:"off"},showCancelButton:!1,confirmButtonText:wp.i18n.__("Rename","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,customClass:{container:"igd-swal"},preConfirm:function(e){return e?wp.ajax.post("igd_rename_file",{shortcodeId:n,name:e,id:l.id,accountId:l.accountId,nonce:k||igd.nonce}).done((function(){var t=E.map((function(t){return t.id===l.id?ui(ui({},t),{},{name:e}):t}));S(t),R((function(e){return ui(ui({},e),{},fi({},c.id,t))})),Swal.close(),Swal.fire({title:wp.i18n.__("Renamed!","integrate-google-drive"),text:wp.i18n.__("File has been renamed.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal"}})})).fail((function(e){Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})})):Swal.showValidationMessage(wp.i18n.__("Please enter a name","integrate-google-drive"))}});else{if(l&&l.exportAs&&Object.keys(l.exportAs).length)return;if(I||!l||qe(l))if(1!==i.length||qe(i[0]))!function(){var e=(new Date).getTime(),t=f?i.filter((function(e){return!s||!qe(e)||s.folderDownload})).map((function(e){return e.id})):[l.id],r=f?i[0].accountId:l.accountId,o="".concat(igd.ajaxUrl,"?action=igd_download&file_ids=").concat(it(JSON.stringify(t)),"&request_id=").concat(e,"&accountId=").concat(r,"&shortcodeId=").concat(n,"&nonce=").concat(k||igd.nonce);Swal.fire({title:wp.i18n.__("Download","integrate-google-drive"),html:'<div class="igd-download-wrap"><div id="igd-download-status"></div><div id="igd-download-progress"></div><iframe id="igd-hidden-download" class="igd-hidden" src="'.concat(o,'" ></iframe></div>'),showCancelButton:!1,showConfirmButton:!1,showCloseButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,customClass:{container:"igd-swal igd-download-popup"},didOpen:function(){Swal.showLoading();var t=jQuery("#igd-download-status"),n=jQuery("#igd-download-progress");window.downloadStatusInterval=setInterval((function(){wp.ajax.post("igd_download_status",{id:e,nonce:k||igd.nonce}).done((function(e){if(!document.getElementById("igd-hidden-download"))return clearInterval(window.downloadStatusInterval),void Swal.close();if(!e)return clearInterval(window.downloadStatusInterval),Swal.close(),void Swal.fire({title:wp.i18n.__("Completed!","integrate-google-drive"),text:wp.i18n.__("Download completed","integrate-google-drive"),icon:"success",showConfirmButton:!1,toast:!0,timer:2e3,timerProgressBar:!0,customClass:{container:"igd-swal"}});var r=e.status,o=e.total,i=e.downloaded,a=e.action;"failed"===a?(clearInterval(window.downloadStatusInterval),Swal.close(),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:r,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})):(t.html(r),"downloading"===a&&n.html("".concat(We(i)," of ").concat(We(o)," - ").concat(Math.round(i/o*100),"%")))})).fail((function(e){clearInterval(window.downloadStatusInterval),Swal.close(),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})}))}),1e3)},willClose:function(){clearInterval(window.downloadStatusInterval)}})}();else{var w="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(i[0].id,"&accountId=").concat(i[0].accountId,"&shortcodeId=").concat(n,"&nonce=").concat(k||igd.nonce);window.location.href=w}else{var b="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(l.id,"&accountId=").concat(l.accountId,"&shortcodeId=").concat(n,"&nonce=").concat(k||igd.nonce);window.location.href=b}d&&d.downloadNotification&&wp.ajax.post("igd_notification",{files:I||!l||qe(l)?1!==i.length||qe(i[0])?f?i:[l]:[i[0]]:[l],notifications:d,type:"download",nonce:k||igd.nonce})}else{var F=l||i[0];window.open(F.webViewLink,"_blank").focus()}else{var N=l||i[0];rt(y,N.id,[N],s,d,!1,n,k)}else P(!0);else P();else window.open(l.webViewLink,"_blank").focus();else h(!0);else o(c,"refresh")},data:{action:u},className:"context-menu-item ".concat(u," ").concat(["import"].includes(u)&&!igd.isPro?"disabled":"")},"createDoc"===u?React.createElement(Co,{className:"context-submenu",label:React.createElement("div",{className:"context-submenu-label"},React.createElement("i",{className:"dashicons ".concat(w)}),React.createElement("span",null,y)),arrow:React.createElement("i",{className:"dashicons dashicons-arrow-right"})},M.map((function(e){var t=e.key,r=e.title,o=e.icon;return React.createElement(Oo,{key:t,onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"doc",t=wp.i18n.__("New Document","integrate-google-drive"),r=wp.i18n.__("Enter document name","integrate-google-drive");"sheet"===e?(t=wp.i18n.__("New Spreadsheet","integrate-google-drive"),r=wp.i18n.__("Enter spreadsheet name","integrate-google-drive")):"slide"===e&&(t=wp.i18n.__("New Presentation","integrate-google-drive"),r=wp.i18n.__("Enter presentation name","integrate-google-drive")),Swal.fire({title:t,text:r,input:"text",inputValue:"",inputAttributes:{autocapitalize:"off"},showCancelButton:!1,confirmButtonText:wp.i18n.__("Create","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,customClass:{container:"igd-swal"},preConfirm:function(t){return t?wp.ajax.post("igd_create_doc",{shortcodeId:n,name:t,type:e,folder_id:c.id,account_id:c.accountId,nonce:k||igd.nonce}).done((function(t){var n=[].concat(ci(E),[t]);S(n),R((function(e){return ui(ui({},e),{},fi({},c.id,n))})),Swal.close();var r=wp.i18n.__("Document created","integrate-google-drive"),o=wp.i18n.__("Document created successfully","integrate-google-drive");"sheet"===e?(r=wp.i18n.__("Spreadsheet created","integrate-google-drive"),o=wp.i18n.__("Spreadsheet created successfully","integrate-google-drive")):"slide"===e&&(r=wp.i18n.__("Presentation created","integrate-google-drive"),o=wp.i18n.__("Presentation created successfully","integrate-google-drive")),Swal.fire({title:r,text:o,icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),customClass:{container:"igd-swal"}})})):Swal.showValidationMessage(wp.i18n.__("Please enter a name","integrate-google-drive"))}})}(t)},className:"context-menu-item ".concat(t)},React.createElement("i",{className:"dashicons ".concat(o)}),React.createElement("span",null,r))}))):"download"===u&&l&&l.exportAs&&Object.keys(l.exportAs).length?React.createElement(Co,{className:"context-submenu",label:React.createElement("div",{className:"context-submenu-label"},React.createElement("i",{className:"dashicons ".concat(w)}),React.createElement("span",null,wp.i18n.__("Download as","integrate-google-drive"))),arrow:React.createElement("i",{className:"dashicons dashicons-arrow-right"})},Object.keys(l.exportAs).map((function(e){return React.createElement(Oo,{key:e,className:"context-menu-item ".concat(e),onClick:function(){return function(e){var t=l.exportAs[e].mimetype;window.location.href="".concat(igd.ajaxUrl,"?action=igd_download&id=").concat(l.id,"&accountId=").concat(l.accountId,"&mimetype=").concat(t,"&shortcodeId=").concat(n,"&nonce=").concat(k||igd.nonce)}(e)}},React.createElement("i",{className:"dashicons dashicons-media-text"}),React.createElement("span",null,e))}))):React.createElement(React.Fragment,null,React.createElement("i",{className:"dashicons ".concat(w)}),React.createElement("span",null,y),["import"].includes(u)&&!igd.isPro&&React.createElement("div",{className:"pro-badge"},React.createElement("i",{className:"dashicons dashicons-lock"}),React.createElement("span",null,wp.i18n.__("PRO","integrate-google-drive")))))})))}function gi(){return React.createElement("div",{className:"no-account-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/no-account-placeholder.svg"),alt:"No Accounts"}),React.createElement("span",{className:"placeholder-heading"},wp.i18n.__("You didn't link any account yet.","integrate-google-drive")),React.createElement("span",{className:"placeholder-description"},wp.i18n.__("Please link to a Google Drive account to continue.","integrate-google-drive")),React.createElement("button",{className:"igd-btn add-account-btn",onClick:function(){igd.authUrl?ct():window.location=igd.adminUrl+"/admin.php?page=integrate-google-drive-settings&tab=accounts"}},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/google-icon.png")}),React.createElement("span",null,wp.i18n.__("Sign in with Google","integrate-google-drive"))))}function vi(e){return vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vi(e)}function hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hi(Object(n),!0).forEach((function(t){bi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wi(e){return function(e){if(Array.isArray(e))return Si(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ei(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=vi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||Ei(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(e,t){if(e){if("string"==typeof e)return Si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Si(e,t):void 0}}function Si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ri=React,Ai=Ri.useState,xi=Ri.useEffect,Oi=Ri.useMemo,Ci=Ri.useRef,ki=igd.settings,Fi=ki.rememberLastFolder,Ni=void 0===Fi||Fi,ji=ki.adminLazyLoad,Ii=void 0===ji||ji,Pi=ki.adminLazyLoadType,Ti=void 0===Pi?"pagination":Pi,Li=ki.adminLazyLoadNumber,Di=void 0===Li?100:Li;function Bi(e){var t=e.shortcodeId,n=e.nonce,o=e.initParentFolder,i=e.isShortcodeBuilder,a=e.selectedFolders,l=e.setSelectedFolders,c=e.allFolders,s=e.privateFolders,d=e.initFolders,u=e.filters,f=void 0===u?{}:u,p=e.shortcodeBuilderType,m=e.isList,g=e.showLastModified,v=void 0===g?!p:g,h=e.showFileSizeField,y=void 0===h||h,w=e.fileNumbers,b=e.sort,_=e.permissions,E=e.notifications,S=e.showHeader,R=void 0===S?i||!p:S,A=e.showRefresh,x=void 0===A||A,O=e.showSorting,C=void 0===O||O,k=e.showBreadcrumbs,F=void 0===k||k,N=e.searchBoxText,j=e.galleryLayout,I=e.galleryAspectRatio,P=e.galleryColumns,T=e.galleryHeight,L=e.galleryMargin,D=e.galleryView,B=e.galleryFolderView,M=e.thumbnailCaption,U=e.galleryOverlay,z=e.overlayDisplayType,K=e.galleryOverlayTitle,H=e.galleryOverlayDescription,W=e.galleryOverlaySize,q=e.galleryImageSize,Q=e.galleryCustomSizeWidth,V=e.galleryCustomSizeHeight,G=e.isSelectFiles,J=e.selectionType,X=e.initialSearchTerm,Y=e.isLMS,Z=e.isWooCommerce,$=e.lazyLoad,ee=void 0===$?!!d||Ii:$,te=e.lazyLoadNumber,ne=void 0===te?d?100:Di:te,re=e.lazyLoadType,oe=void 0===re?d?"pagination":Ti:re,ie=e.account,ae=void 0===ie?JSON.parse(at(igd.activeAccount)):ie,le=JSON.parse(at(igd.accounts));!d&&igd.userAccessData&&(o=igd.userAccessData.initParentFolder,d=igd.userAccessData.initFolders);var ce="search"===p&&!i,se="gallery"===p,de="media"===p,ue="uploader"===p;se?f.isGallery=!0:de&&(f.isMedia=!0);var fe=null;!ce&&Ni&&(fe=function(e,t){var n=null,r=document.body.classList.contains("elementor-editor-active"),o=document.body.classList.contains("et-fb"),i=document.body.classList.contains("block-editor-page");if(r||o||i)return n;var a=st(e,t),l=sessionStorage.getItem(a);return l&&(n=JSON.parse(l)).id===(null==t?void 0:t.id)&&(n=null),n}(d,o));var pe,me=_i(Ai(ae),2),ge=me[0],ve=me[1],he=_i(Ai(!ce&&d?d:[]),2),ye=he[0],we=he[1],be=[];!ce&&d&&(be=bi({},(null===(pe=o)||void 0===pe?void 0:pe.id)||"",d));var _e=_i(Ai(be),2),Ee=_e[0],Se=_e[1],Re=_i(Ai([]),2),Ae=Re[0],xe=Re[1],Oe=_i(Ai(null),2),Ce=Oe[0],ke=Oe[1],Fe=_i(Ai(!d&&!o&&!ce),2),Ne=Fe[0],je=Fe[1],Ie=_i(Ai({}),2),Pe=Ie[0],Te=Ie[1],Le=_i(Ai(!1),2),De=Le[0],Be=Le[1],Me=_i(Ai(!1),2),Ue=Me[0],ze=Me[1],Ke=_i(Ai(window.innerWidth<=768),2),He=Ke[0],We=Ke[1],Ve=_i(Ai(!He&&!i&&!d),2),Xe=Ve[0],$e=Ve[1],et=_i(Ai(!1),2),tt=et[0],rt=et[1],ot=_i(Ai(!1),2),lt=ot[0],ct=ot[1],pt=Ci(X),gt=_i(Ai(X),2),vt=gt[0],ht=gt[1],yt=!He&&"1"==localStorage.getItem("igd_show_details")&&!d,wt=_i(Ai(yt),2),bt=wt[0],_t=wt[1],Et=null;d?o&&(Et=o):Et=Qe("root",ge),fe&&(Et=fe);var St=_i(Ai(Et),2),Rt=St[0],At=St[1],xt=localStorage.getItem("igd_sort")?JSON.parse(localStorage.getItem("igd_sort")):{sortBy:"name",sortDirection:"asc"},Ot=_i(Ai(null!=b?b:xt),2),Ct=Ot[0],kt=Ot[1],Ft=function(e,t){var n=dt(e,t);return localStorage.getItem("igd_listing_view_".concat(n))}(d,o);Ft&&(m="list"===Ft);var Nt=_i(Ai(m),2),jt=Nt[0],It=Nt[1],Pt=nt();function Tt(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(ke(null),xe([]),Be(!1),je(r||!0),d){if(!e)return je(!1),At(null),void we(d);s?e.isPrivate=!0:ce&&!d.find((function(t){return t.id===e.id}))&&(e.folders=d)}else e||fe&&fe.accountId===ge.id&&(e=fe),e||(e=Qe("root",ge));"lazy"!==r&&(e.pageNumber=1),wp.ajax.post("igd_get_files",{shortcodeId:t,data:{folder:e,sort:Ct,refresh:"refresh"===r,from_server:i||!!d&&!!o&&o.id===e.id,fileNumbers:w,limit:ee?ne:0,filters:f},nonce:n||igd.nonce}).done((function(t){var n=t.files,i=void 0===n?[]:n,a=t.breadcrumbs,l=t.error,c=t.nextPageNumber,s=void 0===c?0:c,u=t.count;if(l)"refresh"!==r&&(document.querySelector(".igd-swal")?Swal.showValidationMessage(l):Swal.fire({html:l,icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}}));else{i.length&&Ni&&ut(e,d,o),!i.length&&Ni&&ft(d,o),"lazy"===r&&"pagination"!==oe&&Rt&&Rt.id===e.id&&(i=[].concat(wi(ye),wi(i))),(ue||"folders"===J)&&(i=i.filter((function(e){return qe(e)}))),de&&(i=i.filter((function(e){return Ge(e)||qe(e)}))),Y&&(i=i.filter((function(e){return Je(e)||qe(e)}))),se&&(i=i.filter((function(e){return Ye(e)||Je(e)||qe(e)}))),we(i);var f=ee&&"pagination"!==oe,p=u>0&&u>i.length;if(f||p){var m=yi(yi(yi({},e),f&&{pageNumber:s}),p&&{count:u});Se((function(t){return yi(yi({},t),{},bi({},e.id,[].concat(wi(i),[m])))})),e=m}At(e),a&&Te(a)}})).fail((function(t){console.log(t),At(yi(yi({},e),{},{pageNumber:0})),console.log(document.querySelector(".igd-swal")),document.querySelector(".igd-swal")?Swal.showValidationMessage(t):Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:"string"==typeof t?t:wp.i18n.__("Something went wrong! Please try again later.","integrate-google-drive"),icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}})})).always((function(){return je(!1)}))}function Lt(e){var t=e.id;if(ke(null),xe([]),Be(!1),Ee[t]){var n=Ee[t];e=n.find((function(t){return t.id===e.id}))||e,At(e),we(n.filter((function(e){return e.id!==t}))),Ni&&ut(Rt,d,o),Te(function e(t){if(Ze(t,ge)){var r=Qe(t,ge);return bi({},t,r.name)}var o=Object.keys(Pe),i=n.find((function(e){return e.id===t}));if(i){var a=bi({},t,i.name),l=i.parents||[];return!l.length||d&&d.find((function(e){return e.id===t}))?a:yi(yi({},e(l[0])),a)}if(o.includes(t)){var c=o.indexOf(t);return Object.fromEntries(o.slice(0,c+1).map((function(e){return[e,Pe[e]]})))}return{}}(t))}else Tt(e);!d&&igd.showReviewPopup&&setTimeout((function(){!function(){mt.apply(this,arguments)}()}),5e3)}function Dt(e){Be(!0),pt.current=e;var r=Rt?[Rt]:d;je(!0),ke(null),xe([]),ze(!1),wp.ajax.post("igd_search_files",{shortcodeId:t,folders:r,sort:Ct,fileNumbers:w,keyword:e,accountId:ge.id,isPrivate:s,fullTextSearch:null==_?void 0:_.fullTextSearch,filters:f,nonce:n||igd.nonce}).done((function(t){var n=t.files,r=t.error;if(r)Swal.fire({html:r,icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}});else{if(d){var o=d.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));n=[].concat(wi(o),wi(n))}de&&(n=n.filter((function(e){return Ge(e)||qe(e)}))),Y&&(n=n.filter((function(e){return Je(e)||qe(e)}))),se&&(n=n.filter((function(e){return Ye(e)||Je(e)||qe(e)})));var i=new Set;n=n.filter((function(e){return!i.has(e.id)&&(i.add(e.id),!0)})),we(n)}})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:"string"==typeof e?e:wp.i18n.__("Something went wrong! Please try again later.","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",customClass:{container:"igd-swal"}})})).always((function(){je(!1)})),E&&E.searchNotification&&wp.ajax.post("igd_notification",{files:r,keyword:e,notifications:E,type:"search",nonce:n||igd.nonce})}xi((function(){Object.keys(le).length&&(_&&_.allowSearch&&X?Dt(X):ce&&!i||(d||o?Ni&&fe&&Tt(fe,"last"):Tt()))}),[]),xi((function(){if(Pt){je("switch"),Se({});var e={id:"root",accountId:ge.id,name:wp.i18n.__("My Drive","integrate-google-drive")};igd.activeAccount=it(JSON.stringify(ge)),wp.ajax.post("igd_switch_account",{shortcodeId:t,id:ge.id,nonce:n||igd.nonce}).done((function(){Tt(e,"switch")})).fail((function(e){console.log(e)}))}}),[ge.id]),xi((function(){Pt&&(localStorage.setItem("igd_sort",JSON.stringify(Ct)),Tt(Rt,"sort"))}),[Ct]),xi((function(){var e=function(){We(window.innerWidth<768)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),xi((function(){Pt&&o.id&&o.id!==(null==Rt?void 0:Rt.id)&&Lt(o)}),[o]),xi((function(){if(d&&Pe){var e=Object.keys(Pe),t=Rt&&Rt.id?Rt.id:Rt,n=!!e&&e.findIndex((function(e){return e===t}));if(o&&(e.find((function(e){return e===o.id}))&&delete Pe[o.id],e[e.length-1]===o.id&&Te({})),-1!==n)for(var r=function(t){if(d.find((function(n){return n.id===e[t]})))return 1;delete Pe[e[t]]},i=0;i<n&&!r(i);i++);}}),[Pe]),xi((function(){if(Pt)if(i){var e;if(lt){var t=[].concat(wi(a),wi(ye)),n=new Set;e=t.filter((function(e){return!n.has(e.id)&&(n.add(e.id),!0)}))}else e=a.filter((function(e){return!ye.some((function(t){return t.id===e.id}))}));l(e)}else se||xe(lt?_?ye.filter((function(e){return!(qe(e)&&!_.folderDownload)})):ye:[])}),[lt]),xi((function(){Pt&&(ct(!1),xe([]),Be(!1))}),[Rt]);var Bt,Mt=Oi((function(){return"igd-context-menu-".concat(Date.now())}),[]),Ut=(Bt={id:Mt},{show:function(e,t){ho.show({id:(null==t?void 0:t.id)||(null==Bt?void 0:Bt.id),props:(null==t?void 0:t.props)||(null==Bt?void 0:Bt.props),event:e,position:null==t?void 0:t.position})},hideAll:function(){ho.hideAll()}}),zt=Ut.show,Kt=Ut.hideAll;return xi((function(){var e=function(){Kt()},t=document.querySelector(".igd-shortcode-builder-form");return t&&t.addEventListener("scroll",e),function(){t&&t.removeEventListener("scroll",e)}}),[]),Object.keys(le).length?React.createElement(r,{value:{shortcodeId:t,setActiveAccount:ve,activeAccount:ge,activeFiles:Ae,setActiveFiles:xe,activeFile:Ce,setActiveFile:ke,activeFolder:Rt,setActiveFolder:At,permissions:_,notifications:E,shortcodeBuilderType:p,isList:jt,setIsList:It,setShowDetails:_t,setIsUpload:ze,getFiles:Tt,isShortcodeBuilder:i,isMobile:He,allFolders:c,initFolders:d,isSearch:ce,setShowSidebar:$e,sort:Ct,setSort:kt,setFiles:we,setAllFiles:Se,breadcrumbs:Pe,isSearchResults:De,setIsSearchResults:Be,isOptions:tt,setIsOptions:rt,listFiles:Lt,showBreadcrumbs:F,showRefresh:x,showSorting:C,initParentFolder:o,isUpload:Ue,isLoading:Ne,files:ye,allFiles:Ee,selectedFolders:a,setSelectedFolders:l,filters:f,showLastModified:v,showFileSizeField:y,searchBoxText:N,galleryLayout:j,galleryAspectRatio:I,galleryColumns:P,galleryHeight:T,galleryMargin:L,galleryView:D,galleryFolderView:B,thumbnailCaption:M,galleryOverlay:U,overlayDisplayType:z,galleryOverlayTitle:K,galleryOverlayDescription:H,galleryOverlaySize:W,galleryImageSize:q,galleryCustomSizeWidth:Q,galleryCustomSizeHeight:V,show:zt,hideAll:Kt,contextMenuId:Mt,isSelectFiles:G,selectionType:J,selectAll:lt,setSelectAll:ct,searchFiles:Dt,initialSearchTerm:X,searchKeywordRef:pt,searchKeyword:vt,setSearchKeyword:ht,isLMS:Y,isWooCommerce:Z,lazyLoad:ee,lazyLoadNumber:ne,lazyLoadType:oe,nonce:n}},React.createElement("div",{className:"igd-file-browser"},React.createElement(mi,null),(R&&!ce||ce&&(De||!!ye.length))&&React.createElement(qt,null),React.createElement("div",{className:"igd-file-browser-body"},Xe&&React.createElement(en,null),React.createElement(qr,null),!i&&bt&&React.createElement(oo,null)))):d?null:React.createElement(gi,null)}Ni=Ni||igd.isAdmin;var Mi=React,Ui=Mi.useRef,zi=Mi.useEffect;function Ki(e){var t=e.file,n=e.isPlaying,r=e.playNext,o=e.playPrev,i=e.handleDownload,a=e.nextPrevious,l=e.rewindForward,c=e.download,s=e.playableItems,d=e.playlistAutoplay,u=e.showPlaylist,f=e.isLoop,p=e.isOpenPlaylist,m=e.setIsOpenPlaylist,g=e.isShuffle,v=e.setIsLoop,h=e.setIsShuffle,y=e.shortcodeId,w=e.nonce,b=Ui(null),_=Ui(null),E=t||{},S=E.id,R=E.accountId,A=t&&Xe(t),x="".concat(igd.ajaxUrl,"?action=igd_stream&id=").concat(S,"&account_id=").concat(R,"&shortcodeId=").concat(y,"&nonce=").concat(w),O=t&&et(t,"large"),C={controls:["play-large",!!l&&"rewind","play",!!l&&"fast-forward","current-time","progress","duration","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["speed","loop","shuffle","playlist"],speed:{selected:1,options:[.5,.75,1,1.25,1.5,2]},i18n:{shuffle:wp.i18n.__("Shuffle","integrate-google-drive"),loop:wp.i18n.__("Loop","integrate-google-drive"),playlist:wp.i18n.__("Playlist","integrate-google-drive")},keyboard:{focused:!0,global:!0},disableContextMenu:!c};zi((function(){var e=jQuery,t=b.current,n=t.querySelector("video, audio");if(_.current=new Plyr(n,C),a&&s.length>1&&!e(t).find('[data-plyr="prev"]').length){var y=e('<button type="button" class="plyr__controls__item plyr__control" aria-label="Previous" data-plyr="prev"><svg width="18" height="18" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M64 468V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v176.4l195.5-181C352.1 22.3 384 36.6 384 64v384c0 27.4-31.9 41.7-52.5 24.6L136 292.7V468c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12z"/></svg></button>').on("click",(function(){return o()})),w=e('<button type="button"  class="plyr__controls__item plyr__control" aria-label="Next" data-plyr="next" tabindex="0"><svg width="18" height="18" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M384 44v424c0 6.6-5.4 12-12 12h-48c-6.6 0-12-5.4-12-12V291.6l-195.5 181C95.9 489.7 64 475.4 64 448V64c0-27.4 31.9-41.7 52.5-24.6L312 219.3V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12z"/></svg></button>').on("click",(function(){return r()})),E=e(t).find('.plyr__controls [data-plyr="play"]'),S=e(t).find('.plyr__controls [data-plyr="play"]');l&&(E=e(t).find('.plyr__controls [data-plyr="rewind"]'),S=e(t).find('.plyr__controls [data-plyr="fast-forward"]')),y.insertBefore(E),w.insertAfter(S)}var R=e(t).find('.plyr__menu__container > div > div:first-child [role="menu"]'),A=R.parent().attr("id").match(/(\d+)/)[0];if(!e(t).find('[data-plyr-menu="loop"]').length){var x=e('<button data-plyr="settings" type="button" class="plyr__control plyr__control--forward" role="menuitem" data-plyr-menu="loop" aria-haspopup="true"><span> '.concat(wp.i18n.__("Loop","integrate-google-drive"),'  <span class="plyr__menu__value">').concat(f?wp.i18n.__("Enable","integrate-google-drive"):wp.i18n.__("Disable","integrate-google-drive"),"</span> </span></button>")).on("click",(function(){e("#plyr-settings-".concat(A,"-home")).prop("hidden",!0),e("#plyr-settings-".concat(A,"-loop")).prop("hidden",!1)}));R.append(x);var O=e('<button data-plyr="loop" type="button" role="menuitemradio" class="plyr__control" aria-checked="'.concat(f?"true":"false",'" value="enable"><span>').concat(wp.i18n.__("Enable","integrate-google-drive"),"</span></button>")).on("click",(function(){v(!0),e(".plyr__control.plyr__control--back").click(),x.find(".plyr__menu__value").text(wp.i18n.__("Enable","integrate-google-drive")),e(this).attr("aria-checked","true"),e(this).siblings().attr("aria-checked","false")})),k=e('<button data-plyr="loop" type="button" role="menuitemradio" class="plyr__control" aria-checked="'.concat(f?"false":"true",'" value="disable"><span>').concat(wp.i18n.__("Disable","integrate-google-drive"),"</span></button>")).on("click",(function(){v(!1),e(".plyr__control.plyr__control--back").click(),x.find(".plyr__menu__value").text(wp.i18n.__("Disable","integrate-google-drive")),e(this).attr("aria-checked","true"),e(this).siblings().attr("aria-checked","false")}));e("#plyr-settings-".concat(A,'-loop [role="menu"]')).append(O).append(k)}if(!e(t).find('[data-plyr-menu="shuffle"]').length){var F=e('<button data-plyr="settings" type="button" class="plyr__control plyr__control--forward" role="menuitem" data-plyr-menu="shuffle" aria-haspopup="true"><span> '.concat(wp.i18n.__("Shuffle","integrate-google-drive"),' <span class="plyr__menu__value">').concat(g?wp.i18n.__("Enable","integrate-google-drive"):wp.i18n.__("Disable","integrate-google-drive"),"</span> </span></button>")).on("click",(function(){e("#plyr-settings-".concat(A,"-home")).prop("hidden",!0),e("#plyr-settings-".concat(A,"-shuffle")).prop("hidden",!1)}));R.append(F);var N=e('<button data-plyr="loop" type="button" role="menuitemradio" class="plyr__control" aria-checked="'.concat(g?"true":"false",'" value="enable"><span>').concat(wp.i18n.__("Enable","integrate-google-drive"),"</span></button>")).on("click",(function(){h(!0),e(".plyr__control.plyr__control--back").click(),F.find(".plyr__menu__value").text(wp.i18n.__("Enable","integrate-google-drive")),e(this).attr("aria-checked","true"),e(this).siblings().attr("aria-checked","false")})),j=e('<button data-plyr="loop" type="button" role="menuitemradio" class="plyr__control" aria-checked="'.concat(g?"false":"true",'" value="disable"><span>').concat(wp.i18n.__("Disable","integrate-google-drive"),"</span></button>")).on("click",(function(){h(!1),e(".plyr__control.plyr__control--back").click(),F.find(".plyr__menu__value").text(wp.i18n.__("Disable","integrate-google-drive")),e(this).attr("aria-checked","true"),e(this).siblings().attr("aria-checked","false")}));e("#plyr-settings-".concat(A,'-shuffle [role="menu"]')).append(N).append(j)}if(u&&!e(t).find('[data-plyr-menu="playlist"]').length){var I=e('<button data-plyr="settings" type="button" class="plyr__control plyr__control--forward" role="menuitem" data-plyr-menu="playlist" aria-haspopup="true"><span> '.concat(wp.i18n.__("Playlist","integrate-google-drive"),' <span class="plyr__menu__value">').concat(p?wp.i18n.__("Show","integrate-google-drive"):wp.i18n.__("Hide","integrate-google-drive"),"</span> </span> </span></button>")).on("click",(function(){e("#plyr-settings-".concat(A,"-home")).prop("hidden",!0),e("#plyr-settings-".concat(A,"-playlist")).prop("hidden",!1)}));R.append(I);var P=e('<button data-plyr="loop" type="button" role="menuitemradio" class="plyr__control" aria-checked="'.concat(p?"true":"false",'" value="enable"><span>').concat(wp.i18n.__("Show","integrate-google-drive"),"</span></button>")).on("click",(function(){e(t).find('.plyr__controls__item > [data-plyr="settings"]').click(),m(!0),I.find(".plyr__menu__value").text(wp.i18n.__("Show","integrate-google-drive")),e(this).attr("aria-checked","true"),e(this).siblings().attr("aria-checked","false")})),T=e('<button data-plyr="loop" type="button" role="menuitemradio" class="plyr__control" aria-checked="'.concat(p?"false":"true",'" value="disable"><span>').concat(wp.i18n.__("Hide","integrate-google-drive"),"</span></button>")).on("click",(function(){e(t).find('.plyr__controls__item > [data-plyr="settings"]').click(),m(!1),I.find(".plyr__menu__value").text(wp.i18n.__("Hide","integrate-google-drive")),e(this).attr("aria-checked","true"),e(this).siblings().attr("aria-checked","false")}));e("#plyr-settings-".concat(A,'-playlist [role="menu"]')).append(P).append(T)}if(c&&!e(t).find('[data-plyr-menu="download"]').length){var L=e('<button data-plyr="settings" type="button" class="plyr__control" role="menuitem" data-plyr-menu="download" aria-haspopup="true"><span> '.concat(wp.i18n.__("Download","integrate-google-drive")," </span></button>")).on("click",(function(){e(t).find('.plyr__controls__item > [data-plyr="settings"]').click(),i()}));R.append(L)}return _.current.on("ended",(function(){(f||d)&&r(!0)})),function(){_.current.destroy()}}),[t]);var k=nt();zi((function(){k&&_.current&&(n?_.current.play():_.current.pause())}),[n,_.current]);var F=A?'<audio src="'.concat(x,'" controls preload="none"></audio>'):'<video class="igd-player-media-video" src="'.concat(x,'" width="100%" height="100%" controls  poster=').concat(O,' preload="none" ></video>');return React.createElement("div",{className:"igd-player-media-wrap",ref:b,dangerouslySetInnerHTML:{__html:F}})}function Hi(e){var t=e.files,n=e.searchKeywordRef,r=e.setIsActive,o=e.setKeyword,i=e.setError,a=e.setIsSearchResults,l=e.setFiles,c=e.isActive,s=e.initFolders,d=t.length?t.length:wp.i18n.__("No","integrate-google-drive"),u=wp.i18n.sprintf(wp.i18n.__('Search results for "%s": %s items found.',"integrate-google-drive"),"<strong>".concat(n.current,"</strong>"),d);return React.createElement("div",{className:"search-result-info"},React.createElement("span",{dangerouslySetInnerHTML:{__html:u}}),React.createElement("button",{onClick:function(e){r(!c),o(""),i(!1),a(!1),l(s)},className:"clear-button igd-btn btn-warning"},wp.i18n.__("Clear","integrate-google-drive")))}function Wi(e){return function(e){if(Array.isArray(e))return qi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qi=React,Vi=Qi.useRef,Gi=Qi.useEffect;function Ji(e){var t=e.initFolders,n=e.initParentFolder,r=e.sort,o=e.filters,i=e.privateFolders,a=e.setFiles,l=e.fullTextSearch,c=e.initialSearchTerm,s=e.isSearchResults,d=e.setIsSearchResults,u=e.searchKeywordRef,f=e.notifications,p=e.isLoading,m=e.setIsLoading,g=e.keyword,v=e.setKeyword,h=e.error,y=e.setError,w=e.isActive,b=e.setIsActive,_=e.nonce,E=Vi(),S=Vi(null),R=function(e){var c;m(!0),d(!0),u.current=e;var s=n?[n]:t;wp.ajax.post("igd_search_files",{folders:s,sort:r,keyword:e,accountId:null===(c=s[0])||void 0===c?void 0:c.accountId,isPrivate:i,fullTextSearch:l,filters:o,nonce:_||igd.nonce}).done((function(t){var n=t.files,r=t.error;if(r)Swal.fire({html:r,icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),customClass:{container:"igd-swal"}});else{var o=s.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));n=(n=[].concat(Wi(o),Wi(n))).filter((function(e){return qe(e)||Ge(e)})),a(n)}})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:wp.i18n.__("Something went wrong! Please try again later.","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",customClass:{container:"igd-swal"}})})).always((function(){m(!1)})),f&&f.searchNotification&&wp.ajax.post("igd_notification",{files:s,keyword:e,notifications:f,type:"search",nonce:_||igd.nonce})},A=function(e){if(e&&e.preventDefault(),y(!1),!g)return Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Please enter a keyword to search","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",customClass:{container:"igd-swal"}}),void y(!0);R(g)},x=nt();return Gi((function(){if(x&&g&&!(g.length<4))return S.current=setTimeout((function(){A()}),2e3),function(){clearTimeout(S.current)}}),[g]),Gi((function(){E.current.addEventListener("keydown",(function(e){" "===e.key&&e.stopPropagation()}),!0),c&&R(c)}),[]),React.createElement("form",{ref:E,className:"playlist-search ".concat(w?"active":""," ").concat(h?"error":""),onSubmit:A},p&&React.createElement("div",{className:"igd-spinner"}),s&&!p&&React.createElement("div",{className:"search-dismiss",onClick:function(){b(!w),v(""),y(!1),d(!1),a(t)}},React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M1.5 1.5L10.5 10.5M1.5 10.5L10.5 1.5L1.5 10.5Z",stroke:"#BABABA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),React.createElement("input",{type:"text",placeholder:wp.i18n.__("Enter a keyword to search in the playlist","integrate-google-drive"),value:g,onChange:function(e){v(e.target.value)}}),React.createElement("div",{className:"search-submit",onClick:function(){var e;w?A():(b(!0),null===(e=E.current)||void 0===e||e.querySelector("input").focus())}},React.createElement("svg",{width:"18",height:"18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},React.createElement("path",{d:"M508.5 468.9L387.1 347.5c-2.3-2.3-5.3-3.5-8.5-3.5h-13.2c31.5-36.5 50.6-84 50.6-136C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c52 0 99.5-19.1 136-50.6v13.2c0 3.2 1.3 6.2 3.5 8.5l121.4 121.4c4.7 4.7 12.3 4.7 17 0l22.6-22.6c4.7-4.7 4.7-12.3 0-17zM208 368c-88.4 0-160-71.6-160-160S119.6 48 208 48s160 71.6 160 160-71.6 160-160 160z"})),React.createElement(Pe,{id:"search",place:"bottom",effect:"solid",className:"igd-tooltip"})))}function Xi(e){return function(e){if(Array.isArray(e))return $i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||Zi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zi(e,t){if(e){if("string"==typeof e)return $i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$i(e,t):void 0}}function $i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ea=React.useState;function ta(e){var t=e.file,n=e.files,r=e.setFile,o=e.folderFiles,i=e.getFolderFiles,a=e.isSub,l=e.isPlaying,c=e.setIsPlaying,s=e.download,d=e.activeFolder,u=e.setActiveFolder,f=e.playlistThumbnail,p=e.playlistNumber,m=e.allowSearch,g=e.initParentFolder,v=e.initFolders,h=e.filters,y=e.privateFolders,w=e.fullTextSearch,b=e.initialSearchTerm,_=e.sort,E=e.setFiles,S=e.isSearchResults,R=e.setIsSearchResults,A=e.searchKeywordRef,x=e.notifications,O=e.nonce,C=Yi(ea([]),2),k=C[0],F=C[1],N=Yi(ea(!1),2),j=N[0],I=N[1],P=Yi(ea(b),2),T=P[0],L=P[1],D=Yi(ea(!1),2),B=D[0],M=D[1],U=Yi(ea(!!b),2),z=U[0],K=U[1];return React.createElement("div",{className:a?"sub-item":"igd-player-playlist"},!a&&m&&React.createElement(React.Fragment,null,React.createElement(Ji,{initFolders:v,initParentFolder:g,filters:h,sort:_,privateFolders:y,setFiles:E,fullTextSearch:w,initialSearchTerm:b,isSearchResults:S,setIsSearchResults:R,searchKeywordRef:A,isLoading:j,setIsLoading:I,notifications:x,keyword:T,setKeyword:L,error:B,setError:M,isActive:z,setIsActive:K,nonce:O}),S&&!j&&React.createElement(Hi,{files:n,searchKeywordRef:A,setIsActive:K,isActive:z,setKeyword:L,setError:M,setIsSearchResults:R,setFiles:E,initFolders:v})),n.length>0&&n.map((function(e,n){var a=e.id,O=e.name,C=e.size,N=et(e,"custom",{w:64,h:64}),j=qe(e);if(j||Ge(e)){var I=a===d,P=(null==t?void 0:t.id)===a,T=k.find((function(t){return t.id===e.id}));return React.createElement("div",{key:a,className:"playlist-item-wrap"},React.createElement("div",{className:"playlist-item ".concat(P?"active":""),onClick:function(n){if(n.stopPropagation(),j){if(u(!I&&a),F(T?function(t){return t.filter((function(t){return t.id!==e.id}))}:function(t){return[].concat(Xi(t),[e])}),T||o&&o[e.id])return;i(e)}else if(t&&t.id===a)c(!l||"pause"===l);else if(c(!0),r(e),Je(e)){var s=n.target.closest(".igd-player");s&&(s.classList.contains("playlist-bottom")||window.innerWidth<768)&&s.scrollIntoView({behavior:"smooth"})}}},p&&React.createElement("span",{className:"item-index"},String(n+1).padStart(2,"0"),"."),j&&(!I||!!o[a])&&React.createElement("span",{className:"dashicons ".concat(T?"dashicons-arrow-down":"dashicons-arrow-right")}),I&&!o[a]&&React.createElement("div",{className:"igd-spinner"}),f&&React.createElement("img",{src:N,alt:O}),React.createElement("span",{className:"item-name"},O),!j&&s&&!!C&&React.createElement("span",{className:"item-size"},We(C)),!j&&P&&l&&"pause"!==l&&React.createElement("span",{className:"dashicons dashicons-controls-pause"}),!j&&(!P||!l||"pause"===l)&&React.createElement("span",{className:"dashicons dashicons-controls-play"})),T&&!!o[a]&&React.createElement(ta,{isSub:!0,files:o[a],file:t,setFile:r,folderFiles:o,getFolderFiles:i,isPlaying:l,setIsPlaying:c,download:s,activeFolder:d,setActiveFolder:u,playlistThumbnail:f,playlistNumber:p,allowSearch:m,initParentFolder:g,initFolders:v,filters:h,privateFolders:y,fullTextSearch:w,initialSearchTerm:b,sort:_,setFiles:E,isSearchResults:S,setIsSearchResults:R,searchKeywordRef:A,notifications:x}))}})))}function na(e){return na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},na(e)}function ra(e){return function(e){if(Array.isArray(e))return sa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ca(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(n),!0).forEach((function(t){aa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aa(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=na(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=na(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==na(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function la(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||ca(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ca(e,t){if(e){if("string"==typeof e)return sa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sa(e,t):void 0}}function sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var da=React,ua=da.useRef,fa=da.useEffect,pa=da.useState;const ma=function(e){var t=e.initFolders,n=void 0===t?[]:t,r=e.nextPrevious,o=e.rewindForward,i=e.allowEmbedPlayer,a=e.download,l=e.sort,c=e.allowSearch,s=e.initParentFolder,d=e.filters,u=e.privateFolders,f=e.fullTextSearch,p=void 0===f||f,m=e.initialSearchTerm,g=e.showPlaylist,v=void 0===g||g,h=e.openedPlaylist,y=void 0===h||h,w=e.playlistPosition,b=void 0===w?"bottom":w,_=e.notifications,E=e.playlistThumbnail,S=e.playlistAutoplay,R=e.playlistNumber,A=e.nonce,x=e.shortcodeId,O=la(pa(n),2),C=O[0],k=O[1],F=la(pa(n.filter((function(e){return Ge(e)}))),2),N=F[0],j=F[1],I=la(pa(N.length?N[0]:null),2),P=I[0],T=I[1],L=la(pa(null),2),D=L[0],B=L[1],M=la(pa(v&&y),2),U=M[0],z=M[1],K=ua(m),H=la(pa(!1),2),W=H[0],q=H[1];fa((function(){C.length&&j(n.filter((function(e){return!qe(e)})))}),[C]);var Q=la(pa(!1),2),V=Q[0],G=Q[1],J=la(pa({}),2),X=J[0],Y=J[1],Z=P&&Je(P),$=la(pa("true"===localStorage.getItem("igd_is_loop")),2),ee=$[0],te=$[1],ne=la(pa("true"===localStorage.getItem("igd_is_shuffle")),2),re=ne[0],oe=ne[1],ie=P?N.findIndex((function(e){return e.id===P.id})):0,ae=ua(null),le=nt();fa((function(){le&&localStorage.setItem("igd_is_loop",ee?"true":"false")}),[ee]),fa((function(){le&&localStorage.setItem("igd_is_shuffle",re?"true":"false")}),[re]),fa((function(){le&&_&&_.playNotification&&wp.ajax.post("igd_notification",{files:[P],notifications:_,type:"play",nonce:A||igd.nonce})}),[P]);var ce=P&&Xe(P),se=la(pa("lg"),2),de=se[0],ue=se[1];fa((function(){if(ae.current){var e=480,t=768,n=992,r=new ResizeObserver((function(r){var o=r[0].contentRect.width;ue(o<=e?"xs":o<=t?"sm":o<=n?"md":"lg")}));return r.observe(ae.current),function(){r.disconnect()}}}),[ae]);var fe=i&&P&&Je(P)&&P.size>1e8;return fa((function(){fe&&wp.ajax.post("igd_update_file_permission",{shortcodeId:x,file_id:P.id,account_id:P.accountId,nonce:A||igd.nonce})}),[P]),React.createElement("div",{ref:ae,className:"\n                igd-player \n                playlist-".concat(b,"\n                ").concat(Z?"type-video":"type-audio"," \n                ").concat(V?"active":"paused"," \n                ").concat(ee?"is-loop":"","\n                ").concat(U?"is-playlist":"","\n                ").concat(re?"is-shuffle":"","\n                size-").concat(de,"\n            ")},React.createElement("div",{className:"media-wrap"},ce&&React.createElement("div",{className:"current-item"},React.createElement("img",{src:et(P,"small"),alt:P.name}),React.createElement("div",{className:"item-caption"},React.createElement("span",{className:"item-title"},P.name),!!P.description&&React.createElement("span",{className:"item-description"},P.description))),fe&&React.createElement("iframe",{src:"https://drive.google.com/file/d/".concat(P.id,"/preview"),width:"100%",height:"100%",frameBorder:"0",allowFullScreen:!0,referrerPolicy:"no-referrer",allow:"autoplay",sandbox:"allow-scripts allow-same-origin"}),!!P&&!fe&&React.createElement(Ki,{file:P,isPlaying:V,setIsPlaying:G,playNext:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(G(!0),!e||!ee){var t=ie+1<N.length?N[ie+1]:N[0];re&&(t=N[Math.floor(Math.random()*N.length)]),T(t)}},playPrev:function(){G(!0),T(ie-1>=0?N[ie-1]:N[N.length-1])},download:a,showPlaylist:v,nextPrevious:r,rewindForward:o,playableItems:N,handleDownload:function(){var e="".concat(igd.ajaxUrl,"?action=igd_download&shortcodeId=").concat(x,"&id=").concat(P.id,"&accountId=").concat(P.accountId,"&nonce=").concat(A||igd.nonce);window.open(e,"_blank").focus(),_&&_.downloadNotification&&wp.ajax.post("igd_notification",{files:[P],notifications:_,type:"download",nonce:A||igd.nonce})},playlistAutoplay:S,isLoop:ee,setIsLoop:te,isOpenPlaylist:U,setIsOpenPlaylist:z,isShuffle:re,setIsShuffle:oe,shortcodeId:x,nonce:A||igd.nonce})),U&&React.createElement(ta,{file:P,files:C,setFile:T,folderFiles:X,getFolderFiles:function(e){return wp.ajax.post("igd_get_files",{shortcodeId:x,data:{folder:e,sort:l,filters:d},nonce:A||igd.nonce}).done((function(t){var n=t.files;n=n.filter((function(e){return Ge(e)||qe(e)})),Y((function(t){return ia(ia({},t),{},aa({},e.id?e.id:e,n))})),j((function(e){return[].concat(ra(e),ra(n.filter((function(e){return!qe(e)}))))}))}))},isPlaying:V,setIsPlaying:G,download:a,activeFolder:D,setActiveFolder:B,playlistThumbnail:E,playlistNumber:R,allowSearch:c,initParentFolder:s,initFolders:n,filters:d,privateFolders:u,fullTextSearch:p,initialSearchTerm:m,sort:l,setFiles:k,isSearchResults:W,setIsSearchResults:q,searchKeywordRef:K,notifications:_,nonce:A}))};function ga(e){var t=e.initFolders,n=e.slideHeight,r=e.slidesPerPage,o=e.slideAutoplay,i=e.slideAutoplaySpeed,a=e.slideDots,l=e.slideArrows,c=e.download,s=e.preview,d=e.notifications,u=e.sliderImageSize,f=e.sliderCustomSizeWidth,p=e.sliderCustomSizeHeight,m=e.slideGap,g=e.galleryOverlay,v=e.overlayDisplayType,h=e.galleryOverlayTitle,y=e.galleryOverlayDescription,w=e.galleryOverlaySize,b=e.nonce,_=e.shortcodeId,E=function(){var e=r[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"md"];return t.length<e?t.length:e},S={dots:a,arrows:l,speed:500,slidesToShow:E("md"),infinite:!0,initialSlide:0,adaptiveHeight:!0,autoplay:o,autoplaySpeed:parseInt(i),cssEase:"linear",nextArrow:React.createElement("span",{className:"slick-arrow slick-next"},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 320 512"},React.createElement("path",{d:"M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"}))),prevArrow:React.createElement("span",{className:"slick-arrow slick-prev"},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 320 512"},React.createElement("path",{d:"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"}))),responsive:[{breakpoint:576,settings:{slidesToShow:E("xs"),dots:!1}},{breakpoint:768,settings:{slidesToShow:E("sm")}},{breakpoint:992,settings:{slidesToShow:E("md")}},{breakpoint:1200,settings:{slidesToShow:E("lg")}},{breakpoint:2800,settings:{slidesToShow:E("xl")}}]};return React.createElement("div",{className:"igd-slider",style:{"--slide-height":n,"--slide-gap":"".concat(m,"px")}},React.createElement(Slider.default,S,t.map((function(e){var n=e.id,r=e.accountId,o=e.name,i=e.description,a=e.size,l=et(e,u,{w:f,h:p});return React.createElement(React.Fragment,null,React.createElement("div",{className:"slider-img-wrap",onClick:function(e){return function(e,n){s&&rt(e,n,t,{download:c,preview:s,inlinePreview:!0},d,!0,_,b)}(e,n)}},React.createElement("img",{src:l,alt:o,referrerPolicy:"no-referrer",onError:function(e){e.target.src=tt({id:n,accountId:r},"medium")}})),!!g&&React.createElement("div",{className:"igd-gallery-item-overlay type-".concat(v)},!!h&&React.createElement("div",{className:"overlay-title"},o),!!y&&!!i&&React.createElement("p",{className:"overlay-description"},i),!!w&&React.createElement("span",{className:"overlay-size"},We(a))))}))))}function va(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ha(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ha(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ha(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ya=React,wa=ya.useEffect,ba=ya.useState;window.IgdShortcode=function(e){var t=e.data,n=e.isPreview,o=va(ba(!1),2),i=o[0],a=o[1],l=va(ba(""),2),c=l[0],s=l[1],d=t.id,u=t.type,f=t.allFolders,p=t.privateFolders,m=t.folders,g=void 0===m?[]:m,v=t.filters,h=t.galleryLayout,y=void 0===h?"justified":h,w=t.galleryAspectRatio,b=void 0===w?"1/1":w,_=t.galleryColumns,E=void 0===_?{xs:1,sm:2,md:3,lg:4,xl:5}:_,S=t.galleryHeight,R=void 0===S?300:S,A=t.galleryMargin,x=void 0===A?5:A,O=t.galleryView,C=void 0===O?"rounded":O,k=t.galleryFolderView,F=void 0===k?"title":k,N=t.galleryOverlay,j=void 0===N||N,I=t.overlayDisplayType,P=void 0===I?"hover":I,T=t.galleryOverlayTitle,L=void 0===T||T,D=t.galleryOverlayDescription,B=void 0===D||D,M=t.galleryOverlaySize,U=t.galleryImageSize,z=void 0===U?"medium":U,K=t.galleryCustomSizeWidth,H=t.galleryCustomSizeHeight,W=t.view,q=t.lazyLoad,Q=void 0===q||q,V=t.lazyLoadNumber,G=void 0===V?100:V,J=t.lazyLoadType,X=void 0===J?"pagination":J,Y=t.showLastModified,Z=t.showFileSizeField,$=void 0===Z||Z,ee=t.showHeader,te=void 0===ee||ee,ne=t.showRefresh,re=void 0===ne||ne,oe=t.showSorting,ie=void 0===oe||oe,ae=t.showBreadcrumbs,le=void 0===ae||ae,ce=t.searchBoxText,se=void 0===ce?wp.i18n.__("Search for files & content","integrate-google-drive"):ce,de=t.nextPrevious,ue=void 0===de||de,fe=t.rewindForward,pe=void 0!==fe&&fe,me=t.allowEmbedPlayer,ge=t.showPlaylist,ve=void 0===ge||ge,he=t.playlistThumbnail,ye=void 0===he||he,we=t.playlistNumber,be=void 0===we||we,_e=t.playlistAutoplay,Ee=void 0===_e||_e,Se=t.openedPlaylist,Re=void 0===Se||Se,Ae=t.playlistPosition,xe=void 0===Ae?"bottom":Ae,Oe=t.fileNumbers,Ce=t.sort,ke=t.maxFiles,Fe=t.maxFileSize,Ne=t.minFileSize,je=t.notifications,Ie=t.preview,Pe=void 0===Ie||Ie,Te=t.inlinePreview,Le=void 0===Te||Te,De=t.allowPreviewPopout,Be=void 0===De||De,Me=t.directLink,Ue=t.createDoc,ze=t.edit,Ke=t.newFolder,He=t.rename,We=t.details,Ve=t.moveCopy,Je=t.moveCopy,Xe=t.canDelete,Ye=t.upload,Ze=t.download,$e=void 0===Ze||Ze,et=t.folderDownload,tt=t.zipDownload,nt=t.allowShare,rt=t.viewSwitch,it=void 0===rt||rt,at=t.allowSearch,lt=void 0===at?"search"===u:at,ct=t.fullTextSearch,st=void 0===ct||ct,dt=t.initialSearchTerm,ut=void 0===dt?"":dt,ft=t.comment,pt=t.commentMethod,mt=void 0===pt?"facebook":pt,gt=t.photoProof,vt=t.photoProofEmail,ht=t.photoProofMaxSelection,yt=t.enableUploadDescription,wt=t.uploadImmediately,bt=t.isFormUploader,_t=t.isRequired,Et=t.isWooCommerceUploader,St=t.wcItemId,Rt=t.wcProductId,At=t.uploadedFiles,xt=void 0===At?[]:At,Ot=t.initParentFolder,Ct=t.enableFolderUpload,kt=t.overwrite,Ft=t.showUploadLabel,Nt=t.uploadLabelText,jt=void 0===Nt?wp.i18n.__("Upload Files","integrate-google-drive"):Nt,It=t.uploadFileName,Pt=t.showUploadConfirmation,Tt=void 0===Pt||Pt,Lt=t.uploadConfirmationMessage,Dt=void 0===Lt?"<h3>".concat(wp.i18n.__("Upload successful!","integrate-google-drive"),"</h3> <p>").concat(wp.i18n.__("Your file(s) have been uploaded. Thank you for your submission!","integrate-google-drive"),"</p>"):Lt,Bt=t.sliderImageSize,Mt=void 0===Bt?"medium":Bt,Ut=t.sliderCustomSizeWidth,zt=t.sliderCustomSizeHeight,Kt=t.slideDescription,Ht=t.slideHeight,Wt=void 0===Ht?"300px":Ht,qt=t.slidesPerPage,Qt=void 0===qt?{xs:1,sm:2,md:3,lg:4,xl:5}:qt,Vt=t.slidesToScroll,Gt=void 0===Vt?1:Vt,Jt=t.slideAutoplay,Xt=void 0===Jt||Jt,Yt=t.slideAutoplaySpeed,Zt=void 0===Yt?3e3:Yt,$t=t.slideDots,en=void 0===$t||$t,tn=t.slideArrows,nn=void 0===tn||tn,rn=t.slideGap,on=void 0===rn?5:rn,an=t.account,ln=t.nonce,cn=f?Qe():g;return wa((function(){n&&(a(!0),wp.ajax.post("igd_get_shortcode_content",{data:t,nonce:igd.nonce}).done((function(e){return s(e)})).fail((function(e){return console.error(e)})).always((function(){a(!1),setTimeout((function(){ot()}),100)})))}),[n,t]),React.createElement(React.Fragment,null,n&&i&&React.createElement("div",{className:"igd-spinner spinner-large"}),n&&!i&&React.createElement("div",{className:"preview-inner",dangerouslySetInnerHTML:{__html:c}}),!n&&React.createElement(React.Fragment,null,["browser","gallery","search"].includes(u)&&React.createElement(Bi,{shortcodeId:d,account:an,nonce:ln,galleryLayout:y,galleryAspectRatio:b,galleryColumns:E,galleryOverlay:j,overlayDisplayType:P,galleryOverlayTitle:L,galleryOverlayDescription:B,galleryOverlaySize:M,galleryImageSize:z,galleryCustomSizeWidth:K,galleryCustomSizeHeight:H,galleryHeight:R,galleryMargin:x,galleryView:C,galleryFolderView:F,initParentFolder:Ot,allFolders:f,privateFolders:p,initFolders:cn,searchBoxText:se,filters:v,isList:"list"===W,lazyLoad:Q,lazyLoadNumber:G,lazyLoadType:X,showLastModified:Y,showFileSizeField:$,showHeader:te,showRefresh:re,showSorting:ie,showBreadcrumbs:le,fileNumbers:Oe,sort:Ce,shortcodeBuilderType:u,initialSearchTerm:ut,permissions:{preview:Pe,inlinePreview:Le,allowPreviewPopout:Be,directLink:Me,newFolder:Ke,rename:He,move:Je,copy:Ve,upload:Ye,download:$e,folderDownload:et,zipDownload:tt,details:We,view:it,delete:Xe,share:nt,allowSearch:lt,createDoc:Ue,edit:ze,fullTextSearch:st,comment:ft,commentMethod:mt,photoProof:gt,photoProofEmail:vt,photoProofMaxSelection:ht},notifications:je}),"slider"===u&&React.createElement(ga,{initFolders:cn,slideDescription:Kt,slideHeight:Wt,slidesPerPage:Qt,slidesToScroll:Gt,slideAutoplay:Xt,slideAutoplaySpeed:Zt,slideDots:en,slideArrows:nn,download:t.download,preview:t.preview,notifications:je,sliderImageSize:Mt,sliderCustomSizeWidth:Ut,sliderCustomSizeHeight:zt,slideGap:on,galleryOverlay:j,overlayDisplayType:P,galleryOverlayTitle:L,galleryOverlayDescription:B,galleryOverlaySize:M,nonce:ln||igd.nonce,shortcodeId:d}),"uploader"===u&&React.createElement(r,{value:{shortcodeId:d,account:an,folders:g,filters:v,maxFiles:ke,maxFileSize:Fe,minFileSize:Ne,enableFolderUpload:Ct,isFormUploader:bt,isRequired:_t,showUploadLabel:Ft,uploadLabelText:jt,uploadFileName:It,isWooCommerceUploader:Et,wcItemId:St,wcProductId:Rt,notifications:je,initUploadedFiles:xt,enableUploadDescription:yt,uploadImmediately:wt,overwrite:kt,showUploadConfirmation:Tt,uploadConfirmationMessage:Dt,nonce:ln}},React.createElement(gn,null)),"media"===u&&React.createElement(ma,{initParentFolder:Ot,initFolders:cn.filter((function(e){return Ge(e)||qe(e)})),nextPrevious:ue,rewindForward:pe,allowEmbedPlayer:me,showPlaylist:ve,playlistThumbnail:ye,playlistNumber:be,playlistAutoplay:Ee,openedPlaylist:Re,playlistPosition:xe,download:t.download,sort:Ce,filters:v,privateFolders:p,allowSearch:lt,fullTextSearch:st,initialSearchTerm:ut,notifications:je,nonce:ln,shortcodeId:d})))},window.initShortcode=ot,function(e){var t={init:function(){ot(),e(window).on("elementor/frontend/init",(function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_browser.default",ot),window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_uploader.default",ot),window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_gallery.default",ot),window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_slider.default",ot),window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_media.default",ot),window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_search.default",ot),window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_embed.default",ot),window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_download.default",ot),window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_view.default",ot),window.elementorFrontend.hooks.addAction("frontend/element_ready/igd_shortcodes.default",ot),window.elementorFrontend.hooks.addAction("frontend/element_ready/shortcode.default",ot),window.elementorFrontend.hooks.addAction("frontend/element_ready/form.default",ot),window.elementorFrontend.hooks.addAction("frontend/element_ready/mf-igd-uploader.default",ot),window.elementorFrontend.hooks.addAction("frontend/element_ready/text-editor.default",ot)})),e(document).on("click",".igd-view-link[data-id], .igd-download-link[data-id]",t.sendNotification)},ready:function(){e(document).on("change",".nf-element.upload-file-list",(function(){var t=e(this).val(),n=parseInt(e(this).data("min-files")),r=parseInt(e(this).data("field-id")),o="min-files-error";if(n>0){var i=[];try{i=t.split("), ")}catch(e){console.log(e)}if(i.length<n){var a=wp.i18n.sprintf(wp.i18n.__("Please upload at least %s files.","integrate-google-drive"),n);nfRadio.channel("fields").request("add:error",r,o,a)}else nfRadio.channel("fields").request("remove:error",r,o)}})),e(document).on("click",".igd-wc-upload-wrap .upload-button",(function(){e(this).toggleClass("active")})),e(document.body).on("updated_wc_div",(function(){ot()})),e(document).on("gform_post_render",(function(e,t){ot()}))},sendNotification:function(){var t=e(this).hasClass("igd-view-link")?"view":"download",n=e(this).data("id"),r=e(this).data("account-id"),o=e(this).data("notification-email"),i=e(this).data("skip-current-user-notification");n&&wp.ajax.post("igd_send_view_download_notification",{id:n,accountId:r,type:t,notificationEmail:o,skipCurrentUserNotification:i,nonce:igd.nonce})}};t.init(),e(document).ready(t.ready)}(jQuery)})()})();