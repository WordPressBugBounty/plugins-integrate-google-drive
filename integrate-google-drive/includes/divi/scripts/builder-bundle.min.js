!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=3)}([function(e,t){},function(e,t){},function(e,t){e.exports=React},function(e,t,n){n(4),e.exports=n(5)},function(e,t,n){"use strict"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),r=n.n(o),i=n(7),a=n(9);window.wp.components||(window.wp.components=window.parent.wp.components),r()(window).on("et_builder_api_ready",function(e,t){t.registerModules(i.a),t.registerModalFields(a.a)})},function(e,t){e.exports=jQuery},function(e,t,n){"use strict";var o=n(8);t.a=[o.a]},function(e,t,n){"use strict";var o=n(2),r=n.n(o),i=n(0);n.n(i);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=window.parent,u=window.igd.nonce,d=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=(t.__proto__||Object.getPrototypeOf(t)).call(this,e),n=!r||"object"!==a(r)&&"function"!==typeof r?l(o):r,Object.defineProperty(l(n),"getShortcodeContent",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=n.props.id;e&&(n.setState({isLoading:!0}),s.wp.ajax.post("igd_get_shortcode_content",{id:e,nonce:u}).done(function(e){n.setState({content:e})}).fail(function(e){console.log(e)}).always(function(){n.setState({isLoading:!1}),setTimeout(function(){window.initShortcode()},100)}))}}),n.state={isLoading:!1,content:""},n.getShortcodeContent=n.getShortcodeContent.bind(l(n)),n}var n,i,d;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){this.props.id&&this.getShortcodeContent()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.id,o=t.show_preview,r=e.id,i=e.show_preview,a="on"===o;(n&&n!==r&&a||a&&"on"!==i)&&this.getShortcodeContent()}},{key:"render",value:function(){var e=window,t=e.igd,n=e.wp,o=this.state,i=o.isLoading,a=o.content,c=this.props,l=c.id,s=c.show_preview;return r.a.createElement("div",{className:"igd-divi-wrap"},(!l&&!i||"on"!==s)&&r.a.createElement("div",{className:"igd-module-placeholder"},r.a.createElement("div",{className:"module-icon icon-shortcodes"},r.a.createElement("img",{src:"".concat(t.pluginUrl,"/assets/images/shortcode-builder/types/shortcodes.svg"),alt:"Module Icon"})),r.a.createElement("h2",{className:"title"},n.i18n.__("Google Drive Modules","integrate-google-drive")),r.a.createElement("h3",{className:"subtitle"},n.i18n.__("Configure Module","integrate-google-drive")),r.a.createElement("p",{className:"description"},n.i18n.__("Please choose a saved module or create a new one from this module settings.","integrate-google-drive")),l&&"on"!==s&&r.a.createElement("code",null,'[integrate_google_drive id="',l,'"]'),r.a.createElement("p",{className:"description help"},n.i18n.__("Double click to configure the module.","integrate-google-drive"))),"on"===s&&i&&r.a.createElement("div",{className:"igd-spinner spinner-large"}),!i&&l>0&&"on"===s&&a&&r.a.createElement("div",{className:"preview-inner",dangerouslySetInnerHTML:{__html:a}}))}}])&&c(n.prototype,i),d&&c(n,d),t}();Object.defineProperty(d,"slug",{configurable:!0,enumerable:!0,writable:!0,value:"igd_shortcodes"}),t.a=d},function(e,t,n){"use strict";var o=n(10);t.a=[o.a]},function(e,t,n){"use strict";var o=n(2),r=n.n(o),i=n(1);n.n(i);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=window.parent,d=window.igd.nonce,p=function(e){function t(e){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=(t.__proto__||Object.getPrototypeOf(t)).call(this,e),n=!i||"object"!==a(i)&&"function"!==typeof i?s(o):i,Object.defineProperty(s(n),"fetchShortcodes",{configurable:!0,enumerable:!0,writable:!0,value:function(){u.wp.ajax.post("igd_get_shortcodes",{nonce:d}).done(function(e){var t=e.shortcodes;n.setState({isLoading:!1,shortcodes:t||[]})})}}),Object.defineProperty(s(n),"handleChange",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=n.props,r=o.name;(0,o._onChange)(r,e),t&&!n.state.shortcodes.find(function(t){return t.id===e})&&n.setState(function(e){return{shortcodes:c(e.shortcodes).concat([t])}})}}),Object.defineProperty(s(n),"openModuleBuilder",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=!1;e&&(t=e.currentTarget.classList.contains("btn-add-new"));var o=n.props.value,i=u.Swal,a=u.ReactDOM,c=u.ModuleBuilder,l=u.document;i.fire({html:'<div id="igd-divi" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,allowOutsideClick:!1,customClass:{container:"igd-swal igd-module-builder-modal-container"},didOpen:function(){a.render(r.a.createElement(c,{isModuleBuilder:{type:"post",id:n.props.fieldDefinition.post_id||""},addType:t?"init":"",editId:o,onUpdate:function(e,t){n.handleChange(e,t),i.close()}}),l.getElementById("igd-divi"))},willClose:function(){a.unmountComponentAtNode(l.getElementById("igd-divi"))}})}}),n.state={isLoading:!0,shortcodes:[]},n}var n,i,p;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){this.fetchShortcodes()}},{key:"render",value:function(){var e=(window.wp.components||u.wp.components).Button,t=this.props,n=t.value,o=t.name,i=t._onChange,a=this.state,c=a.shortcodes,l=a.isLoading,s=u.wp;return r.a.createElement("div",{className:"igd-configure-wrap"},r.a.createElement("label",{htmlFor:"igd-shortcode-select",className:"igd-label"},s.i18n.__("Select shortcode","integrate-google-drive")),r.a.createElement("select",{id:"igd-shortcode-select",className:"igd-native-select",value:n||"",onChange:function(e){return i(o,e.target.value)},disabled:l},r.a.createElement("option",{value:""},s.i18n.__("Select shortcode","integrate-google-drive")),c.map(function(e){var t=e.id,n=e.title;return r.a.createElement("option",{key:t,value:t},n)})),r.a.createElement("small",{className:"igd-help-text"},s.i18n.__("Select an existing module or create a new one.","integrate-google-drive")),r.a.createElement(e,{isPrimary:!0,icon:n?"admin-generic":"plus",onClick:this.openModuleBuilder,className:"igd-btn btn-primary ".concat(n?"btn-configure":"btn-add-new"),text:n?s.i18n.__("Configure","integrate-google-drive"):s.i18n.__("Add New Module","integrate-google-drive")}))}}])&&l(n.prototype,i),p&&l(n,p),t}();Object.defineProperty(p,"slug",{configurable:!0,enumerable:!0,writable:!0,value:"igd_configure"}),t.a=p}]);